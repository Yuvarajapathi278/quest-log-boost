const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StickerSystem-4_yQT6X6.js","assets/react-tKylJNJs.js","assets/@supabase-Dm6_sQLe.js","assets/isows-nSfPKTFW.js","assets/@radix-ui-B0slBGA2.js","assets/react-dom-BqfXY8Zn.js","assets/scheduler-CzFDRTuY.js","assets/@floating-ui-CXn0x4Y2.js","assets/aria-hidden-DQ5UC2Eg.js","assets/react-remove-scroll-DMbL1aI1.js","assets/tslib-CDuPK5Eb.js","assets/react-remove-scroll-bar-C88XqFWv.js","assets/react-style-singleton-BxwF0qbj.js","assets/get-nonce-C-Z93AgS.js","assets/use-sidecar-B9E69UcY.js","assets/use-callback-ref-DxE-_Qmu.js","assets/class-variance-authority-Dp3B9jqt.js","assets/clsx-B-dksMZM.js","assets/tailwind-merge-Dnoi3Axr.js","assets/lucide-react-D3tdCwux.js","assets/next-themes-ChSZ-6O0.js","assets/sonner-Bl1BxlO8.js","assets/@tanstack-DDB6nPw5.js","assets/react-router-dom-Bo8KrwcX.js","assets/react-router-CZlckSKa.js","assets/@remix-run-D5JSj-5s.js","assets/canvas-confetti-BxKCmZ95.js"])))=>i.map(i=>d[i]);
import{r as o,j as e,R as lt}from"./react-tKylJNJs.js";import{c as ct}from"./react-dom-BqfXY8Zn.js";import{V as Ne,R as be,A as we,C as ke,T as Se,D as Te,P as dt,a as Ce,b as ut,S as mt,c as _e,L as Re,d as Ie,e as De,f as xt,g as Pe,I as pt,h as Ee,i as Ae,j as ft,k as Oe,l as gt,m as Fe,n as Le,o as ht,p as yt,q as qe,r as vt,s as jt,t as Ue,u as Nt,v as Me,w as bt}from"./@radix-ui-B0slBGA2.js";import{c as J}from"./class-variance-authority-Dp3B9jqt.js";import{c as wt}from"./clsx-B-dksMZM.js";import{t as kt}from"./tailwind-merge-Dnoi3Axr.js";import{X as ze,Z as X,M as fe,L as ge,U as St,C as Be,a as Tt,b as Ct,T as Y,F as ce,S as de,c as Xe,d as z,e as _t,f as Rt,g as It,h as Dt,i as Pt,j as Et,P as At,k as Ot,l as he,m as se,n as ye,R as Ft,o as Lt}from"./lucide-react-D3tdCwux.js";import{j as qt}from"./next-themes-ChSZ-6O0.js";import{T as Ut}from"./sonner-Bl1BxlO8.js";import{u as Mt,a as ae,b as U,Q as zt,c as Bt}from"./@tanstack-DDB6nPw5.js";import{B as Xt}from"./react-router-dom-Bo8KrwcX.js";import{c as Qt,_ as Vt}from"./@supabase-Dm6_sQLe.js";import{c as re}from"./canvas-confetti-BxKCmZ95.js";import{u as Gt,a as $t,b as ve}from"./react-router-CZlckSKa.js";import"./scheduler-CzFDRTuY.js";import"./@floating-ui-CXn0x4Y2.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-DMbL1aI1.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C88XqFWv.js";import"./react-style-singleton-BxwF0qbj.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-B9E69UcY.js";import"./use-callback-ref-DxE-_Qmu.js";import"./@remix-run-D5JSj-5s.js";import"./isows-nSfPKTFW.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();const Yt=1,Kt=1e6;let oe=0;function Wt(){return oe=(oe+1)%Number.MAX_SAFE_INTEGER,oe.toString()}const ie=new Map,je=t=>{if(ie.has(t))return;const s=setTimeout(()=>{ie.delete(t),B({type:"REMOVE_TOAST",toastId:t})},Kt);ie.set(t,s)},Jt=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,Yt)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?je(a):t.toasts.forEach(i=>{je(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===a||a===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},G=[];let $={toasts:[]};function B(t){$=Jt($,t),G.forEach(s=>{s($)})}function Ht({...t}){const s=Wt(),a=l=>B({type:"UPDATE_TOAST",toast:{...l,id:s}}),i=()=>B({type:"DISMISS_TOAST",toastId:s});return B({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:l=>{l||i()}}}),{id:s,dismiss:i,update:a}}function Q(){const[t,s]=o.useState($);return o.useEffect(()=>(G.push(s),()=>{const a=G.indexOf(s);a>-1&&G.splice(a,1)}),[t]),{...t,toast:Ht,dismiss:a=>B({type:"DISMISS_TOAST",toastId:a})}}function x(...t){return kt(wt(t))}const Zt=dt,Qe=o.forwardRef(({className:t,...s},a)=>e.jsx(Ne,{ref:a,className:x("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Qe.displayName=Ne.displayName;const es=J("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ve=o.forwardRef(({className:t,variant:s,...a},i)=>e.jsx(be,{ref:i,className:x(es({variant:s}),t),...a}));Ve.displayName=be.displayName;const ts=o.forwardRef(({className:t,...s},a)=>e.jsx(we,{ref:a,className:x("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));ts.displayName=we.displayName;const Ge=o.forwardRef(({className:t,...s},a)=>e.jsx(ke,{ref:a,className:x("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(ze,{className:"h-4 w-4"})}));Ge.displayName=ke.displayName;const $e=o.forwardRef(({className:t,...s},a)=>e.jsx(Se,{ref:a,className:x("text-sm font-semibold",t),...s}));$e.displayName=Se.displayName;const Ye=o.forwardRef(({className:t,...s},a)=>e.jsx(Te,{ref:a,className:x("text-sm opacity-90",t),...s}));Ye.displayName=Te.displayName;function ss(){const{toasts:t}=Q();return e.jsxs(Zt,{children:[t.map(function({id:s,title:a,description:i,action:l,...c}){return e.jsxs(Ve,{...c,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx($e,{children:a}),i&&e.jsx(Ye,{children:i})]}),l,e.jsx(Ge,{})]},s)}),e.jsx(Qe,{})]})}const as=({...t})=>{const{theme:s="system"}=qt();return e.jsx(Ut,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},rs=ut,os=o.forwardRef(({className:t,sideOffset:s=4,...a},i)=>e.jsx(Ce,{ref:i,sideOffset:s,className:x("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));os.displayName=Ce.displayName;const Ke=o.createContext(void 0),is=({children:t})=>{const[s,a]=o.useState(()=>localStorage.getItem("taskforge-theme")||"dark");o.useEffect(()=>{localStorage.setItem("taskforge-theme",s),document.documentElement.classList.toggle("dark",s==="dark")},[s]);const i=()=>{a(l=>l==="dark"?"light":"dark")};return e.jsx(Ke.Provider,{value:{theme:s,toggleTheme:i},children:t})},ns=()=>{const t=o.useContext(Ke);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},ls="https://epyugyfamvfpjjpsqeok.supabase.co",cs="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVweXVneWZhbXZmcGpqcHNxZW9rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5NDc5NzUsImV4cCI6MjA2ODUyMzk3NX0.DYwkG9WP-J3sPS56lAuSxndJBwXDgyzuD33r_bfTKc0",h=Qt(ls,cs,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),We=o.createContext({user:null,session:null,loading:!0,signOut:async()=>{}}),xe=()=>{const t=o.useContext(We);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},ds=({children:t})=>{const[s,a]=o.useState(null),[i,l]=o.useState(null),[c,f]=o.useState(!0),{toast:N}=Q();o.useEffect(()=>{console.log("Setting up auth listener...");const{data:{subscription:v}}=h.auth.onAuthStateChange(async(g,n)=>{var p,b,D;if(console.log("Auth state changed:",g,(p=n==null?void 0:n.user)==null?void 0:p.email),l(n),a((n==null?void 0:n.user)??null),f(!1),g==="SIGNED_IN"&&(console.log("User signed in successfully"),n!=null&&n.user)){const{data:P}=await h.from("profiles").select("*").eq("id",n.user.id).single();P||await h.from("profiles").insert([{id:n.user.id,username:((b=n.user.user_metadata)==null?void 0:b.username)||((D=n.user.email)==null?void 0:D.split("@")[0])||"User"}])}g==="SIGNED_OUT"&&console.log("User signed out")});return(async()=>{var g;try{const{data:{session:n},error:p}=await h.auth.getSession();p?console.error("Error getting session:",p):(console.log("Initial session:",(g=n==null?void 0:n.user)==null?void 0:g.email),l(n),a((n==null?void 0:n.user)??null))}catch(n){console.error("Error initializing auth:",n)}finally{f(!1)}})(),()=>{console.log("Cleaning up auth listener"),v.unsubscribe()}},[]);const R={user:s,session:i,loading:c,signOut:async()=>{try{f(!0);const{error:v}=await h.auth.signOut();if(v)throw v;N({title:"Signed Out",description:"See you next time, warrior! ðŸ‘‹"})}catch(v){console.error("Sign out error:",v),N({title:"Sign Out Failed",description:v.message,variant:"destructive"})}finally{f(!1)}}};return e.jsx(We.Provider,{value:R,children:t})},us=J("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=o.forwardRef(({className:t,variant:s,size:a,asChild:i=!1,...l},c)=>{const f=i?mt:"button";return e.jsx(f,{className:x(us({variant:s,size:a,className:t})),ref:c,...l})});j.displayName="Button";const k=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:x("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));k.displayName="Card";const K=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:x("flex flex-col space-y-1.5 p-6",t),...s}));K.displayName="CardHeader";const W=o.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:x("text-2xl font-semibold leading-none tracking-tight",t),...s}));W.displayName="CardTitle";const ms=o.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:x("text-sm text-muted-foreground",t),...s}));ms.displayName="CardDescription";const S=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:x("p-6 pt-0",t),...s}));S.displayName="CardContent";const xs=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:x("flex items-center p-6 pt-0",t),...s}));xs.displayName="CardFooter";const _=o.forwardRef(({className:t,type:s,...a},i)=>e.jsx("input",{type:s,className:x("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,...a}));_.displayName="Input";const ps=J("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),O=o.forwardRef(({className:t,...s},a)=>e.jsx(_e,{ref:a,className:x(ps(),t),...s}));O.displayName=_e.displayName;const fs=xt,Je=o.forwardRef(({className:t,...s},a)=>e.jsx(Re,{ref:a,className:x("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Je.displayName=Re.displayName;const ue=o.forwardRef(({className:t,...s},a)=>e.jsx(Ie,{ref:a,className:x("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));ue.displayName=Ie.displayName;const me=o.forwardRef(({className:t,...s},a)=>e.jsx(De,{ref:a,className:x("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));me.displayName=De.displayName;const gs=({onAuthSuccess:t})=>{const[s,a]=o.useState(""),[i,l]=o.useState(""),[c,f]=o.useState(""),[N,T]=o.useState(!1),[R,v]=o.useState(!1),{toast:C}=Q(),g=async()=>{if(!s||!i||!c){C({title:"Missing Information",description:"Please fill in all fields.",variant:"destructive"});return}T(!0);try{const{error:p}=await h.auth.signUp({email:s,password:i,options:{emailRedirectTo:`${window.location.origin}/`,data:{username:c}}});if(p)throw p;C({title:"Welcome to TaskForge! ðŸŽ‰",description:"Account created successfully! You can now start your quest!"}),t()}catch(p){C({title:"Sign Up Failed",description:p.message,variant:"destructive"})}finally{T(!1)}},n=async()=>{if(!s||!i){C({title:"Missing Information",description:"Please enter email and password.",variant:"destructive"});return}T(!0);try{const{error:p}=await h.auth.signInWithPassword({email:s,password:i});if(p)throw p;C({title:"Welcome Back! âš¡",description:"Successfully signed in to TaskForge!"}),t()}catch(p){C({title:"Sign In Failed",description:p.message,variant:"destructive"})}finally{T(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary/5 via-background to-accent/5",children:e.jsxs(k,{className:"w-full max-w-md glass-card animate-fade-in",children:[e.jsxs(K,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"p-3 rounded-full primary-gradient animate-pulse",children:e.jsx(X,{className:"h-8 w-8 text-white"})})}),e.jsx(W,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"TaskForge"}),e.jsx("p",{className:"text-muted-foreground",children:"Level up your productivity with gamified tasks"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),e.jsxs(fs,{defaultValue:"signin",className:"w-full",children:[e.jsxs(Je,{className:"grid w-full grid-cols-2",children:[e.jsx(ue,{value:"signin",children:"Sign In"}),e.jsx(ue,{value:"signup",children:"Sign Up"})]}),e.jsxs(me,{value:"signin",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"signin-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"signin-email",type:"email",placeholder:"Enter your email",value:s,onChange:p=>a(p.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"signin-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"signin-password",type:"password",placeholder:"Enter your password",value:i,onChange:p=>l(p.target.value),className:"pl-10"})]})]}),e.jsx(j,{onClick:n,disabled:N||R,className:"w-full primary-gradient h-12 text-base",children:N?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Signing In..."})]}):"Sign In"})]}),e.jsxs(me,{value:"signup",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"signup-username",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(St,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"signup-username",type:"text",placeholder:"Choose a username",value:c,onChange:p=>f(p.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"signup-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"signup-email",type:"email",placeholder:"Enter your email",value:s,onChange:p=>a(p.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"signup-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"signup-password",type:"password",placeholder:"Create a password",value:i,onChange:p=>l(p.target.value),className:"pl-10"})]})]}),e.jsx(j,{onClick:g,disabled:N||R,className:"w-full primary-gradient h-12 text-base",children:N?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Creating Account..."})]}):"Create Account"})]})]})]})]})})},hs=vt,ys=jt,He=o.forwardRef(({className:t,children:s,...a},i)=>e.jsxs(Pe,{ref:i,className:x("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(pt,{asChild:!0,children:e.jsx(Be,{className:"h-4 w-4 opacity-50"})})]}));He.displayName=Pe.displayName;const Ze=o.forwardRef(({className:t,...s},a)=>e.jsx(Ee,{ref:a,className:x("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Tt,{className:"h-4 w-4"})}));Ze.displayName=Ee.displayName;const et=o.forwardRef(({className:t,...s},a)=>e.jsx(Ae,{ref:a,className:x("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Be,{className:"h-4 w-4"})}));et.displayName=Ae.displayName;const tt=o.forwardRef(({className:t,children:s,position:a="popper",...i},l)=>e.jsx(ft,{children:e.jsxs(Oe,{ref:l,className:x("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...i,children:[e.jsx(Ze,{}),e.jsx(gt,{className:x("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(et,{})]})}));tt.displayName=Oe.displayName;const vs=o.forwardRef(({className:t,...s},a)=>e.jsx(Fe,{ref:a,className:x("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));vs.displayName=Fe.displayName;const st=o.forwardRef(({className:t,children:s,...a},i)=>e.jsxs(Le,{ref:i,className:x("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ht,{children:e.jsx(Ct,{className:"h-4 w-4"})})}),e.jsx(yt,{children:s})]}));st.displayName=Le.displayName;const js=o.forwardRef(({className:t,...s},a)=>e.jsx(qe,{ref:a,className:x("-mx-1 my-1 h-px bg-muted",t),...s}));js.displayName=qe.displayName;const Ns=J("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ne({className:t,variant:s,...a}){return e.jsx("div",{className:x(Ns({variant:s}),t),...a})}const at=o.forwardRef(({className:t,value:s,...a},i)=>e.jsx(Ue,{ref:i,className:x("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:e.jsx(Nt,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));at.displayName=Ue.displayName;const rt=o.forwardRef(({className:t,...s},a)=>e.jsx(Me,{className:x("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:a,children:e.jsx(bt,{className:x("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rt.displayName=Me.displayName;const bs=[{id:"kunai",name:"Kunai",emoji:"ðŸ—¡ï¸",description:"Basic ninja tool",unlockCondition:"Complete first task",rarity:"common",levelRequired:1,category:"naruto"},{id:"shuriken",name:"Shuriken",emoji:"â­",description:"Throwing star",unlockCondition:"Complete 3 tasks",rarity:"common",levelRequired:2,category:"naruto"},{id:"baby_dragon",name:"Baby Dragon",emoji:"ðŸ‰",description:"Your first dragon companion",unlockCondition:"Reach level 3",rarity:"common",levelRequired:3,category:"dragons"},{id:"naruto",name:"Naruto Uzumaki",emoji:"ðŸ¥",description:"The knucklehead ninja!",unlockCondition:"Reach level 6",rarity:"rare",levelRequired:6,category:"naruto"},{id:"goku",name:"Son Goku",emoji:"ðŸ¥‹",description:"The legendary Saiyan warrior",unlockCondition:"Reach level 8",rarity:"rare",levelRequired:8,category:"dragonball"},{id:"fire_dragon",name:"Fire Dragon",emoji:"ðŸ”¥",description:"Breathes flames of determination",unlockCondition:"Complete 10 hard tasks",rarity:"rare",levelRequired:10,category:"dragons"},{id:"sasuke",name:"Sasuke Uchiha",emoji:"âš¡",description:"The last Uchiha",unlockCondition:"Reach level 12",rarity:"rare",levelRequired:12,category:"naruto"},{id:"vegeta",name:"Vegeta",emoji:"ðŸ‘‘",description:"The Prince of all Saiyans",unlockCondition:"Reach level 15",rarity:"rare",levelRequired:15,category:"dragonball"},{id:"kakashi",name:"Kakashi Hatake",emoji:"ðŸ“–",description:"The Copy Ninja",unlockCondition:"Reach level 18",rarity:"epic",levelRequired:18,category:"naruto"},{id:"super_saiyan",name:"Super Saiyan",emoji:"âš¡",description:"The legendary transformation",unlockCondition:"Reach level 20",rarity:"epic",levelRequired:20,category:"dragonball"},{id:"sung_jinwoo",name:"Sung Jin-Woo",emoji:"ðŸ—¡ï¸",description:"The Shadow Monarch rises",unlockCondition:"Reach level 25",rarity:"epic",levelRequired:25,category:"solo_leveling"},{id:"ice_dragon",name:"Ice Dragon",emoji:"â„ï¸",description:"Master of frozen domains",unlockCondition:"Complete 50 tasks",rarity:"epic",levelRequired:22,category:"dragons"},{id:"hokage_naruto",name:"Hokage Naruto",emoji:"ðŸ®",description:"The Seventh Hokage",unlockCondition:"Reach level 35",rarity:"legendary",levelRequired:35,category:"naruto"},{id:"ultra_instinct",name:"Ultra Instinct Goku",emoji:"ðŸŒŸ",description:"The ultimate form",unlockCondition:"Reach level 40",rarity:"legendary",levelRequired:40,category:"dragonball"},{id:"shadow_monarch",name:"Shadow Monarch",emoji:"ðŸ‘¤",description:"Ruler of the shadows",unlockCondition:"Reach level 50",rarity:"legendary",levelRequired:50,category:"solo_leveling"},{id:"cosmic_dragon",name:"Cosmic Dragon",emoji:"ðŸŒŒ",description:"Guardian of the universe",unlockCondition:"Reach max level",rarity:"legendary",levelRequired:100,category:"dragons"}],ws=[{text:"You got it! Awesome work! ðŸŽ‰",icon:Y,color:"text-yellow-500"},{text:"Incredible! You're on fire! ðŸ”¥",icon:ce,color:"text-red-500"},{text:"Fantastic job! Keep crushing it! âš¡",icon:X,color:"text-blue-500"},{text:"Outstanding! You're unstoppable! âœ¨",icon:de,color:"text-purple-500"},{text:"Amazing progress! You're leveling up! ðŸŒŸ",icon:Xe,color:"text-yellow-400"},{text:"Perfect execution! Master warrior! ðŸŽ¯",icon:z,color:"text-green-500"},{text:"Legendary performance! Keep going! ðŸ’Ž",icon:de,color:"text-cyan-500"},{text:"You're crushing your goals! Beast mode! ðŸš€",icon:ce,color:"text-orange-500"}],ks=t=>{const a={easy:[{text:"Nice start! Every journey begins with a single step! ðŸŒ±",icon:z,color:"text-green-400"},{text:"Well done! Building momentum! ðŸ’ª",icon:X,color:"text-blue-400"}],medium:[{text:"Great job! You're getting stronger! ðŸ’ª",icon:Xe,color:"text-yellow-500"},{text:"Excellent work! Rising to the challenge! âš¡",icon:X,color:"text-blue-500"}],hard:[{text:"Incredible! You conquered a tough one! ðŸ†",icon:Y,color:"text-yellow-600"},{text:"Outstanding! True warrior spirit! ðŸ—¡ï¸",icon:ce,color:"text-red-500"}],boss:[{text:"LEGENDARY! You defeated the boss! ðŸ‘‘",icon:Y,color:"text-purple-600"},{text:"EPIC WIN! You're a true champion! ðŸ†",icon:de,color:"text-gold"}]}[t]||ws;return a[Math.floor(Math.random()*a.length)]},le={easy:{xp:10,coins:5,color:"text-green-400",label:"Easy"},medium:{xp:25,coins:10,color:"text-yellow-400",label:"Medium"},hard:{xp:50,coins:20,color:"text-orange-400",label:"Hard"},boss:{xp:100,coins:30,color:"text-purple-400",label:"Boss"}},Ss=[{title:"DSA Practice",category:"Coding",difficulty:"medium"},{title:"Flutter Dev",category:"Development",difficulty:"hard"},{title:"System Design Review",category:"Learning",difficulty:"medium"},{title:"Brain Detox",category:"Wellness",difficulty:"easy"}],Ts=()=>{const{user:t}=xe(),{toast:s}=Q(),a=Mt(),[i,l]=o.useState([]),[c,f]=o.useState(null),[N,T]=o.useState({isOpen:!1,quote:null,xpGained:0,coinsGained:0,taskTitle:""}),{data:R=[],isLoading:v}=ae({queryKey:["tasks",t==null?void 0:t.id],queryFn:async()=>{if(!t)return[];const{data:d,error:u}=await h.from("tasks").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(u)throw u;return d},enabled:!!t}),{data:C,isLoading:g}=ae({queryKey:["player_stats",t==null?void 0:t.id],queryFn:async()=>{if(!t)return null;const{data:d,error:u}=await h.from("player_stats").select("*").eq("user_id",t.id).single();if(u)throw u;return d},enabled:!!t}),{data:n=[]}=ae({queryKey:["unlocked_stickers",t==null?void 0:t.id],queryFn:async()=>{if(!t)return[];const{data:d,error:u}=await h.from("unlocked_stickers").select("sticker_id").eq("user_id",t.id);if(u)throw u;return d.map(m=>m.sticker_id)},enabled:!!t}),p=U({mutationFn:async d=>{if(!t)throw new Error("User not authenticated");const{data:u,error:m}=await h.from("tasks").insert([{...d,user_id:t.id}]).select().single();if(m)throw m;return u},onSuccess:()=>{a.invalidateQueries({queryKey:["tasks"]}),s({title:"Quest Added!",description:"New challenge awaits completion!"})}}),b=U({mutationFn:async({id:d,updates:u})=>{const{data:m,error:y}=await h.from("tasks").update(u).eq("id",d).select().single();if(y)throw y;return m},onSuccess:()=>{a.invalidateQueries({queryKey:["tasks"]})}}),D=U({mutationFn:async d=>{const{error:u}=await h.from("tasks").delete().eq("id",d);if(u)throw u},onSuccess:()=>{a.invalidateQueries({queryKey:["tasks"]}),s({title:"Quest Removed",description:"Task has been deleted from your quest log."})}}),P=U({mutationFn:async d=>{if(!t||!c)throw new Error("User or stats not available");const{data:u,error:m}=await h.from("player_stats").update(d).eq("user_id",t.id).select().single();if(m)throw m;return u},onSuccess:()=>{a.invalidateQueries({queryKey:["player_stats"]})}}),H=U({mutationFn:async d=>{if(!t)throw new Error("User not authenticated");const{data:u,error:m}=await h.from("unlocked_stickers").insert([{user_id:t.id,sticker_id:d}]).select().single();if(m&&!m.message.includes("duplicate"))throw m;return u},onSuccess:()=>{a.invalidateQueries({queryKey:["unlocked_stickers"]})}}),F=async(d,u)=>{if(!t)return;const m=bs.filter(y=>d>=y.levelRequired&&!n.includes(y.id));for(const y of m)try{await H.mutateAsync(y.id),re({particleCount:100,spread:70,origin:{y:.6}}),s({title:"ðŸŽ‰ New Sticker Unlocked!",description:`${y.emoji} ${y.name} - ${y.description}`})}catch(L){console.log("Sticker already unlocked or error:",L)}},Z=async d=>{const u=i.find(I=>I.id===d);if(!u||u.state!=="inprogress"||!c)return;const m=le[u.difficulty],y=c.total_xp+m.xp,L=c.coins+m.coins,E=Math.floor(y/100)+1;await b.mutateAsync({id:d,updates:{state:"completed",completed_at:new Date().toISOString()}});const V=new Date,ee=i.some(I=>I.state==="completed"&&I.completed_at&&new Date(I.completed_at).toDateString()===V.toDateString());await P.mutateAsync({total_xp:y,coins:L,level:E,streak:ee?c.streak:c.streak+1,last_completed_date:V.toISOString()}),E>c.level&&(re({particleCount:150,spread:70,origin:{y:.6}}),s({title:`ðŸŽ‰ Level Up! Level ${E}`,description:"You've gained incredible power!"}),await F(E));const te=ks(u.difficulty);T({isOpen:!0,quote:te,xpGained:m.xp,coinsGained:m.coins,taskTitle:u.title}),re({particleCount:50,spread:50,origin:{y:.7}})};return o.useEffect(()=>{if(!t)return;const d=new Date().toDateString();i.some(m=>m.is_default&&new Date(m.created_at).toDateString()===d)||Ss.forEach(m=>{p.mutate({title:m.title,category:m.category,difficulty:m.difficulty,state:"todo",is_default:!0,deadline:new Date(Date.now()+24*60*60*1e3).toISOString()})})},[t,i]),o.useEffect(()=>{t&&((async()=>{const{data:d,error:u}=await h.from("player_stats").select("*").eq("user_id",t.id).single();d&&f(d)})(),(async()=>{const{data:d,error:u}=await h.from("tasks").select("*").eq("user_id",t.id);d&&l(d)})())},[t]),{tasks:i,playerStats:c,unlockedStickers:n,celebrationData:N,setCelebrationData:T,loading:v||g,createTask:p.mutate,updateTask:b.mutate,deleteTask:D.mutate,completeTask:Z,startTask:d=>b.mutate({id:d,updates:{state:"inprogress"}}),revertTask:async d=>{const u=i.find(y=>y.id===d);if(!u||u.state!=="completed"||!c)return;const m=le[u.difficulty];await b.mutateAsync({id:d,updates:{state:"todo",completed_at:null}}),await P.mutateAsync({total_xp:Math.max(0,c.total_xp-m.xp),coins:Math.max(0,c.coins-m.coins)}),s({title:"Quest Reverted",description:`Task moved back to To Do. -${m.xp} XP, -${m.coins} coins.`})},DIFFICULTY_CONFIG:le}},Cs=()=>{const[t,s]=o.useState(new Date);o.useEffect(()=>{const l=setInterval(()=>{s(new Date)},1e3);return()=>clearInterval(l)},[]);const a=l=>l.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),i=l=>l.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(_t,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:a(t)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:i(t)})]})]})},_s=({isOpen:t,onClose:s,quote:a,xpGained:i,coinsGained:l,taskTitle:c})=>{if(o.useEffect(()=>{if(t){const N=setTimeout(()=>{s()},4e3);return()=>clearTimeout(N)}},[t,s]),!t)return null;const f=a.icon;return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:e.jsx(k,{className:"w-full max-w-md mx-4 glass-card animate-scale-in",children:e.jsxs(S,{className:"p-6 text-center relative",children:[e.jsx(j,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:s,children:e.jsx(ze,{className:"h-4 w-4"})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-4 rounded-full bg-gradient-to-r from-primary/20 to-accent/20 mb-4 animate-pulse",children:e.jsx(f,{className:`h-12 w-12 ${a.color}`})}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Task Completed!"}),e.jsxs("p",{className:"text-lg font-medium text-center mb-4",children:['"',c,'"']}),e.jsx("div",{className:`text-xl font-bold ${a.color} mb-4 animate-bounce`,children:a.text}),e.jsxs("div",{className:"flex justify-center space-x-6 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-xp",children:["+",i]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"XP"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-coin",children:["+",l]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Coins"})]})]})]}),e.jsx(j,{onClick:s,className:"w-full primary-gradient",children:"Continue Quest"})]})})})},Rs=lt.lazy(()=>Vt(()=>import("./StickerSystem-4_yQT6X6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]))),M=[{name:"Bronze",minXP:0,color:"text-bronze",icon:"ðŸ¥‰"},{name:"Silver",minXP:100,color:"text-silver",icon:"ðŸ¥ˆ"},{name:"Gold",minXP:300,color:"text-gold",icon:"ðŸ¥‡"},{name:"Platinum",minXP:600,color:"text-platinum",icon:"ðŸ’Ž"},{name:"Ultra",minXP:1e3,color:"text-ultra",icon:"â­"}],Is=()=>{const[t,s]=o.useState(""),[a,i]=o.useState(""),[l,c]=o.useState("easy"),[f,N]=o.useState("all"),{theme:T,toggleTheme:R}=ns(),{user:v,signOut:C}=xe(),{tasks:g,playerStats:n,unlockedStickers:p,celebrationData:b,setCelebrationData:D,loading:P,createTask:H,deleteTask:F,startTask:Z,completeTask:d,revertTask:u,DIFFICULTY_CONFIG:m}=Ts(),{toast:y}=Q(),L=()=>{!t.trim()||!a.trim()||(H({title:t,category:a,difficulty:l,state:"todo",is_default:!1}),s(""),i(""))},E=r=>{switch(r){case"todo":return e.jsx(z,{className:"h-4 w-4 text-muted-foreground"});case"inprogress":return e.jsx(he,{className:"h-4 w-4 text-blue-400"});case"completed":return e.jsx(ye,{className:"h-4 w-4 text-green-400"});case"missed":return e.jsx(Lt,{className:"h-4 w-4 text-red-400"});default:return e.jsx(z,{className:"h-4 w-4 text-muted-foreground"})}},V=r=>{switch(r){case"todo":return"To Do";case"inprogress":return"In Progress";case"completed":return"Completed";case"missed":return"Missed";default:return"Unknown"}},ee=g.filter(r=>f==="all"?!0:r.state===f),te=()=>n&&M.slice().reverse().find(r=>n.total_xp>=r.minXP)||M[0],I=()=>n?M.find(r=>n.total_xp<r.minXP):M[1],ot=async()=>{if(!v)return;let r="";const{error:w}=await h.from("player_stats").upsert([{user_id:v.id,total_xp:n.total_xp,coins:n.coins,level:n.level,streak:n.streak,last_completed_date:n.last_completed_date}],{onConflict:["user_id"]});w&&(r+="Stats: "+w.message+" ");const{error:pe}=await h.from("tasks").upsert(g.map(nt=>({...nt,user_id:v.id})),{onConflict:["id"]});pe&&(r+="Tasks: "+pe.message),y(r?{title:"Save Failed",description:r,variant:"destructive"}:{title:"Progress Saved!",description:"Your progress has been saved to the cloud."})};if(P)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"Loading TaskForge..."})]})});const q=te(),A=I(),it=A&&n?(n.total_xp-q.minXP)/(A.minXP-q.minXP)*100:100;return e.jsxs("div",{className:"min-h-screen p-4 space-y-6",children:[e.jsx(_s,{isOpen:b.isOpen,onClose:()=>D(r=>({...r,isOpen:!1})),quote:b.quote,xpGained:b.xpGained,coinsGained:b.coinsGained,taskTitle:b.taskTitle}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"TaskForge"}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["Welcome back, ",v==null?void 0:v.email,"! Ready to level up?"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Crafted with love by Yuvi."})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Cs,{}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{className:"h-4 w-4"}),e.jsx(rt,{checked:T==="dark",onCheckedChange:R}),e.jsx(It,{className:"h-4 w-4"})]}),e.jsxs(j,{onClick:C,variant:"outline",size:"sm",children:[e.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Sign Out"]}),e.jsx(j,{onClick:ot,variant:"outline",children:"Save Progress"})]})]}),n&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(k,{className:"glass-card",children:e.jsxs(S,{className:"p-4 flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full xp-gradient",children:e.jsx(X,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Level ",n.level]}),e.jsxs("p",{className:"text-2xl font-bold text-xp",children:[n.total_xp," XP"]})]})]})}),e.jsx(k,{className:"glass-card",children:e.jsxs(S,{className:"p-4 flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full coin-gradient",children:e.jsx(Pt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Coins"}),e.jsx("p",{className:"text-2xl font-bold text-coin",children:n.coins})]})]})}),e.jsx(k,{className:"glass-card",children:e.jsxs(S,{className:"p-4 flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full primary-gradient",children:e.jsx(Y,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tier"}),e.jsxs("p",{className:`text-xl font-bold ${q.color}`,children:[q.icon," ",q.name]})]})]})}),e.jsx(k,{className:"glass-card",children:e.jsxs(S,{className:"p-4 flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-destructive",children:e.jsx(Et,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Streak"}),e.jsxs("p",{className:"text-2xl font-bold text-destructive",children:[n.streak," days"]})]})]})})]}),A&&n&&e.jsx(k,{className:"glass-card",children:e.jsxs(S,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Progress to ",A.name," ",A.icon]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.total_xp,"/",A.minXP," XP"]})]}),e.jsx(at,{value:it,className:"h-2"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs(k,{className:"glass-card",children:[e.jsx(K,{children:e.jsxs(W,{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"h-5 w-5"}),e.jsx("span",{children:"Forge New Quest"})]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(_,{placeholder:"Quest title...",value:t,onChange:r=>s(r.target.value)}),e.jsx(_,{placeholder:"Category...",value:a,onChange:r=>i(r.target.value)})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(hs,{value:l,onValueChange:r=>c(r),children:[e.jsx(He,{className:"flex-1",children:e.jsx(ys,{})}),e.jsx(tt,{children:Object.entries(m).map(([r,w])=>e.jsx(st,{value:r,children:e.jsxs("span",{className:w.color,children:[w.label," (+",w.xp," XP, +",w.coins," coins)"]})},r))})]}),e.jsxs(j,{onClick:L,className:"primary-gradient",children:[e.jsx(At,{className:"h-4 w-4"}),"Forge Quest"]})]})]})]}),e.jsx(k,{className:"glass-card",children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Filter:"}),e.jsx("div",{className:"flex space-x-2",children:["all","todo","inprogress","completed"].map(r=>e.jsx(j,{variant:f===r?"default":"outline",size:"sm",onClick:()=>N(r),className:f===r?"primary-gradient":"",children:r==="all"?"All":r==="todo"?"To Do":r==="inprogress"?"In Progress":"Completed"},r))})]})})}),e.jsx("div",{className:"space-y-3",children:ee.map(r=>{const w=m[r.difficulty];return e.jsx(k,{className:`glass-card transition-all duration-300 hover-scale ${r.state==="completed"?"opacity-60":r.state==="missed"?"border-red-500/50 bg-red-500/5":r.state==="inprogress"?"border-blue-500/50 bg-blue-500/5":"hover:scale-[1.02]"}`,children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[E(r.state),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:`font-medium ${r.state==="completed"?"line-through text-muted-foreground":""}`,children:r.title}),r.is_default&&e.jsx(ne,{variant:"outline",className:"text-xs",children:"Daily"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(ne,{variant:"secondary",className:w.color,children:w.label}),e.jsx("span",{className:"text-xs text-muted-foreground",children:r.category}),r.state!=="completed"&&r.state!=="missed"&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",w.xp," XP, +",w.coins," coins"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{variant:"outline",className:"text-xs",children:V(r.state)}),r.state==="todo"&&e.jsxs(e.Fragment,{children:[e.jsxs(j,{size:"sm",variant:"outline",onClick:()=>Z(r.id),children:[e.jsx(he,{className:"h-3 w-3"}),"Start"]}),e.jsx(j,{size:"sm",variant:"destructive",onClick:()=>F(r.id),children:e.jsx(se,{className:"h-3 w-3"})})]}),r.state==="inprogress"&&e.jsxs(e.Fragment,{children:[e.jsxs(j,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>d(r.id),children:[e.jsx(ye,{className:"h-3 w-3"}),"Complete"]}),e.jsx(j,{size:"sm",variant:"destructive",onClick:()=>F(r.id),children:e.jsx(se,{className:"h-3 w-3"})})]}),r.state==="completed"&&e.jsxs(e.Fragment,{children:[e.jsxs(j,{size:"sm",variant:"outline",onClick:()=>u(r.id),children:[e.jsx(Ft,{className:"h-3 w-3"}),"Revert"]}),e.jsx(j,{size:"sm",variant:"destructive",onClick:()=>F(r.id),children:e.jsx(se,{className:"h-3 w-3"})})]})]})]})})},r.id)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(o.Suspense,{fallback:e.jsx("div",{children:"Loading stickers..."}),children:e.jsx(Rs,{userLevel:(n==null?void 0:n.level)||1,unlockedStickers:p})}),e.jsxs(k,{className:"glass-card",children:[e.jsx(K,{children:e.jsx(W,{children:"Quest Stats"})}),e.jsxs(S,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Quests"}),e.jsx("span",{className:"font-medium",children:g.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed"}),e.jsx("span",{className:"font-medium text-green-400",children:g.filter(r=>r.state==="completed").length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"In Progress"}),e.jsx("span",{className:"font-medium text-blue-400",children:g.filter(r=>r.state==="inprogress").length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Success Rate"}),e.jsxs("span",{className:"font-medium",children:[g.length>0?Math.round(g.filter(r=>r.state==="completed").length/g.length*100):0,"%"]})]})]})]})]})]})]})},Ds=()=>{const{user:t,loading:s}=xe();return s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"Loading TaskForge..."})]})}):t?e.jsx(Is,{}):e.jsx(gs,{onAuthSuccess:()=>{}})},Ps=()=>{const t=Gt();return o.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Es=new zt,As=()=>e.jsx(Bt,{client:Es,children:e.jsx(is,{children:e.jsx(ds,{children:e.jsxs(rs,{children:[e.jsx(ss,{}),e.jsx(as,{}),e.jsx(Xt,{basename:"/quest-log-boost/",children:e.jsxs($t,{children:[e.jsx(ve,{path:"/",element:e.jsx(Ds,{})}),e.jsx(ve,{path:"*",element:e.jsx(Ps,{})})]})})]})})})});ct(document.getElementById("root")).render(e.jsx(As,{}));export{ne as B,k as C,bs as S,K as a,W as b,x as c,S as d};
