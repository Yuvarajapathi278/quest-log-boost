var xa=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{j as o,V as qs,R as Vs,A as Ws,C as Qs,T as Ys,D as Ks,P as ya,a as oe,u as de,b as ba,c as Ie,d as Te,e as Hr,f as yt,g as Xs,S as wa,h as Sa,i as te,k as Gs,l as Zs,m as Ca,n as Na,o as Ta,p as Ur,q as Pa,r as ja,s as Ra,F as Ea,t as fs,v as ka,w as Aa}from"./ui-QWH8A9X4.js";import{a as Oa}from"./vendor-kq2j8kjo.js";import{r as h,R as A,G as Ma,a as zr,u as Ia,B as _a,c as Da,d as hs}from"./router-DhsdqTJ1.js";import{c as Js,t as La,X as en,L as Fa,T as Ht,S as Sr,F as Cr,a as tn,Z as Ut,b as tt,C as Ba,d as $a,e as Ha,f as rn,g as Ua,h as za,P as qa,i as Va,j as sn,k as mr,l as nn,R as Wa,m as Qa,n as Ya,M as Ka,o as Xa,p as Ga,q as Za}from"./utils-BpH7oowM.js";import{c as Ja}from"./supabase-uWtea-7e.js";var yu=xa((Mu,Nt)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var Ot={},ms;function ei(){if(ms)return Ot;ms=1;var e=Oa();return Ot.createRoot=e.createRoot,Ot.hydrateRoot=e.hydrateRoot,Ot}var ti=ei();const ri=1,si=1e6;let pr=0;function ni(){return pr=(pr+1)%Number.MAX_SAFE_INTEGER,pr.toString()}const gr=new Map,ps=e=>{if(gr.has(e))return;const t=setTimeout(()=>{gr.delete(e),mt({type:"REMOVE_TOAST",toastId:e})},si);gr.set(e,t)},oi=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ri)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ps(r):e.toasts.forEach(s=>{ps(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Dt=[];let Lt={toasts:[]};function mt(e){Lt=oi(Lt,e),Dt.forEach(t=>{t(Lt)})}function ai({...e}){const t=ni(),r=n=>mt({type:"UPDATE_TOAST",toast:{...n,id:t}}),s=()=>mt({type:"DISMISS_TOAST",toastId:t});return mt({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||s()}}}),{id:t,dismiss:s,update:r}}function bt(){const[e,t]=h.useState(Lt);return h.useEffect(()=>(Dt.push(t),()=>{const r=Dt.indexOf(t);r>-1&&Dt.splice(r,1)}),[e]),{...e,toast:ai,dismiss:r=>mt({type:"DISMISS_TOAST",toastId:r})}}const gs=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,vs=Js,Jt=(e,t)=>r=>{var s;if(t?.variants==null)return vs(e,r?.class,r?.className);const{variants:n,defaultVariants:a}=t,i=Object.keys(n).map(d=>{const u=r?.[d],g=a?.[d];if(u===null)return null;const f=gs(u)||gs(g);return n[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[g,f]=u;return f===void 0||(d[g]=f),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:g,className:f,...v}=u;return Object.entries(v).every(x=>{let[p,b]=x;return Array.isArray(b)?b.includes({...a,...l}[p]):{...a,...l}[p]===b})?[...d,g,f]:d},[]);return vs(e,i,c,r?.class,r?.className)};function re(...e){return La(Js(e))}const ii=ya,on=h.forwardRef(({className:e,...t},r)=>o.jsx(qs,{ref:r,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));on.displayName=qs.displayName;const li=Jt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),an=h.forwardRef(({className:e,variant:t,...r},s)=>o.jsx(Vs,{ref:s,className:re(li({variant:t}),e),...r}));an.displayName=Vs.displayName;const ci=h.forwardRef(({className:e,...t},r)=>o.jsx(Ws,{ref:r,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ci.displayName=Ws.displayName;const ln=h.forwardRef(({className:e,...t},r)=>o.jsx(Qs,{ref:r,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(en,{className:"h-4 w-4"})}));ln.displayName=Qs.displayName;const cn=h.forwardRef(({className:e,...t},r)=>o.jsx(Ys,{ref:r,className:re("text-sm font-semibold",e),...t}));cn.displayName=Ys.displayName;const dn=h.forwardRef(({className:e,...t},r)=>o.jsx(Ks,{ref:r,className:re("text-sm opacity-90",e),...t}));dn.displayName=Ks.displayName;function di(){const{toasts:e}=bt();return o.jsxs(ii,{children:[e.map(function({id:t,title:r,description:s,action:n,...a}){return o.jsxs(an,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(cn,{children:r}),s&&o.jsx(dn,{children:s})]}),n,o.jsx(ln,{})]},t)}),o.jsx(on,{})]})}var xs=["light","dark"],ui="(prefers-color-scheme: dark)",fi=h.createContext(void 0),hi={setTheme:e=>{},themes:[]},mi=()=>{var e;return(e=h.useContext(fi))!=null?e:hi};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:n,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let d=a==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,g=n?xs.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,p=!1,b=!0)=>{let w=i?i[x]:x,S=p?x+"|| ''":`'${w}'`,T="";return n&&b&&!p&&xs.includes(x)&&(T+=`d.style.colorScheme = '${x}';`),r==="class"?p||w?T+=`c.add(${S})`:T+="null":w&&(T+=`d[s](n,${S})`),T},v=e?`!function(){${u}${f(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${ui}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${d?"":"else{"+f(a,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${g}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:v}})});var pi=e=>{switch(e){case"success":return xi;case"info":return bi;case"warning":return yi;case"error":return wi;default:return null}},gi=Array(12).fill(0),vi=({visible:e})=>A.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},A.createElement("div",{className:"sonner-spinner"},gi.map((t,r)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),xi=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yi=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bi=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wi=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Si=()=>{let[e,t]=A.useState(document.hidden);return A.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Nr=1,Ci=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,n=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Nr++,a=this.toasts.find(l=>l.id===n),i=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...e,id:n,title:r}),{...l,...e,id:n,dismissible:i,title:r}):l):this.addToast({title:r,...s,dismissible:i,id:n}),n},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),n=r!==void 0;return s.then(async a=>{if(Ti(a)&&!a.ok){n=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){n=!1;let i=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async a=>{if(t.error!==void 0){n=!1;let i=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var a;n&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=t?.id||Nr++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},ve=new Ci,Ni=(e,t)=>{let r=t?.id||Nr++;return ve.addToast({title:e,...t,id:r}),r},Ti=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Pi=Ni,ji=()=>ve.toasts;Object.assign(Pi,{success:ve.success,info:ve.info,warning:ve.warning,error:ve.error,custom:ve.custom,message:ve.message,promise:ve.promise,dismiss:ve.dismiss,loading:ve.loading},{getHistory:ji});function Ri(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Ri(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mt(e){return e.label!==void 0}var Ei=3,ki="32px",Ai=4e3,Oi=356,Mi=14,Ii=20,_i=200;function Di(...e){return e.filter(Boolean).join(" ")}var Li=e=>{var t,r,s,n,a,i,l,c,d,u;let{invert:g,toast:f,unstyled:v,interacting:x,setHeights:p,visibleToasts:b,heights:w,index:S,toasts:T,expanded:M,removeToast:k,defaultRichColors:N,closeButton:C,style:j,cancelButtonStyle:R,actionButtonStyle:B,className:q="",descriptionClassName:Q="",duration:K,position:_,gap:G,loadingIcon:z,expandByDefault:Z,classNames:I,icons:J,closeButtonAriaLabel:y="Close toast",pauseWhenPageIsHidden:m,cn:E}=e,[O,F]=A.useState(!1),[H,L]=A.useState(!1),[P,D]=A.useState(!1),[V,$]=A.useState(!1),[U,W]=A.useState(0),[ee,Y]=A.useState(0),ie=A.useRef(null),ae=A.useRef(null),fe=S===0,Se=S+1<=b,le=f.type,he=f.dismissible!==!1,ur=f.className||"",fr=f.descriptionClassName||"",Ke=A.useMemo(()=>w.findIndex(X=>X.toastId===f.id)||0,[w,f.id]),Pt=A.useMemo(()=>{var X;return(X=f.closeButton)!=null?X:C},[f.closeButton,C]),jt=A.useMemo(()=>f.duration||K||Ai,[f.duration,K]),Xe=A.useRef(0),Le=A.useRef(0),Rt=A.useRef(0),Me=A.useRef(null),[ct,dt]=_.split("-"),Et=A.useMemo(()=>w.reduce((X,ne,se)=>se>=Ke?X:X+ne.height,0),[w,Ke]),kt=Si(),pa=f.invert||g,hr=le==="loading";Le.current=A.useMemo(()=>Ke*G+Et,[Ke,Et]),A.useEffect(()=>{F(!0)},[]),A.useLayoutEffect(()=>{if(!O)return;let X=ae.current,ne=X.style.height;X.style.height="auto";let se=X.getBoundingClientRect().height;X.style.height=ne,Y(se),p(Re=>Re.find(Ee=>Ee.toastId===f.id)?Re.map(Ee=>Ee.toastId===f.id?{...Ee,height:se}:Ee):[{toastId:f.id,height:se,position:f.position},...Re])},[O,f.title,f.description,p,f.id]);let Fe=A.useCallback(()=>{L(!0),W(Le.current),p(X=>X.filter(ne=>ne.toastId!==f.id)),setTimeout(()=>{k(f)},_i)},[f,k,p,Le]);A.useEffect(()=>{if(f.promise&&le==="loading"||f.duration===1/0||f.type==="loading")return;let X,ne=jt;return M||x||m&&kt?(()=>{if(Rt.current<Xe.current){let se=new Date().getTime()-Xe.current;ne=ne-se}Rt.current=new Date().getTime()})():ne!==1/0&&(Xe.current=new Date().getTime(),X=setTimeout(()=>{var se;(se=f.onAutoClose)==null||se.call(f,f),Fe()},ne)),()=>clearTimeout(X)},[M,x,Z,f,jt,Fe,f.promise,le,m,kt]),A.useEffect(()=>{let X=ae.current;if(X){let ne=X.getBoundingClientRect().height;return Y(ne),p(se=>[{toastId:f.id,height:ne,position:f.position},...se]),()=>p(se=>se.filter(Re=>Re.toastId!==f.id))}},[p,f.id]),A.useEffect(()=>{f.delete&&Fe()},[Fe,f.delete]);function ga(){return J!=null&&J.loading?A.createElement("div",{className:"sonner-loader","data-visible":le==="loading"},J.loading):z?A.createElement("div",{className:"sonner-loader","data-visible":le==="loading"},z):A.createElement(vi,{visible:le==="loading"})}return A.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ae,className:E(q,ur,I?.toast,(t=f?.classNames)==null?void 0:t.toast,I?.default,I?.[le],(r=f?.classNames)==null?void 0:r[le]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:N,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":O,"data-promise":!!f.promise,"data-removed":H,"data-visible":Se,"data-y-position":ct,"data-x-position":dt,"data-index":S,"data-front":fe,"data-swiping":P,"data-dismissible":he,"data-type":le,"data-invert":pa,"data-swipe-out":V,"data-expanded":!!(M||Z&&O),style:{"--index":S,"--toasts-before":S,"--z-index":T.length-S,"--offset":`${H?U:Le.current}px`,"--initial-height":Z?"auto":`${ee}px`,...j,...f.style},onPointerDown:X=>{hr||!he||(ie.current=new Date,W(Le.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(D(!0),Me.current={x:X.clientX,y:X.clientY}))},onPointerUp:()=>{var X,ne,se,Re;if(V||!he)return;Me.current=null;let Ee=Number(((X=ae.current)==null?void 0:X.style.getPropertyValue("--swipe-amount").replace("px",""))||0),At=new Date().getTime()-((ne=ie.current)==null?void 0:ne.getTime()),va=Math.abs(Ee)/At;if(Math.abs(Ee)>=Ii||va>.11){W(Le.current),(se=f.onDismiss)==null||se.call(f,f),Fe(),$(!0);return}(Re=ae.current)==null||Re.style.setProperty("--swipe-amount","0px"),D(!1)},onPointerMove:X=>{var ne;if(!Me.current||!he)return;let se=X.clientY-Me.current.y,Re=X.clientX-Me.current.x,Ee=(ct==="top"?Math.min:Math.max)(0,se),At=X.pointerType==="touch"?10:2;Math.abs(Ee)>At?(ne=ae.current)==null||ne.style.setProperty("--swipe-amount",`${se}px`):Math.abs(Re)>At&&(Me.current=null)}},Pt&&!f.jsx?A.createElement("button",{"aria-label":y,"data-disabled":hr,"data-close-button":!0,onClick:hr||!he?()=>{}:()=>{var X;Fe(),(X=f.onDismiss)==null||X.call(f,f)},className:E(I?.closeButton,(n=f?.classNames)==null?void 0:n.closeButton)},A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||A.isValidElement(f.title)?f.jsx||f.title:A.createElement(A.Fragment,null,le||f.icon||f.promise?A.createElement("div",{"data-icon":"",className:E(I?.icon,(a=f?.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||ga():null,f.type!=="loading"?f.icon||J?.[le]||pi(le):null):null,A.createElement("div",{"data-content":"",className:E(I?.content,(i=f?.classNames)==null?void 0:i.content)},A.createElement("div",{"data-title":"",className:E(I?.title,(l=f?.classNames)==null?void 0:l.title)},f.title),f.description?A.createElement("div",{"data-description":"",className:E(Q,fr,I?.description,(c=f?.classNames)==null?void 0:c.description)},f.description):null),A.isValidElement(f.cancel)?f.cancel:f.cancel&&Mt(f.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||R,onClick:X=>{var ne,se;Mt(f.cancel)&&he&&((se=(ne=f.cancel).onClick)==null||se.call(ne,X),Fe())},className:E(I?.cancelButton,(d=f?.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,A.isValidElement(f.action)?f.action:f.action&&Mt(f.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||B,onClick:X=>{var ne,se;Mt(f.action)&&(X.defaultPrevented||((se=(ne=f.action).onClick)==null||se.call(ne,X),Fe()))},className:E(I?.actionButton,(u=f?.classNames)==null?void 0:u.actionButton)},f.action.label):null))};function ys(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Fi=e=>{let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:n,closeButton:a,className:i,offset:l,theme:c="light",richColors:d,duration:u,style:g,visibleToasts:f=Ei,toastOptions:v,dir:x=ys(),gap:p=Mi,loadingIcon:b,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:T,cn:M=Di}=e,[k,N]=A.useState([]),C=A.useMemo(()=>Array.from(new Set([r].concat(k.filter(m=>m.position).map(m=>m.position)))),[k,r]),[j,R]=A.useState([]),[B,q]=A.useState(!1),[Q,K]=A.useState(!1),[_,G]=A.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=A.useRef(null),Z=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=A.useRef(null),J=A.useRef(!1),y=A.useCallback(m=>{var E;(E=k.find(O=>O.id===m.id))!=null&&E.delete||ve.dismiss(m.id),N(O=>O.filter(({id:F})=>F!==m.id))},[k]);return A.useEffect(()=>ve.subscribe(m=>{if(m.dismiss){N(E=>E.map(O=>O.id===m.id?{...O,delete:!0}:O));return}setTimeout(()=>{Ma.flushSync(()=>{N(E=>{let O=E.findIndex(F=>F.id===m.id);return O!==-1?[...E.slice(0,O),{...E[O],...m},...E.slice(O+1)]:[m,...E]})})})}),[]),A.useEffect(()=>{if(c!=="system"){G(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:m})=>{G(m?"dark":"light")})},[c]),A.useEffect(()=>{k.length<=1&&q(!1)},[k]),A.useEffect(()=>{let m=E=>{var O,F;s.every(H=>E[H]||E.code===H)&&(q(!0),(O=z.current)==null||O.focus()),E.code==="Escape"&&(document.activeElement===z.current||(F=z.current)!=null&&F.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[s]),A.useEffect(()=>{if(z.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,J.current=!1)}},[z.current]),k.length?A.createElement("section",{"aria-label":`${S} ${Z}`,tabIndex:-1},C.map((m,E)=>{var O;let[F,H]=m.split("-");return A.createElement("ol",{key:m,dir:x==="auto"?ys():x,tabIndex:-1,ref:z,className:i,"data-sonner-toaster":!0,"data-theme":_,"data-y-position":F,"data-x-position":H,style:{"--front-toast-height":`${((O=j[0])==null?void 0:O.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||ki,"--width":`${Oi}px`,"--gap":`${p}px`,...g},onBlur:L=>{J.current&&!L.currentTarget.contains(L.relatedTarget)&&(J.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||J.current||(J.current=!0,I.current=L.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{Q||q(!1)},onPointerDown:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},k.filter(L=>!L.position&&E===0||L.position===m).map((L,P)=>{var D,V;return A.createElement(Li,{key:L.id,icons:w,index:P,toast:L,defaultRichColors:d,duration:(D=v?.duration)!=null?D:u,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:t,visibleToasts:f,closeButton:(V=v?.closeButton)!=null?V:a,interacting:Q,position:m,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,removeToast:y,toasts:k.filter($=>$.position==L.position),heights:j.filter($=>$.position==L.position),setHeights:R,expandByDefault:n,gap:p,loadingIcon:b,expanded:B,pauseWhenPageIsHidden:T,cn:M})}))})):null};const Bi=({...e})=>{const{theme:t="system"}=mi();return o.jsx(Fi,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},$i=["top","right","bottom","left"],Be=Math.min,xe=Math.max,zt=Math.round,It=Math.floor,$e=e=>({x:e,y:e}),Hi={left:"right",right:"left",bottom:"top",top:"bottom"},Ui={start:"end",end:"start"};function Tr(e,t,r){return xe(e,Be(t,r))}function _e(e,t){return typeof e=="function"?e(t):e}function De(e){return e.split("-")[0]}function ot(e){return e.split("-")[1]}function qr(e){return e==="x"?"y":"x"}function Vr(e){return e==="y"?"height":"width"}function He(e){return["top","bottom"].includes(De(e))?"y":"x"}function Wr(e){return qr(He(e))}function zi(e,t,r){r===void 0&&(r=!1);const s=ot(e),n=Wr(e),a=Vr(n);let i=n==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=qt(i)),[i,qt(i)]}function qi(e){const t=qt(e);return[Pr(e),t,Pr(t)]}function Pr(e){return e.replace(/start|end/g,t=>Ui[t])}function Vi(e,t,r){const s=["left","right"],n=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?n:s:t?s:n;case"left":case"right":return t?a:i;default:return[]}}function Wi(e,t,r,s){const n=ot(e);let a=Vi(De(e),r==="start",s);return n&&(a=a.map(i=>i+"-"+n),t&&(a=a.concat(a.map(Pr)))),a}function qt(e){return e.replace(/left|right|bottom|top/g,t=>Hi[t])}function Qi(e){return{top:0,right:0,bottom:0,left:0,...e}}function un(e){return typeof e!="number"?Qi(e):{top:e,right:e,bottom:e,left:e}}function Vt(e){const{x:t,y:r,width:s,height:n}=e;return{width:s,height:n,top:r,left:t,right:t+s,bottom:r+n,x:t,y:r}}function bs(e,t,r){let{reference:s,floating:n}=e;const a=He(t),i=Wr(t),l=Vr(i),c=De(t),d=a==="y",u=s.x+s.width/2-n.width/2,g=s.y+s.height/2-n.height/2,f=s[l]/2-n[l]/2;let v;switch(c){case"top":v={x:u,y:s.y-n.height};break;case"bottom":v={x:u,y:s.y+s.height};break;case"right":v={x:s.x+s.width,y:g};break;case"left":v={x:s.x-n.width,y:g};break;default:v={x:s.x,y:s.y}}switch(ot(t)){case"start":v[i]-=f*(r&&d?-1:1);break;case"end":v[i]+=f*(r&&d?-1:1);break}return v}const Yi=async(e,t,r)=>{const{placement:s="bottom",strategy:n="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:n}),{x:u,y:g}=bs(d,s,c),f=s,v={},x=0;for(let p=0;p<l.length;p++){const{name:b,fn:w}=l[p],{x:S,y:T,data:M,reset:k}=await w({x:u,y:g,initialPlacement:s,placement:f,strategy:n,middlewareData:v,rects:d,platform:i,elements:{reference:e,floating:t}});u=S??u,g=T??g,v={...v,[b]:{...v[b],...M}},k&&x<=50&&(x++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(d=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:n}):k.rects),{x:u,y:g}=bs(d,f,c)),p=-1)}return{x:u,y:g,placement:f,strategy:n,middlewareData:v}};async function gt(e,t){var r;t===void 0&&(t={});const{x:s,y:n,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:g="floating",altBoundary:f=!1,padding:v=0}=_e(t,e),x=un(v),b=l[f?g==="floating"?"reference":"floating":g],w=Vt(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),S=g==="floating"?{x:s,y:n,width:i.floating.width,height:i.floating.height}:i.reference,T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),M=await(a.isElement==null?void 0:a.isElement(T))?await(a.getScale==null?void 0:a.getScale(T))||{x:1,y:1}:{x:1,y:1},k=Vt(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:T,strategy:c}):S);return{top:(w.top-k.top+x.top)/M.y,bottom:(k.bottom-w.bottom+x.bottom)/M.y,left:(w.left-k.left+x.left)/M.x,right:(k.right-w.right+x.right)/M.x}}const Ki=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:n,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=_e(e,t)||{};if(d==null)return{};const g=un(u),f={x:r,y:s},v=Wr(n),x=Vr(v),p=await i.getDimensions(d),b=v==="y",w=b?"top":"left",S=b?"bottom":"right",T=b?"clientHeight":"clientWidth",M=a.reference[x]+a.reference[v]-f[v]-a.floating[x],k=f[v]-a.reference[v],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let C=N?N[T]:0;(!C||!await(i.isElement==null?void 0:i.isElement(N)))&&(C=l.floating[T]||a.floating[x]);const j=M/2-k/2,R=C/2-p[x]/2-1,B=Be(g[w],R),q=Be(g[S],R),Q=B,K=C-p[x]-q,_=C/2-p[x]/2+j,G=Tr(Q,_,K),z=!c.arrow&&ot(n)!=null&&_!==G&&a.reference[x]/2-(_<Q?B:q)-p[x]/2<0,Z=z?_<Q?_-Q:_-K:0;return{[v]:f[v]+Z,data:{[v]:G,centerOffset:_-G-Z,...z&&{alignmentOffset:Z}},reset:z}}}),Xi=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:n,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:g=!0,fallbackPlacements:f,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...b}=_e(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=De(n),S=He(l),T=De(l)===l,M=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=f||(T||!p?[qt(l)]:qi(l)),N=x!=="none";!f&&N&&k.push(...Wi(l,p,x,M));const C=[l,...k],j=await gt(t,b),R=[];let B=((s=a.flip)==null?void 0:s.overflows)||[];if(u&&R.push(j[w]),g){const _=zi(n,i,M);R.push(j[_[0]],j[_[1]])}if(B=[...B,{placement:n,overflows:R}],!R.every(_=>_<=0)){var q,Q;const _=(((q=a.flip)==null?void 0:q.index)||0)+1,G=C[_];if(G)return{data:{index:_,overflows:B},reset:{placement:G}};let z=(Q=B.filter(Z=>Z.overflows[0]<=0).sort((Z,I)=>Z.overflows[1]-I.overflows[1])[0])==null?void 0:Q.placement;if(!z)switch(v){case"bestFit":{var K;const Z=(K=B.filter(I=>{if(N){const J=He(I.placement);return J===S||J==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(J=>J>0).reduce((J,y)=>J+y,0)]).sort((I,J)=>I[1]-J[1])[0])==null?void 0:K[0];Z&&(z=Z);break}case"initialPlacement":z=l;break}if(n!==z)return{reset:{placement:z}}}return{}}}};function ws(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ss(e){return $i.some(t=>e[t]>=0)}const Gi=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...n}=_e(e,t);switch(s){case"referenceHidden":{const a=await gt(t,{...n,elementContext:"reference"}),i=ws(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Ss(i)}}}case"escaped":{const a=await gt(t,{...n,altBoundary:!0}),i=ws(a,r.floating);return{data:{escapedOffsets:i,escaped:Ss(i)}}}default:return{}}}}};async function Zi(e,t){const{placement:r,platform:s,elements:n}=e,a=await(s.isRTL==null?void 0:s.isRTL(n.floating)),i=De(r),l=ot(r),c=He(r)==="y",d=["left","top"].includes(i)?-1:1,u=a&&c?-1:1,g=_e(t,e);let{mainAxis:f,crossAxis:v,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof x=="number"&&(v=l==="end"?x*-1:x),c?{x:v*u,y:f*d}:{x:f*d,y:v*u}}const Ji=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:n,y:a,placement:i,middlewareData:l}=t,c=await Zi(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:n+c.x,y:a+c.y,data:{...c,placement:i}}}}},el=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:n}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:w,y:S}=b;return{x:w,y:S}}},...c}=_e(e,t),d={x:r,y:s},u=await gt(t,c),g=He(De(n)),f=qr(g);let v=d[f],x=d[g];if(a){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",S=v+u[b],T=v-u[w];v=Tr(S,v,T)}if(i){const b=g==="y"?"top":"left",w=g==="y"?"bottom":"right",S=x+u[b],T=x-u[w];x=Tr(S,x,T)}const p=l.fn({...t,[f]:v,[g]:x});return{...p,data:{x:p.x-r,y:p.y-s,enabled:{[f]:a,[g]:i}}}}}},tl=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:n,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=_e(e,t),u={x:r,y:s},g=He(n),f=qr(g);let v=u[f],x=u[g];const p=_e(l,t),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const T=f==="y"?"height":"width",M=a.reference[f]-a.floating[T]+b.mainAxis,k=a.reference[f]+a.reference[T]-b.mainAxis;v<M?v=M:v>k&&(v=k)}if(d){var w,S;const T=f==="y"?"width":"height",M=["top","left"].includes(De(n)),k=a.reference[g]-a.floating[T]+(M&&((w=i.offset)==null?void 0:w[g])||0)+(M?0:b.crossAxis),N=a.reference[g]+a.reference[T]+(M?0:((S=i.offset)==null?void 0:S[g])||0)-(M?b.crossAxis:0);x<k?x=k:x>N&&(x=N)}return{[f]:v,[g]:x}}}},rl=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:n,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...d}=_e(e,t),u=await gt(t,d),g=De(n),f=ot(n),v=He(n)==="y",{width:x,height:p}=a.floating;let b,w;g==="top"||g==="bottom"?(b=g,w=f===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(w=g,b=f==="end"?"top":"bottom");const S=p-u.top-u.bottom,T=x-u.left-u.right,M=Be(p-u[b],S),k=Be(x-u[w],T),N=!t.middlewareData.shift;let C=M,j=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=T),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(C=S),N&&!f){const B=xe(u.left,0),q=xe(u.right,0),Q=xe(u.top,0),K=xe(u.bottom,0);v?j=x-2*(B!==0||q!==0?B+q:xe(u.left,u.right)):C=p-2*(Q!==0||K!==0?Q+K:xe(u.top,u.bottom))}await c({...t,availableWidth:j,availableHeight:C});const R=await i.getDimensions(l.floating);return x!==R.width||p!==R.height?{reset:{rects:!0}}:{}}}};function er(){return typeof window<"u"}function at(e){return fn(e)?(e.nodeName||"").toLowerCase():"#document"}function ye(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ae(e){var t;return(t=(fn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fn(e){return er()?e instanceof Node||e instanceof ye(e).Node:!1}function Pe(e){return er()?e instanceof Element||e instanceof ye(e).Element:!1}function ke(e){return er()?e instanceof HTMLElement||e instanceof ye(e).HTMLElement:!1}function Cs(e){return!er()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ye(e).ShadowRoot}function wt(e){const{overflow:t,overflowX:r,overflowY:s,display:n}=je(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(n)}function sl(e){return["table","td","th"].includes(at(e))}function tr(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Qr(e){const t=Yr(),r=Pe(e)?je(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function nl(e){let t=Ue(e);for(;ke(t)&&!rt(t);){if(Qr(t))return t;if(tr(t))return null;t=Ue(t)}return null}function Yr(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rt(e){return["html","body","#document"].includes(at(e))}function je(e){return ye(e).getComputedStyle(e)}function rr(e){return Pe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ue(e){if(at(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cs(e)&&e.host||Ae(e);return Cs(t)?t.host:t}function hn(e){const t=Ue(e);return rt(t)?e.ownerDocument?e.ownerDocument.body:e.body:ke(t)&&wt(t)?t:hn(t)}function vt(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const n=hn(e),a=n===((s=e.ownerDocument)==null?void 0:s.body),i=ye(n);if(a){const l=jr(i);return t.concat(i,i.visualViewport||[],wt(n)?n:[],l&&r?vt(l):[])}return t.concat(n,vt(n,[],r))}function jr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mn(e){const t=je(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const n=ke(e),a=n?e.offsetWidth:r,i=n?e.offsetHeight:s,l=zt(r)!==a||zt(s)!==i;return l&&(r=a,s=i),{width:r,height:s,$:l}}function Kr(e){return Pe(e)?e:e.contextElement}function Ge(e){const t=Kr(e);if(!ke(t))return $e(1);const r=t.getBoundingClientRect(),{width:s,height:n,$:a}=mn(t);let i=(a?zt(r.width):r.width)/s,l=(a?zt(r.height):r.height)/n;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const ol=$e(0);function pn(e){const t=ye(e);return!Yr()||!t.visualViewport?ol:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function al(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ye(e)?!1:t}function Ve(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=Kr(e);let i=$e(1);t&&(s?Pe(s)&&(i=Ge(s)):i=Ge(e));const l=al(a,r,s)?pn(a):$e(0);let c=(n.left+l.x)/i.x,d=(n.top+l.y)/i.y,u=n.width/i.x,g=n.height/i.y;if(a){const f=ye(a),v=s&&Pe(s)?ye(s):s;let x=f,p=jr(x);for(;p&&s&&v!==x;){const b=Ge(p),w=p.getBoundingClientRect(),S=je(p),T=w.left+(p.clientLeft+parseFloat(S.paddingLeft))*b.x,M=w.top+(p.clientTop+parseFloat(S.paddingTop))*b.y;c*=b.x,d*=b.y,u*=b.x,g*=b.y,c+=T,d+=M,x=ye(p),p=jr(x)}}return Vt({width:u,height:g,x:c,y:d})}function il(e){let{elements:t,rect:r,offsetParent:s,strategy:n}=e;const a=n==="fixed",i=Ae(s),l=t?tr(t.floating):!1;if(s===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=$e(1);const u=$e(0),g=ke(s);if((g||!g&&!a)&&((at(s)!=="body"||wt(i))&&(c=rr(s)),ke(s))){const f=Ve(s);d=Ge(s),u.x=f.x+s.clientLeft,u.y=f.y+s.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x,y:r.y*d.y-c.scrollTop*d.y+u.y}}function ll(e){return Array.from(e.getClientRects())}function Rr(e,t){const r=rr(e).scrollLeft;return t?t.left+r:Ve(Ae(e)).left+r}function cl(e){const t=Ae(e),r=rr(e),s=e.ownerDocument.body,n=xe(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=xe(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let i=-r.scrollLeft+Rr(e);const l=-r.scrollTop;return je(s).direction==="rtl"&&(i+=xe(t.clientWidth,s.clientWidth)-n),{width:n,height:a,x:i,y:l}}function dl(e,t){const r=ye(e),s=Ae(e),n=r.visualViewport;let a=s.clientWidth,i=s.clientHeight,l=0,c=0;if(n){a=n.width,i=n.height;const d=Yr();(!d||d&&t==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:a,height:i,x:l,y:c}}function ul(e,t){const r=Ve(e,!0,t==="fixed"),s=r.top+e.clientTop,n=r.left+e.clientLeft,a=ke(e)?Ge(e):$e(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=n*a.x,d=s*a.y;return{width:i,height:l,x:c,y:d}}function Ns(e,t,r){let s;if(t==="viewport")s=dl(e,r);else if(t==="document")s=cl(Ae(e));else if(Pe(t))s=ul(t,r);else{const n=pn(e);s={...t,x:t.x-n.x,y:t.y-n.y}}return Vt(s)}function gn(e,t){const r=Ue(e);return r===t||!Pe(r)||rt(r)?!1:je(r).position==="fixed"||gn(r,t)}function fl(e,t){const r=t.get(e);if(r)return r;let s=vt(e,[],!1).filter(l=>Pe(l)&&at(l)!=="body"),n=null;const a=je(e).position==="fixed";let i=a?Ue(e):e;for(;Pe(i)&&!rt(i);){const l=je(i),c=Qr(i);!c&&l.position==="fixed"&&(n=null),(a?!c&&!n:!c&&l.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||wt(i)&&!c&&gn(e,i))?s=s.filter(u=>u!==i):n=l,i=Ue(i)}return t.set(e,s),s}function hl(e){let{element:t,boundary:r,rootBoundary:s,strategy:n}=e;const i=[...r==="clippingAncestors"?tr(t)?[]:fl(t,this._c):[].concat(r),s],l=i[0],c=i.reduce((d,u)=>{const g=Ns(t,u,n);return d.top=xe(g.top,d.top),d.right=Be(g.right,d.right),d.bottom=Be(g.bottom,d.bottom),d.left=xe(g.left,d.left),d},Ns(t,l,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ml(e){const{width:t,height:r}=mn(e);return{width:t,height:r}}function pl(e,t,r){const s=ke(t),n=Ae(t),a=r==="fixed",i=Ve(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=$e(0);if(s||!s&&!a)if((at(t)!=="body"||wt(n))&&(l=rr(t)),s){const v=Ve(t,!0,a,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else n&&(c.x=Rr(n));let d=0,u=0;if(n&&!s&&!a){const v=n.getBoundingClientRect();u=v.top+l.scrollTop,d=v.left+l.scrollLeft-Rr(n,v)}const g=i.left+l.scrollLeft-c.x-d,f=i.top+l.scrollTop-c.y-u;return{x:g,y:f,width:i.width,height:i.height}}function vr(e){return je(e).position==="static"}function Ts(e,t){if(!ke(e)||je(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ae(e)===r&&(r=r.ownerDocument.body),r}function vn(e,t){const r=ye(e);if(tr(e))return r;if(!ke(e)){let n=Ue(e);for(;n&&!rt(n);){if(Pe(n)&&!vr(n))return n;n=Ue(n)}return r}let s=Ts(e,t);for(;s&&sl(s)&&vr(s);)s=Ts(s,t);return s&&rt(s)&&vr(s)&&!Qr(s)?r:s||nl(e)||r}const gl=async function(e){const t=this.getOffsetParent||vn,r=this.getDimensions,s=await r(e.floating);return{reference:pl(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function vl(e){return je(e).direction==="rtl"}const xl={convertOffsetParentRelativeRectToViewportRelativeRect:il,getDocumentElement:Ae,getClippingRect:hl,getOffsetParent:vn,getElementRects:gl,getClientRects:ll,getDimensions:ml,getScale:Ge,isElement:Pe,isRTL:vl};function yl(e,t){let r=null,s;const n=Ae(e);function a(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:d,top:u,width:g,height:f}=e.getBoundingClientRect();if(l||t(),!g||!f)return;const v=It(u),x=It(n.clientWidth-(d+g)),p=It(n.clientHeight-(u+f)),b=It(d),S={rootMargin:-v+"px "+-x+"px "+-p+"px "+-b+"px",threshold:xe(0,Be(1,c))||1};let T=!0;function M(k){const N=k[0].intersectionRatio;if(N!==c){if(!T)return i();N?i(!1,N):s=setTimeout(()=>{i(!1,1e-7)},1e3)}T=!1}try{r=new IntersectionObserver(M,{...S,root:n.ownerDocument})}catch{r=new IntersectionObserver(M,S)}r.observe(e)}return i(!0),a}function bl(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Kr(e),u=n||a?[...d?vt(d):[],...vt(t)]:[];u.forEach(w=>{n&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const g=d&&l?yl(d,r):null;let f=-1,v=null;i&&(v=new ResizeObserver(w=>{let[S]=w;S&&S.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=v)==null||T.observe(t)})),r()}),d&&!c&&v.observe(d),v.observe(t));let x,p=c?Ve(e):null;c&&b();function b(){const w=Ve(e);p&&(w.x!==p.x||w.y!==p.y||w.width!==p.width||w.height!==p.height)&&r(),p=w,x=requestAnimationFrame(b)}return r(),()=>{var w;u.forEach(S=>{n&&S.removeEventListener("scroll",r),a&&S.removeEventListener("resize",r)}),g?.(),(w=v)==null||w.disconnect(),v=null,c&&cancelAnimationFrame(x)}}const wl=Ji,Sl=el,Cl=Xi,Nl=rl,Tl=Gi,Ps=Ki,Pl=tl,jl=(e,t,r)=>{const s=new Map,n={platform:xl,...r},a={...n.platform,_c:s};return Yi(e,t,{...n,platform:a})};var Ft=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Wt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,n;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Wt(e[s],t[s]))return!1;return!0}if(n=Object.keys(e),r=n.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,n[s]))return!1;for(s=r;s--!==0;){const a=n[s];if(!(a==="_owner"&&e.$$typeof)&&!Wt(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function xn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function js(e,t){const r=xn(e);return Math.round(t*r)/r}function xr(e){const t=h.useRef(e);return Ft(()=>{t.current=e}),t}function Rl(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:n,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,g]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,v]=h.useState(s);Wt(f,s)||v(s);const[x,p]=h.useState(null),[b,w]=h.useState(null),S=h.useCallback(I=>{I!==N.current&&(N.current=I,p(I))},[]),T=h.useCallback(I=>{I!==C.current&&(C.current=I,w(I))},[]),M=a||x,k=i||b,N=h.useRef(null),C=h.useRef(null),j=h.useRef(u),R=c!=null,B=xr(c),q=xr(n),Q=xr(d),K=h.useCallback(()=>{if(!N.current||!C.current)return;const I={placement:t,strategy:r,middleware:f};q.current&&(I.platform=q.current),jl(N.current,C.current,I).then(J=>{const y={...J,isPositioned:Q.current!==!1};_.current&&!Wt(j.current,y)&&(j.current=y,zr.flushSync(()=>{g(y)}))})},[f,t,r,q,Q]);Ft(()=>{d===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,g(I=>({...I,isPositioned:!1})))},[d]);const _=h.useRef(!1);Ft(()=>(_.current=!0,()=>{_.current=!1}),[]),Ft(()=>{if(M&&(N.current=M),k&&(C.current=k),M&&k){if(B.current)return B.current(M,k,K);K()}},[M,k,K,B,R]);const G=h.useMemo(()=>({reference:N,floating:C,setReference:S,setFloating:T}),[S,T]),z=h.useMemo(()=>({reference:M,floating:k}),[M,k]),Z=h.useMemo(()=>{const I={position:r,left:0,top:0};if(!z.floating)return I;const J=js(z.floating,u.x),y=js(z.floating,u.y);return l?{...I,transform:"translate("+J+"px, "+y+"px)",...xn(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:y}},[r,l,z.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:K,refs:G,elements:z,floatingStyles:Z}),[u,K,G,z,Z])}const El=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:n}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?Ps({element:s.current,padding:n}).fn(r):{}:s?Ps({element:s,padding:n}).fn(r):{}}}},kl=(e,t)=>({...wl(e),options:[e,t]}),Al=(e,t)=>({...Sl(e),options:[e,t]}),Ol=(e,t)=>({...Pl(e),options:[e,t]}),Ml=(e,t)=>({...Cl(e),options:[e,t]}),Il=(e,t)=>({...Nl(e),options:[e,t]}),_l=(e,t)=>({...Tl(e),options:[e,t]}),Dl=(e,t)=>({...El(e),options:[e,t]});var Ll="Arrow",yn=h.forwardRef((e,t)=>{const{children:r,width:s=10,height:n=5,...a}=e;return o.jsx(oe.svg,{...a,ref:t,width:s,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});yn.displayName=Ll;var Fl=yn;function Bl(e,t=[]){let r=[];function s(a,i){const l=h.createContext(i),c=r.length;r=[...r,i];function d(g){const{scope:f,children:v,...x}=g,p=f?.[e][c]||l,b=h.useMemo(()=>x,Object.values(x));return o.jsx(p.Provider,{value:b,children:v})}function u(g,f){const v=f?.[e][c]||l,x=h.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${g}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,u]}const n=()=>{const a=r.map(i=>h.createContext(i));return function(l){const c=l?.[e]||a;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return n.scopeName=e,[s,$l(n,...t)]}function $l(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(a){const i=s.reduce((l,{useScope:c,scopeName:d})=>{const g=c(a)[`__scope${d}`];return{...l,...g}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Xr="Popper",[bn,sr]=Bl(Xr),[Hl,wn]=bn(Xr),Sn=e=>{const{__scopePopper:t,children:r}=e,[s,n]=h.useState(null);return o.jsx(Hl,{scope:t,anchor:s,onAnchorChange:n,children:r})};Sn.displayName=Xr;var Cn="PopperAnchor",Nn=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...n}=e,a=wn(Cn,r),i=h.useRef(null),l=de(t,i);return h.useEffect(()=>{a.onAnchorChange(s?.current||i.current)}),s?null:o.jsx(oe.div,{...n,ref:l})});Nn.displayName=Cn;var Gr="PopperContent",[Ul,zl]=bn(Gr),Tn=h.forwardRef((e,t)=>{const{__scopePopper:r,side:s="bottom",sideOffset:n=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:g="partial",hideWhenDetached:f=!1,updatePositionStrategy:v="optimized",onPlaced:x,...p}=e,b=wn(Gr,r),[w,S]=h.useState(null),T=de(t,P=>S(P)),[M,k]=h.useState(null),N=ba(M),C=N?.width??0,j=N?.height??0,R=s+(a!=="center"?"-"+a:""),B=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},q=Array.isArray(d)?d:[d],Q=q.length>0,K={padding:B,boundary:q.filter(Vl),altBoundary:Q},{refs:_,floatingStyles:G,placement:z,isPositioned:Z,middlewareData:I}=Rl({strategy:"fixed",placement:R,whileElementsMounted:(...P)=>bl(...P,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[kl({mainAxis:n+j,alignmentAxis:i}),c&&Al({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Ol():void 0,...K}),c&&Ml({...K}),Il({...K,apply:({elements:P,rects:D,availableWidth:V,availableHeight:$})=>{const{width:U,height:W}=D.reference,ee=P.floating.style;ee.setProperty("--radix-popper-available-width",`${V}px`),ee.setProperty("--radix-popper-available-height",`${$}px`),ee.setProperty("--radix-popper-anchor-width",`${U}px`),ee.setProperty("--radix-popper-anchor-height",`${W}px`)}}),M&&Dl({element:M,padding:l}),Wl({arrowWidth:C,arrowHeight:j}),f&&_l({strategy:"referenceHidden",...K})]}),[J,y]=Rn(z),m=Ie(x);Te(()=>{Z&&m?.()},[Z,m]);const E=I.arrow?.x,O=I.arrow?.y,F=I.arrow?.centerOffset!==0,[H,L]=h.useState();return Te(()=>{w&&L(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:Z?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Ul,{scope:r,placedSide:J,onArrowChange:k,arrowX:E,arrowY:O,shouldHideArrow:F,children:o.jsx(oe.div,{"data-side":J,"data-align":y,...p,ref:T,style:{...p.style,animation:Z?void 0:"none"}})})})});Tn.displayName=Gr;var Pn="PopperArrow",ql={top:"bottom",right:"left",bottom:"top",left:"right"},jn=h.forwardRef(function(t,r){const{__scopePopper:s,...n}=t,a=zl(Pn,s),i=ql[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(Fl,{...n,ref:r,style:{...n.style,display:"block"}})})});jn.displayName=Pn;function Vl(e){return e!==null}var Wl=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:s,middlewareData:n}=t,i=n.arrow?.centerOffset!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,u]=Rn(r),g={start:"0%",center:"50%",end:"100%"}[u],f=(n.arrow?.x??0)+l/2,v=(n.arrow?.y??0)+c/2;let x="",p="";return d==="bottom"?(x=i?g:`${f}px`,p=`${-c}px`):d==="top"?(x=i?g:`${f}px`,p=`${s.floating.height+c}px`):d==="right"?(x=`${-c}px`,p=i?g:`${v}px`):d==="left"&&(x=`${s.floating.width+c}px`,p=i?g:`${v}px`),{data:{x,y:p}}}});function Rn(e){const[t,r="center"]=e.split("-");return[t,r]}var Ql=Sn,En=Nn,kn=Tn,An=jn,[nr,Pu]=Hr("Tooltip",[sr]),Zr=sr(),On="TooltipProvider",Yl=700,Rs="tooltip.open",[Kl,Mn]=nr(On),In=e=>{const{__scopeTooltip:t,delayDuration:r=Yl,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:a}=e,[i,l]=h.useState(!0),c=h.useRef(!1),d=h.useRef(0);return h.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),o.jsx(Kl,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:h.useCallback(u=>{c.current=u},[]),disableHoverableContent:n,children:a})};In.displayName=On;var _n="Tooltip",[ju,or]=nr(_n),Er="TooltipTrigger",Xl=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,n=or(Er,r),a=Mn(Er,r),i=Zr(r),l=h.useRef(null),c=de(t,l,n.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),g=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),o.jsx(En,{asChild:!0,...i,children:o.jsx(oe.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:c,onPointerMove:te(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:te(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:te(e.onFocus,()=>{d.current||n.onOpen()}),onBlur:te(e.onBlur,n.onClose),onClick:te(e.onClick,n.onClose)})})});Xl.displayName=Er;var Gl="TooltipPortal",[Ru,Zl]=nr(Gl,{forceMount:void 0}),st="TooltipContent",Dn=h.forwardRef((e,t)=>{const r=Zl(st,e.__scopeTooltip),{forceMount:s=r.forceMount,side:n="top",...a}=e,i=or(st,e.__scopeTooltip);return o.jsx(yt,{present:s||i.open,children:i.disableHoverableContent?o.jsx(Ln,{side:n,...a,ref:t}):o.jsx(Jl,{side:n,...a,ref:t})})}),Jl=h.forwardRef((e,t)=>{const r=or(st,e.__scopeTooltip),s=Mn(st,e.__scopeTooltip),n=h.useRef(null),a=de(t,n),[i,l]=h.useState(null),{trigger:c,onClose:d}=r,u=n.current,{onPointerInTransitChange:g}=s,f=h.useCallback(()=>{l(null),g(!1)},[g]),v=h.useCallback((x,p)=>{const b=x.currentTarget,w={x:x.clientX,y:x.clientY},S=sc(w,b.getBoundingClientRect()),T=nc(w,S),M=oc(p.getBoundingClientRect()),k=ic([...T,...M]);l(k),g(!0)},[g]);return h.useEffect(()=>()=>f(),[f]),h.useEffect(()=>{if(c&&u){const x=b=>v(b,u),p=b=>v(b,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",p)}}},[c,u,v,f]),h.useEffect(()=>{if(i){const x=p=>{const b=p.target,w={x:p.clientX,y:p.clientY},S=c?.contains(b)||u?.contains(b),T=!ac(w,i);S?f():T&&(f(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,i,d,f]),o.jsx(Ln,{...e,ref:a})}),[ec,tc]=nr(_n,{isInside:!1}),Ln=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":n,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=or(st,r),d=Zr(r),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(Rs,u),()=>document.removeEventListener(Rs,u)),[u]),h.useEffect(()=>{if(c.trigger){const g=f=>{f.target?.contains(c.trigger)&&u()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[c.trigger,u]),o.jsx(Xs,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:g=>g.preventDefault(),onDismiss:u,children:o.jsxs(kn,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(wa,{children:s}),o.jsx(ec,{scope:r,isInside:!0,children:o.jsx(Sa,{id:c.contentId,role:"tooltip",children:n||s})})]})})});Dn.displayName=st;var Fn="TooltipArrow",rc=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,n=Zr(r);return tc(Fn,r).isInside?null:o.jsx(An,{...n,...s,ref:t})});rc.displayName=Fn;function sc(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,s,n,a)){case a:return"left";case n:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function nc(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function oc(e){const{top:t,right:r,bottom:s,left:n}=e;return[{x:n,y:t},{x:r,y:t},{x:r,y:s},{x:n,y:s}]}function ac(e,t){const{x:r,y:s}=e;let n=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,d=t[i].x,u=t[i].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(n=!n)}return n}function ic(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),lc(t)}function lc(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const n=e[s];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(n.y-i.y)>=(a.y-i.y)*(n.x-i.x))t.pop();else break}t.push(n)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const n=e[s];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(n.y-i.y)>=(a.y-i.y)*(n.x-i.x))r.pop();else break}r.push(n)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var cc=In,Bn=Dn;const dc=cc,uc=h.forwardRef(({className:e,sideOffset:t=4,...r},s)=>o.jsx(Bn,{ref:s,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));uc.displayName=Bn.displayName;var it=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},We=typeof window>"u"||"Deno"in globalThis;function be(){}function fc(e,t){return typeof e=="function"?e(t):e}function kr(e){return typeof e=="number"&&e>=0&&e!==1/0}function $n(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ze(e,t){return typeof e=="function"?e(t):e}function Ne(e,t){return typeof e=="function"?e(t):e}function Es(e,t){const{type:r="all",exact:s,fetchStatus:n,predicate:a,queryKey:i,stale:l}=e;if(i){if(s){if(t.queryHash!==Jr(i,t.options))return!1}else if(!xt(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||n&&n!==t.state.fetchStatus||a&&!a(t))}function ks(e,t){const{exact:r,status:s,predicate:n,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Qe(t.options.mutationKey)!==Qe(a))return!1}else if(!xt(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||n&&!n(t))}function Jr(e,t){return(t?.queryKeyHashFn||Qe)(e)}function Qe(e){return JSON.stringify(e,(t,r)=>Ar(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function xt(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!xt(e[r],t[r])):!1}function Hn(e,t){if(e===t)return e;const r=As(e)&&As(t);if(r||Ar(e)&&Ar(t)){const s=r?e:Object.keys(e),n=s.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{};let c=0;for(let d=0;d<i;d++){const u=r?d:a[d];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=Hn(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return n===i&&c===n?e:l}return t}function Qt(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function As(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ar(e){if(!Os(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Os(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Os(e){return Object.prototype.toString.call(e)==="[object Object]"}function hc(e){return new Promise(t=>{setTimeout(t,e)})}function Or(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Hn(e,t):t}function mc(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function pc(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var es=Symbol();function Un(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===es?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var gc=class extends it{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!We&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ts=new gc,vc=class extends it{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!We&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Yt=new vc;function Mr(){let e,t;const r=new Promise((n,a)=>{e=n,t=a});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),e(n)},r.reject=n=>{s({status:"rejected",reason:n}),t(n)},r}function xc(e){return Math.min(1e3*2**e,3e4)}function zn(e){return(e??"online")==="online"?Yt.isOnline():!0}var qn=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function yr(e){return e instanceof qn}function Vn(e){let t=!1,r=0,s=!1,n;const a=Mr(),i=p=>{s||(f(new qn(p)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},d=()=>ts.isFocused()&&(e.networkMode==="always"||Yt.isOnline())&&e.canRun(),u=()=>zn(e.networkMode)&&e.canRun(),g=p=>{s||(s=!0,e.onSuccess?.(p),n?.(),a.resolve(p))},f=p=>{s||(s=!0,e.onError?.(p),n?.(),a.reject(p))},v=()=>new Promise(p=>{n=b=>{(s||d())&&p(b)},e.onPause?.()}).then(()=>{n=void 0,s||e.onContinue?.()}),x=()=>{if(s)return;let p;const b=r===0?e.initialPromise:void 0;try{p=b??e.fn()}catch(w){p=Promise.reject(w)}Promise.resolve(p).then(g).catch(w=>{if(s)return;const S=e.retry??(We?0:3),T=e.retryDelay??xc,M=typeof T=="function"?T(r,w):T,k=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,w);if(t||!k){f(w);return}r++,e.onFail?.(r,w),hc(M).then(()=>d()?void 0:v()).then(()=>{t?f(w):x()})})};return{promise:a,cancel:i,continue:()=>(n?.(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():v().then(x),a)}}function yc(){let e=[],t=0,r=l=>{l()},s=l=>{l()},n=l=>setTimeout(l,0);const a=l=>{t?e.push(l):n(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&n(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{n=l}}}var ue=yc(),Wn=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kr(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(We?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},bc=class extends Wn{#e;#t;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=wc(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const r=Or(this.state.data,e,this.options);return this.#n({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#n({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(be).catch(be):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ne(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===es||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!$n(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,s=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},n=()=>{const l=Un(this.options,t),c={queryKey:this.queryKey,meta:this.meta};return s(c),this.#o=!1,this.options.persister?this.options.persister(l,c,this):l(c)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:n};s(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#n({type:"fetch",meta:a.fetchOptions?.meta});const i=l=>{yr(l)&&l.silent||this.#n({type:"error",error:l}),yr(l)||(this.#s.config.onError?.(l,this),this.#s.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#r=Vn({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{if(l===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){i(c);return}this.#s.config.onSuccess?.(l,this),this.#s.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:i,onFail:(l,c)=>{this.#n({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#r.start()}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Qn(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return yr(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ue.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function Qn(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zn(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wc(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Sc=class extends it{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const s=t.queryKey,n=t.queryHash??Jr(s,t);let a=this.get(n);return a||(a=new bc({cache:this,queryKey:s,queryHash:n,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ue.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Es(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Es(e,r)):t}notify(e){ue.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ue.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ue.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cc=class extends Wn{#e;#t;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Yn(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){this.#s=Vn({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,n)=>{this.#r({type:"failed",failureCount:s,error:n})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",r=!this.#s.canStart();try{if(!t){this.#r({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const n=await this.options.onMutate?.(e);n!==this.state.context&&this.#r({type:"pending",context:n,variables:e,isPaused:r})}const s=await this.#s.start();return await this.#t.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#r({type:"error",error:s})}}finally{this.#t.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ue.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Yn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nc=class extends it{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,r){const s=new Cc({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){const t=_t(e),r=this.#e.get(t)??[];r.push(e),this.#e.set(t,r),this.notify({type:"added",mutation:e})}remove(e){const t=_t(e);if(this.#e.has(t)){const r=this.#e.get(t)?.filter(s=>s!==e);r&&(r.length===0?this.#e.delete(t):this.#e.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(_t(e))?.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(_t(e))?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){ue.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ks(t,r))}findAll(e={}){return this.getAll().filter(t=>ks(e,t))}notify(e){ue.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ue.batch(()=>Promise.all(e.map(t=>t.continue().catch(be))))}};function _t(e){return e.options.scope?.id??String(e.mutationId)}function Ms(e){return{onFetch:(t,r)=>{const s=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const g=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},f=Un(t.options,t.fetchOptions),v=async(x,p,b)=>{if(u)return Promise.reject();if(p==null&&x.pages.length)return Promise.resolve(x);const w={queryKey:t.queryKey,pageParam:p,direction:b?"backward":"forward",meta:t.options.meta};g(w);const S=await f(w),{maxPages:T}=t.options,M=b?pc:mc;return{pages:M(x.pages,S,T),pageParams:M(x.pageParams,p,T)}};if(n&&a.length){const x=n==="backward",p=x?Tc:Is,b={pages:a,pageParams:i},w=p(s,b);l=await v(b,w,x)}else{const x=e??a.length;do{const p=c===0?i[0]??s.initialPageParam:Is(s,l);if(c>0&&p==null)break;l=await v(l,p),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=d}}}function Is(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Tc(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Pc=class{#e;#t;#s;#r;#a;#o;#n;#i;constructor(e={}){this.#e=e.queryCache||new Sc,this.#t=e.mutationCache||new Nc,this.#s=e.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#n=ts.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Yt.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#n?.(),this.#n=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=this.#e.build(this,r);return e.revalidateIfStale&&s.isStaleByTime(Ze(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(s.queryHash)?.state.data,i=fc(t,a);if(i!==void 0)return this.#e.build(this,s).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return ue.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;ue.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e,s={type:"active",...e};return ue.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=ue.batch(()=>this.#e.findAll(e).map(n=>n.cancel(r)));return Promise.all(s).then(be).catch(be)}invalidateQueries(e={},t={}){return ue.batch(()=>{if(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:t?.cancelRefetch??!0},s=ue.batch(()=>this.#e.findAll(e).filter(n=>!n.isDisabled()).map(n=>{let a=n.fetch(void 0,r);return r.throwOnError||(a=a.catch(be)),n.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(be)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Ze(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(be).catch(be)}fetchInfiniteQuery(e){return e.behavior=Ms(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(be).catch(be)}ensureInfiniteQueryData(e){return e.behavior=Ms(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yt.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#r.set(Qe(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()];let r={};return t.forEach(s=>{xt(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){this.#a.set(Qe(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()];let r={};return t.forEach(s=>{xt(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Jr(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===es&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},jc=class extends it{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#n=Mr(),this.options.experimental_prefetchInRender||this.#n.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#s=void 0;#r=void 0;#a;#o;#n;#i;#p;#f;#h;#c;#d;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),_s(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ir(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ir(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e,t){const r=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ne(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),r._defaulted&&!Qt(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&Ds(this.#t,s,this.options,r)&&this.#u(),this.updateResult(t),n&&(this.#t!==s||Ne(this.options.enabled,this.#t)!==Ne(r.enabled,this.#t)||Ze(this.options.staleTime,this.#t)!==Ze(r.staleTime,this.#t))&&this.#g();const a=this.#v();n&&(this.#t!==s||Ne(this.options.enabled,this.#t)!==Ne(r.enabled,this.#t)||a!==this.#l)&&this.#x(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return Ec(this,r)&&(this.#r=r,this.#o=this.options,this.#a=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(e,t){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),t?.(s),e[s])})}),r}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#u(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(be)),t}#g(){this.#b();const e=Ze(this.options.staleTime,this.#t);if(We||this.#r.isStale||!kr(e))return;const r=$n(this.#r.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(e){this.#w(),this.#l=e,!(We||Ne(this.options.enabled,this.#t)===!1||!kr(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||ts.isFocused())&&this.#u()},this.#l))}#y(){this.#g(),this.#x(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const r=this.#t,s=this.options,n=this.#r,a=this.#a,i=this.#o,c=e!==r?e.state:this.#s,{state:d}=e;let u={...d},g=!1,f;if(t._optimisticResults){const C=this.hasListeners(),j=!C&&_s(e,t),R=C&&Ds(e,r,t,s);(j||R)&&(u={...u,...Qn(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:p}=u;if(t.select&&u.data!==void 0)if(n&&u.data===a?.data&&t.select===this.#p)f=this.#f;else try{this.#p=t.select,f=t.select(u.data),f=Or(n?.data,f,t),this.#f=f,this.#i=null}catch(C){this.#i=C}else f=u.data;if(t.placeholderData!==void 0&&f===void 0&&p==="pending"){let C;if(n?.isPlaceholderData&&t.placeholderData===i?.placeholderData)C=n.data;else if(C=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&C!==void 0)try{C=t.select(C),this.#i=null}catch(j){this.#i=j}C!==void 0&&(p="success",f=Or(n?.data,C,t),g=!0)}this.#i&&(v=this.#i,f=this.#f,x=Date.now(),p="error");const b=u.fetchStatus==="fetching",w=p==="pending",S=p==="error",T=w&&b,M=f!==void 0,N={status:p,fetchStatus:u.fetchStatus,isPending:w,isSuccess:p==="success",isError:S,isInitialLoading:T,isLoading:T,data:f,dataUpdatedAt:u.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:S&&!M,isPaused:u.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:S&&M,isStale:rs(e,t),refetch:this.refetch,promise:this.#n};if(this.options.experimental_prefetchInRender){const C=B=>{N.status==="error"?B.reject(N.error):N.data!==void 0&&B.resolve(N.data)},j=()=>{const B=this.#n=N.promise=Mr();C(B)},R=this.#n;switch(R.status){case"pending":e.queryHash===r.queryHash&&C(R);break;case"fulfilled":(N.status==="error"||N.data!==R.value)&&j();break;case"rejected":(N.status!=="error"||N.error!==R.reason)&&j();break}}return N}updateResult(e){const t=this.#r,r=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#o=this.options,this.#a.data!==void 0&&(this.#h=this.#t),Qt(r,t))return;this.#r=r;const s={},n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!this.#m.size)return!0;const l=new Set(i??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(c=>{const d=c;return this.#r[d]!==t[d]&&l.has(d)})};e?.listeners!==!1&&n()&&(s.listeners=!0),this.#C({...s,...e})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#C(e){ue.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Rc(e,t){return Ne(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _s(e,t){return Rc(e,t)||e.state.data!==void 0&&Ir(e,t,t.refetchOnMount)}function Ir(e,t,r){if(Ne(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&rs(e,t)}return!1}function Ds(e,t,r,s){return(e!==t||Ne(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&rs(e,r)}function rs(e,t){return Ne(t.enabled,e)!==!1&&e.isStaleByTime(Ze(t.staleTime,e))}function Ec(e,t){return!Qt(e.getCurrentResult(),t)}var kc=class extends it{#e;#t=void 0;#s;#r;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Qt(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),r?.mutationKey&&this.options.mutationKey&&Qe(r.mutationKey)!==Qe(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#a(),this.#o(t)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#o()}mutate(t,r){return this.#r=r,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(t)}#a(){const t=this.#s?.state??Yn();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){ue.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,s=this.#t.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,r,s),this.#r.onSettled?.(t.data,null,r,s)):t?.type==="error"&&(this.#r.onError?.(t.error,r,s),this.#r.onSettled?.(void 0,t.error,r,s))}this.listeners.forEach(r=>{r(this.#t)})})}},Kn=h.createContext(void 0),ss=e=>{const t=h.useContext(Kn);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ac=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Kn.Provider,{value:e,children:t})),Xn=h.createContext(!1),Oc=()=>h.useContext(Xn);Xn.Provider;function Mc(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Ic=h.createContext(Mc()),_c=()=>h.useContext(Ic);function Gn(e,t){return typeof e=="function"?e(...t):!!e}function Zn(){}var Dc=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Lc=e=>{h.useEffect(()=>{e.clearReset()},[e])},Fc=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&Gn(r,[e.error,s]),Bc=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},$c=(e,t)=>e.isLoading&&e.isFetching&&!t,Hc=(e,t)=>e?.suspense&&t.isPending,Ls=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Uc(e,t,r){const s=ss(),n=Oc(),a=_c(),i=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=n?"isRestoring":"optimistic",Bc(i),Dc(i,a),Lc(a);const l=!s.getQueryCache().get(i.queryHash),[c]=h.useState(()=>new t(s,i)),d=c.getOptimisticResult(i);if(h.useSyncExternalStore(h.useCallback(u=>{const g=n?()=>{}:c.subscribe(ue.batchCalls(u));return c.updateResult(),g},[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),Hc(i,d))throw Ls(i,c,a);if(Fc({result:d,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash)}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(i,d),i.experimental_prefetchInRender&&!We&&$c(d,n)&&(l?Ls(i,c,a):s.getQueryCache().get(i.queryHash)?.promise)?.catch(Zn).finally(()=>{c.updateResult()}),i.notifyOnChangeProps?d:c.trackResult(d)}function br(e,t){return Uc(e,jc)}function ut(e,t){const r=ss(),[s]=h.useState(()=>new kc(r,e));h.useEffect(()=>{s.setOptions(e)},[s,e]);const n=h.useSyncExternalStore(h.useCallback(i=>s.subscribe(ue.batchCalls(i)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=h.useCallback((i,l)=>{s.mutate(i,l).catch(Zn)},[s]);if(n.error&&Gn(s.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:a,mutateAsync:n.mutate}}const Jn=h.createContext(void 0),zc=({children:e})=>{const[t,r]=h.useState(()=>localStorage.getItem("taskforge-theme")||"dark");h.useEffect(()=>{localStorage.setItem("taskforge-theme",t),document.documentElement.classList.toggle("dark",t==="dark")},[t]);const s=()=>{r(n=>n==="dark"?"light":"dark")};return o.jsx(Jn.Provider,{value:{theme:t,toggleTheme:s},children:e})},qc=()=>{const e=h.useContext(Jn);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Vc="https://epyugyfamvfpjjpsqeok.supabase.co",Wc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVweXVneWZhbXZmcGpqcHNxZW9rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5NDc5NzUsImV4cCI6MjA2ODUyMzk3NX0.DYwkG9WP-J3sPS56lAuSxndJBwXDgyzuD33r_bfTKc0",ce=Ja(Vc,Wc,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),eo=h.createContext({user:null,session:null,loading:!0,signOut:async()=>{}}),ns=()=>{const e=h.useContext(eo);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Qc=({children:e})=>{const[t,r]=h.useState(null),[s,n]=h.useState(null),[a,i]=h.useState(!0),{toast:l}=bt();h.useEffect(()=>{let u=!0;console.log("Setting up auth state listener...");const{data:{subscription:g}}=ce.auth.onAuthStateChange(async(v,x)=>{u&&(console.log("Auth state changed:",v,x?.user?.email),n(x),r(x?.user??null),v==="SIGNED_IN"&&x?.user&&(console.log("User signed in successfully"),setTimeout(async()=>{if(u)try{const{data:p,error:b}=await ce.from("profiles").select("*").eq("id",x.user.id).maybeSingle();if(!p&&!b&&u){console.log("Creating user profile...");const{error:T}=await ce.from("profiles").insert([{id:x.user.id,username:x.user.user_metadata?.username||x.user.email?.split("@")[0]||"User"}]);T&&console.error("Profile creation error:",T)}const{data:w,error:S}=await ce.from("player_stats").select("*").eq("user_id",x.user.id).maybeSingle();if(!w&&!S&&u){console.log("Creating player stats...");const{error:T}=await ce.from("player_stats").insert([{user_id:x.user.id,total_xp:0,coins:0,level:1,streak:0}]);T&&console.error("Stats creation error:",T)}}catch(p){console.error("Error setting up user data:",p)}},100)),v==="SIGNED_OUT"&&(r(null),n(null),console.log("User signed out")),i(!1))});return(async()=>{try{console.log("Checking for existing session...");const{data:{session:v},error:x}=await ce.auth.getSession();x?console.error("Error getting session:",x):(console.log("Initial session check:",v?.user?.email||"No user"),u&&(n(v),r(v?.user??null)))}catch(v){console.error("Error initializing auth:",v)}finally{u&&i(!1)}})(),()=>{console.log("Cleaning up auth listener..."),u=!1,g.unsubscribe()}},[]);const d={user:t,session:s,loading:a,signOut:async()=>{try{i(!0);const{error:u}=await ce.auth.signOut();if(u)throw u;l({title:"Signed Out",description:"See you next time, warrior! 👋"})}catch(u){console.error("Sign out error:",u),l({title:"Sign Out Failed",description:u.message,variant:"destructive"})}finally{i(!1)}}};return o.jsx(eo.Provider,{value:d,children:e})},Yc=Jt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ge=h.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...n},a)=>{const i=s?Gs:"button";return o.jsx(i,{className:re(Yc({variant:t,size:r,className:e})),ref:a,...n})});ge.displayName="Button";const Je=h.forwardRef(({className:e,type:t,...r},s)=>o.jsx("input",{type:t,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));Je.displayName="Input";const me=h.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));me.displayName="Card";const St=h.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:re("flex flex-col space-y-1.5 p-6",e),...t}));St.displayName="CardHeader";const Ct=h.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ct.displayName="CardTitle";const to=h.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:re("text-sm text-muted-foreground",e),...t}));to.displayName="CardDescription";const pe=h.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:re("p-6 pt-0",e),...t}));pe.displayName="CardContent";const Kc=h.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:re("flex items-center p-6 pt-0",e),...t}));Kc.displayName="CardFooter";var Xc="Label",ro=h.forwardRef((e,t)=>o.jsx(oe.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ro.displayName=Xc;var so=ro;const Gc=Jt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Bt=h.forwardRef(({className:e,...t},r)=>o.jsx(so,{ref:r,className:re(Gc(),e),...t}));Bt.displayName=so.displayName;const Zc=({onAuthSuccess:e})=>{const[t,r]=h.useState(!1),[s,n]=h.useState(!1),[a,i]=h.useState(""),[l,c]=h.useState(""),[d,u]=h.useState(""),{toast:g}=bt(),f=()=>!a||!l?(g({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"}),!1):l.length<6?(g({title:"Weak Password",description:"Password must be at least 6 characters long.",variant:"destructive"}),!1):s&&l!==d?(g({title:"Password Mismatch",description:"Passwords do not match.",variant:"destructive"}),!1):!0,v=async x=>{if(x.preventDefault(),!!f()){r(!0);try{if(s){const{error:p}=await ce.auth.signUp({email:a,password:l});if(p)throw p;g({title:"Account Created! 🎉",description:"Please check your email to verify your account.",duration:5e3})}else{const{error:p}=await ce.auth.signInWithPassword({email:a,password:l});if(p)throw p;g({title:"Welcome Back! 🚀",description:"Successfully signed in to TaskForge.",duration:3e3}),e()}}catch(p){console.error("Auth error:",p),g({title:s?"Sign Up Failed":"Sign In Failed",description:p.message||"An unexpected error occurred.",variant:"destructive",duration:4e3})}finally{r(!1)}}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-background via-secondary/20 to-accent/10",children:o.jsxs(me,{className:"w-full max-w-md glass-card",children:[o.jsxs(St,{className:"text-center space-y-2",children:[o.jsx(Ct,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"TaskForge"}),o.jsx(to,{className:"text-base",children:s?"Create your account to start your quest!":"Welcome back, warrior! Ready to level up?"})]}),o.jsxs(pe,{className:"space-y-6",children:[o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Bt,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address"}),o.jsx(Je,{id:"email",type:"email",placeholder:"warrior@taskforge.com",value:a,onChange:x=>i(x.target.value),disabled:t,className:"w-full",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Bt,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),o.jsx(Je,{id:"password",type:"password",placeholder:"Enter your password",value:l,onChange:x=>c(x.target.value),disabled:t,className:"w-full",required:!0,minLength:6})]}),s&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Bt,{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirm Password"}),o.jsx(Je,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:d,onChange:x=>u(x.target.value),disabled:t,className:"w-full",required:!0,minLength:6})]}),o.jsx(ge,{type:"submit",className:"w-full h-11 text-base font-semibold",disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx(Fa,{className:"mr-2 h-5 w-5 animate-spin"}),s?"Creating Account...":"Signing In..."]}):o.jsx(o.Fragment,{children:s?"Create Account 🚀":"Sign In ⚡"})})]}),o.jsxs("div",{className:"text-center pt-4 border-t",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s?"Already have an account?":"Don't have an account?"}),o.jsx(ge,{variant:"ghost",onClick:()=>{n(!s),c(""),u("")},disabled:t,className:"text-primary hover:text-primary/80 font-medium",children:s?"Sign In Instead":"Create New Account"})]})]})]})})};function Jc(e,t=[]){let r=[];function s(a,i){const l=h.createContext(i),c=r.length;r=[...r,i];function d(g){const{scope:f,children:v,...x}=g,p=f?.[e][c]||l,b=h.useMemo(()=>x,Object.values(x));return o.jsx(p.Provider,{value:b,children:v})}function u(g,f){const v=f?.[e][c]||l,x=h.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${g}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,u]}const n=()=>{const a=r.map(i=>h.createContext(i));return function(l){const c=l?.[e]||a;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return n.scopeName=e,[s,ed(n,...t)]}function ed(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(a){const i=s.reduce((l,{useScope:c,scopeName:d})=>{const g=c(a)[`__scope${d}`];return{...l,...g}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var os="Progress",as=100,[td,ku]=Jc(os),[rd,sd]=td(os),no=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:n,getValueLabel:a=nd,...i}=e;(n||n===0)&&!Fs(n)&&console.error(od(`${n}`,"Progress"));const l=Fs(n)?n:as;s!==null&&!Bs(s,l)&&console.error(ad(`${s}`,"Progress"));const c=Bs(s,l)?s:null,d=Kt(c)?a(c,l):void 0;return o.jsx(rd,{scope:r,value:c,max:l,children:o.jsx(oe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Kt(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":io(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});no.displayName=os;var oo="ProgressIndicator",ao=h.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,n=sd(oo,r);return o.jsx(oe.div,{"data-state":io(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...s,ref:t})});ao.displayName=oo;function nd(e,t){return`${Math.round(e/t*100)}%`}function io(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Kt(e){return typeof e=="number"}function Fs(e){return Kt(e)&&!isNaN(e)&&e>0}function Bs(e,t){return Kt(e)&&!isNaN(e)&&e<=t&&e>=0}function od(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${as}\`.`}function ad(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${as} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var lo=no,id=ao;const co=h.forwardRef(({className:e,value:t,...r},s)=>o.jsx(lo,{ref:s,className:re("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(id,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));co.displayName=lo.displayName;const uo=h.forwardRef(({className:e,...t},r)=>o.jsx(Zs,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(Ca,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));uo.displayName=Zs.displayName;const $t=[{id:"kunai",name:"Kunai",emoji:"🗡️",description:"Basic ninja tool",unlockCondition:"Complete first task",rarity:"common",levelRequired:1,category:"naruto"},{id:"shuriken",name:"Shuriken",emoji:"⭐",description:"Throwing star",unlockCondition:"Complete 3 tasks",rarity:"common",levelRequired:2,category:"naruto"},{id:"baby_dragon",name:"Baby Dragon",emoji:"🐉",description:"Your first dragon companion",unlockCondition:"Reach level 3",rarity:"common",levelRequired:3,category:"dragons"},{id:"naruto",name:"Naruto Uzumaki",emoji:"🍥",description:"The knucklehead ninja!",unlockCondition:"Reach level 6",rarity:"rare",levelRequired:6,category:"naruto"},{id:"goku",name:"Son Goku",emoji:"🥋",description:"The legendary Saiyan warrior",unlockCondition:"Reach level 8",rarity:"rare",levelRequired:8,category:"dragonball"},{id:"fire_dragon",name:"Fire Dragon",emoji:"🔥",description:"Breathes flames of determination",unlockCondition:"Complete 10 hard tasks",rarity:"rare",levelRequired:10,category:"dragons"},{id:"sasuke",name:"Sasuke Uchiha",emoji:"⚡",description:"The last Uchiha",unlockCondition:"Reach level 12",rarity:"rare",levelRequired:12,category:"naruto"},{id:"vegeta",name:"Vegeta",emoji:"👑",description:"The Prince of all Saiyans",unlockCondition:"Reach level 15",rarity:"rare",levelRequired:15,category:"dragonball"},{id:"kakashi",name:"Kakashi Hatake",emoji:"📖",description:"The Copy Ninja",unlockCondition:"Reach level 18",rarity:"epic",levelRequired:18,category:"naruto"},{id:"super_saiyan",name:"Super Saiyan",emoji:"⚡",description:"The legendary transformation",unlockCondition:"Reach level 20",rarity:"epic",levelRequired:20,category:"dragonball"},{id:"sung_jinwoo",name:"Sung Jin-Woo",emoji:"🗡️",description:"The Shadow Monarch rises",unlockCondition:"Reach level 25",rarity:"epic",levelRequired:25,category:"solo_leveling"},{id:"ice_dragon",name:"Ice Dragon",emoji:"❄️",description:"Master of frozen domains",unlockCondition:"Complete 50 tasks",rarity:"epic",levelRequired:22,category:"dragons"},{id:"hokage_naruto",name:"Hokage Naruto",emoji:"🏮",description:"The Seventh Hokage",unlockCondition:"Reach level 35",rarity:"legendary",levelRequired:35,category:"naruto"},{id:"ultra_instinct",name:"Ultra Instinct Goku",emoji:"🌟",description:"The ultimate form",unlockCondition:"Reach level 40",rarity:"legendary",levelRequired:40,category:"dragonball"},{id:"shadow_monarch",name:"Shadow Monarch",emoji:"👤",description:"Ruler of the shadows",unlockCondition:"Reach level 50",rarity:"legendary",levelRequired:50,category:"solo_leveling"},{id:"cosmic_dragon",name:"Cosmic Dragon",emoji:"🌌",description:"Guardian of the universe",unlockCondition:"Reach max level",rarity:"legendary",levelRequired:100,category:"dragons"}],ld=[{text:"You got it! Awesome work! 🎉",icon:Ht,color:"text-yellow-500"},{text:"Incredible! You're on fire! 🔥",icon:Cr,color:"text-red-500"},{text:"Fantastic job! Keep crushing it! ⚡",icon:Ut,color:"text-blue-500"},{text:"Outstanding! You're unstoppable! ✨",icon:Sr,color:"text-purple-500"},{text:"Amazing progress! You're leveling up! 🌟",icon:tn,color:"text-yellow-400"},{text:"Perfect execution! Master warrior! 🎯",icon:tt,color:"text-green-500"},{text:"Legendary performance! Keep going! 💎",icon:Sr,color:"text-cyan-500"},{text:"You're crushing your goals! Beast mode! 🚀",icon:Cr,color:"text-orange-500"}],cd=e=>{const r={easy:[{text:"Nice start! Every journey begins with a single step! 🌱",icon:tt,color:"text-green-400"},{text:"Well done! Building momentum! 💪",icon:Ut,color:"text-blue-400"}],medium:[{text:"Great job! You're getting stronger! 💪",icon:tn,color:"text-yellow-500"},{text:"Excellent work! Rising to the challenge! ⚡",icon:Ut,color:"text-blue-500"}],hard:[{text:"Incredible! You conquered a tough one! 🏆",icon:Ht,color:"text-yellow-600"},{text:"Outstanding! True warrior spirit! 🗡️",icon:Cr,color:"text-red-500"}],boss:[{text:"LEGENDARY! You defeated the boss! 👑",icon:Ht,color:"text-purple-600"},{text:"EPIC WIN! You're a true champion! 🏆",icon:Sr,color:"text-gold"}]}[e]||ld;return r[Math.floor(Math.random()*r.length)]};var Nt={};(function e(t,r,s,n){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var y=new OffscreenCanvas(1,1),m=y.getContext("2d");m.fillRect(0,0,1,1);var E=y.transferToImageBitmap();try{m.createPattern(E,"no-repeat")}catch{return!1}return!0}();function c(){}function d(y){var m=r.exports.Promise,E=m!==void 0?m:t.Promise;return typeof E=="function"?new E(y):(y(c,c),null)}var u=function(y,m){return{transform:function(E){if(y)return E;if(m.has(E))return m.get(E);var O=new OffscreenCanvas(E.width,E.height),F=O.getContext("2d");return F.drawImage(E,0,0),m.set(E,O),O},clear:function(){m.clear()}}}(l,new Map),g=function(){var y=Math.floor(16.666666666666668),m,E,O={},F=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(m=function(H){var L=Math.random();return O[L]=requestAnimationFrame(function P(D){F===D||F+y-1<D?(F=D,delete O[L],H()):O[L]=requestAnimationFrame(P)}),L},E=function(H){O[H]&&cancelAnimationFrame(O[H])}):(m=function(H){return setTimeout(H,y)},E=function(H){return clearTimeout(H)}),{frame:m,cancel:E}}(),f=function(){var y,m,E={};function O(F){function H(L,P){F.postMessage({options:L||{},callback:P})}F.init=function(P){var D=P.transferControlToOffscreen();F.postMessage({canvas:D},[D])},F.fire=function(P,D,V){if(m)return H(P,null),m;var $=Math.random().toString(36).slice(2);return m=d(function(U){function W(ee){ee.data.callback===$&&(delete E[$],F.removeEventListener("message",W),m=null,u.clear(),V(),U())}F.addEventListener("message",W),H(P,$),E[$]=W.bind(null,{data:{callback:$}})}),m},F.reset=function(){F.postMessage({reset:!0});for(var P in E)E[P](),delete E[P]}}return function(){if(y)return y;if(!s&&a){var F=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{y=new Worker(URL.createObjectURL(new Blob([F])))}catch(H){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",H),null}O(y)}return y}}(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(y,m){return m?m(y):y}function p(y){return y!=null}function b(y,m,E){return x(y&&p(y[m])?y[m]:v[m],E)}function w(y){return y<0?0:Math.floor(y)}function S(y,m){return Math.floor(Math.random()*(m-y))+y}function T(y){return parseInt(y,16)}function M(y){return y.map(k)}function k(y){var m=String(y).replace(/[^0-9a-f]/gi,"");return m.length<6&&(m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2]),{r:T(m.substring(0,2)),g:T(m.substring(2,4)),b:T(m.substring(4,6))}}function N(y){var m=b(y,"origin",Object);return m.x=b(m,"x",Number),m.y=b(m,"y",Number),m}function C(y){y.width=document.documentElement.clientWidth,y.height=document.documentElement.clientHeight}function j(y){var m=y.getBoundingClientRect();y.width=m.width,y.height=m.height}function R(y){var m=document.createElement("canvas");return m.style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=y,m}function B(y,m,E,O,F,H,L,P,D){y.save(),y.translate(m,E),y.rotate(H),y.scale(O,F),y.arc(0,0,1,L,P,D),y.restore()}function q(y){var m=y.angle*(Math.PI/180),E=y.spread*(Math.PI/180);return{x:y.x,y:y.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:y.startVelocity*.5+Math.random()*y.startVelocity,angle2D:-m+(.5*E-Math.random()*E),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:y.color,shape:y.shape,tick:0,totalTicks:y.ticks,decay:y.decay,drift:y.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:y.gravity*3,ovalScalar:.6,scalar:y.scalar,flat:y.flat}}function Q(y,m){m.x+=Math.cos(m.angle2D)*m.velocity+m.drift,m.y+=Math.sin(m.angle2D)*m.velocity+m.gravity,m.velocity*=m.decay,m.flat?(m.wobble=0,m.wobbleX=m.x+10*m.scalar,m.wobbleY=m.y+10*m.scalar,m.tiltSin=0,m.tiltCos=0,m.random=1):(m.wobble+=m.wobbleSpeed,m.wobbleX=m.x+10*m.scalar*Math.cos(m.wobble),m.wobbleY=m.y+10*m.scalar*Math.sin(m.wobble),m.tiltAngle+=.1,m.tiltSin=Math.sin(m.tiltAngle),m.tiltCos=Math.cos(m.tiltAngle),m.random=Math.random()+2);var E=m.tick++/m.totalTicks,O=m.x+m.random*m.tiltCos,F=m.y+m.random*m.tiltSin,H=m.wobbleX+m.random*m.tiltCos,L=m.wobbleY+m.random*m.tiltSin;if(y.fillStyle="rgba("+m.color.r+", "+m.color.g+", "+m.color.b+", "+(1-E)+")",y.beginPath(),i&&m.shape.type==="path"&&typeof m.shape.path=="string"&&Array.isArray(m.shape.matrix))y.fill(Z(m.shape.path,m.shape.matrix,m.x,m.y,Math.abs(H-O)*.1,Math.abs(L-F)*.1,Math.PI/10*m.wobble));else if(m.shape.type==="bitmap"){var P=Math.PI/10*m.wobble,D=Math.abs(H-O)*.1,V=Math.abs(L-F)*.1,$=m.shape.bitmap.width*m.scalar,U=m.shape.bitmap.height*m.scalar,W=new DOMMatrix([Math.cos(P)*D,Math.sin(P)*D,-Math.sin(P)*V,Math.cos(P)*V,m.x,m.y]);W.multiplySelf(new DOMMatrix(m.shape.matrix));var ee=y.createPattern(u.transform(m.shape.bitmap),"no-repeat");ee.setTransform(W),y.globalAlpha=1-E,y.fillStyle=ee,y.fillRect(m.x-$/2,m.y-U/2,$,U),y.globalAlpha=1}else if(m.shape==="circle")y.ellipse?y.ellipse(m.x,m.y,Math.abs(H-O)*m.ovalScalar,Math.abs(L-F)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI):B(y,m.x,m.y,Math.abs(H-O)*m.ovalScalar,Math.abs(L-F)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI);else if(m.shape==="star")for(var Y=Math.PI/2*3,ie=4*m.scalar,ae=8*m.scalar,fe=m.x,Se=m.y,le=5,he=Math.PI/le;le--;)fe=m.x+Math.cos(Y)*ae,Se=m.y+Math.sin(Y)*ae,y.lineTo(fe,Se),Y+=he,fe=m.x+Math.cos(Y)*ie,Se=m.y+Math.sin(Y)*ie,y.lineTo(fe,Se),Y+=he;else y.moveTo(Math.floor(m.x),Math.floor(m.y)),y.lineTo(Math.floor(m.wobbleX),Math.floor(F)),y.lineTo(Math.floor(H),Math.floor(L)),y.lineTo(Math.floor(O),Math.floor(m.wobbleY));return y.closePath(),y.fill(),m.tick<m.totalTicks}function K(y,m,E,O,F){var H=m.slice(),L=y.getContext("2d"),P,D,V=d(function($){function U(){P=D=null,L.clearRect(0,0,O.width,O.height),u.clear(),F(),$()}function W(){s&&!(O.width===n.width&&O.height===n.height)&&(O.width=y.width=n.width,O.height=y.height=n.height),!O.width&&!O.height&&(E(y),O.width=y.width,O.height=y.height),L.clearRect(0,0,O.width,O.height),H=H.filter(function(ee){return Q(L,ee)}),H.length?P=g.frame(W):U()}P=g.frame(W),D=U});return{addFettis:function($){return H=H.concat($),V},canvas:y,promise:V,reset:function(){P&&g.cancel(P),D&&D()}}}function _(y,m){var E=!y,O=!!b(m||{},"resize"),F=!1,H=b(m,"disableForReducedMotion",Boolean),L=a&&!!b(m||{},"useWorker"),P=L?f():null,D=E?C:j,V=y&&P?!!y.__confetti_initialized:!1,$=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,U;function W(Y,ie,ae){for(var fe=b(Y,"particleCount",w),Se=b(Y,"angle",Number),le=b(Y,"spread",Number),he=b(Y,"startVelocity",Number),ur=b(Y,"decay",Number),fr=b(Y,"gravity",Number),Ke=b(Y,"drift",Number),Pt=b(Y,"colors",M),jt=b(Y,"ticks",Number),Xe=b(Y,"shapes"),Le=b(Y,"scalar"),Rt=!!b(Y,"flat"),Me=N(Y),ct=fe,dt=[],Et=y.width*Me.x,kt=y.height*Me.y;ct--;)dt.push(q({x:Et,y:kt,angle:Se,spread:le,startVelocity:he,color:Pt[ct%Pt.length],shape:Xe[S(0,Xe.length)],ticks:jt,decay:ur,gravity:fr,drift:Ke,scalar:Le,flat:Rt}));return U?U.addFettis(dt):(U=K(y,dt,D,ie,ae),U.promise)}function ee(Y){var ie=H||b(Y,"disableForReducedMotion",Boolean),ae=b(Y,"zIndex",Number);if(ie&&$)return d(function(he){he()});E&&U?y=U.canvas:E&&!y&&(y=R(ae),document.body.appendChild(y)),O&&!V&&D(y);var fe={width:y.width,height:y.height};P&&!V&&P.init(y),V=!0,P&&(y.__confetti_initialized=!0);function Se(){if(P){var he={getBoundingClientRect:function(){if(!E)return y.getBoundingClientRect()}};D(he),P.postMessage({resize:{width:he.width,height:he.height}});return}fe.width=fe.height=null}function le(){U=null,O&&(F=!1,t.removeEventListener("resize",Se)),E&&y&&(document.body.contains(y)&&document.body.removeChild(y),y=null,V=!1)}return O&&!F&&(F=!0,t.addEventListener("resize",Se,!1)),P?P.fire(Y,fe,le):W(Y,fe,le)}return ee.reset=function(){P&&P.reset(),U&&U.reset()},ee}var G;function z(){return G||(G=_(null,{useWorker:!0,resize:!0})),G}function Z(y,m,E,O,F,H,L){var P=new Path2D(y),D=new Path2D;D.addPath(P,new DOMMatrix(m));var V=new Path2D;return V.addPath(D,new DOMMatrix([Math.cos(L)*F,Math.sin(L)*F,-Math.sin(L)*H,Math.cos(L)*H,E,O])),V}function I(y){if(!i)throw new Error("path confetti are not supported in this browser");var m,E;typeof y=="string"?m=y:(m=y.path,E=y.matrix);var O=new Path2D(m),F=document.createElement("canvas"),H=F.getContext("2d");if(!E){for(var L=1e3,P=L,D=L,V=0,$=0,U,W,ee=0;ee<L;ee+=2)for(var Y=0;Y<L;Y+=2)H.isPointInPath(O,ee,Y,"nonzero")&&(P=Math.min(P,ee),D=Math.min(D,Y),V=Math.max(V,ee),$=Math.max($,Y));U=V-P,W=$-D;var ie=10,ae=Math.min(ie/U,ie/W);E=[ae,0,0,ae,-Math.round(U/2+P)*ae,-Math.round(W/2+D)*ae]}return{type:"path",path:m,matrix:E}}function J(y){var m,E=1,O="#000000",F='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof y=="string"?m=y:(m=y.text,E="scalar"in y?y.scalar:E,F="fontFamily"in y?y.fontFamily:F,O="color"in y?y.color:O);var H=10*E,L=""+H+"px "+F,P=new OffscreenCanvas(H,H),D=P.getContext("2d");D.font=L;var V=D.measureText(m),$=Math.ceil(V.actualBoundingBoxRight+V.actualBoundingBoxLeft),U=Math.ceil(V.actualBoundingBoxAscent+V.actualBoundingBoxDescent),W=2,ee=V.actualBoundingBoxLeft+W,Y=V.actualBoundingBoxAscent+W;$+=W+W,U+=W+W,P=new OffscreenCanvas($,U),D=P.getContext("2d"),D.font=L,D.fillStyle=O,D.fillText(m,ee,Y);var ie=1/E;return{type:"bitmap",bitmap:P.transferToImageBitmap(),matrix:[ie,0,0,ie,-$*ie/2,-U*ie/2]}}r.exports=function(){return z().apply(this,arguments)},r.exports.reset=function(){z().reset()},r.exports.create=_,r.exports.shapeFromPath=I,r.exports.shapeFromText=J})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Nt,!1);const wr=Nt.exports;Nt.exports.create;const pt={easy:{xp:10,coins:5,color:"text-green-400",label:"Easy"},medium:{xp:25,coins:10,color:"text-yellow-400",label:"Medium"},hard:{xp:50,coins:20,color:"text-orange-400",label:"Hard"},boss:{xp:100,coins:30,color:"text-purple-400",label:"Boss"}},dd=[{time:"7:20 – 8:00 AM",activity:"🛌 Wake up + Clean Up",focus:"No phone. Hydrate. Touch grass (or desk).",difficulty:"easy"},{time:"8:00 – 8:20 AM",activity:"🍽️ Breakfast + Brain Prep",focus:"Listen to podcast (Tech/CS/Atomic Habits style)",difficulty:"easy"},{time:"8:20 – 9:20 AM",activity:"⚡ Light DSA / Revision (optional)",focus:"1 problem or 1 concept — just 30 mins to warm up",difficulty:"medium"},{time:"9:30 – 5:00 PM",activity:"👨‍💻 Office Hours",focus:"Work + Save mental energy (no burnout)",difficulty:"medium"},{time:"5:00 – 6:00 PM",activity:"😴 Nap / Rest Mode",focus:"Your body's power hour. No guilt. Energy bank.",difficulty:"easy"},{time:"6:00 – 7:30 PM",activity:"🔥 DSA GRIND MODE",focus:"NeetCode or topic grind (1–2 problems/day)",difficulty:"hard"},{time:"7:30 – 8:00 PM",activity:"🚀 System Design Concepts",focus:"1 concept/day (watch + journal)",difficulty:"medium"},{time:"8:00 – 8:30 PM",activity:"🍽️ Dinner + Chill",focus:"Light YouTube, music, walk — no code",difficulty:"easy"},{time:"8:30 – 10:15 PM",activity:"📱 Flutter Project Grind",focus:"Build your app → resume value + GitHub juice",difficulty:"hard"},{time:"10:15 – 11:30 PM",activity:"🧠 Mock / Review / Interview Prep",focus:"Solve 1 mock DSA Q OR review past topics",difficulty:"medium"},{time:"11:30 – 12:30 AM",activity:"🧘 Wind down + Rituals",focus:"Read 5 pages, stretch, light journaling",difficulty:"easy"},{time:"1:00 AM – 7:20 AM",activity:"😴 Sleep Mode",focus:"Let the brain defrag & reboot",difficulty:"easy"}],ud=()=>{const{user:e}=ns(),{toast:t}=bt(),r=ss(),[s,n]=h.useState(!1),[a,i]=h.useState({isOpen:!1,quote:null,xpGained:0,coinsGained:0,taskTitle:""}),{data:l=[],isLoading:c,error:d}=br({queryKey:["tasks",e?.id],queryFn:async()=>{if(!e)return[];console.log("🔄 Fetching tasks for user:",e.id);const{data:N,error:C}=await ce.from("tasks").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(C)throw console.error("❌ Error fetching tasks:",C),new Error(`Failed to fetch tasks: ${C.message}`);return console.log("✅ Successfully fetched",N?.length||0,"tasks"),N},enabled:!!e,retry:(N,C)=>(console.log(`Retry attempt ${N} for tasks:`,C),N<3),staleTime:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:u,isLoading:g,error:f}=br({queryKey:["player_stats",e?.id],queryFn:async()=>{if(!e)return null;console.log("🔄 Fetching player stats for user:",e.id);const{data:N,error:C}=await ce.from("player_stats").select("*").eq("user_id",e.id).maybeSingle();if(C)throw console.error("❌ Error fetching player stats:",C),new Error(`Failed to fetch player stats: ${C.message}`);if(!N){console.log("📊 No player stats found, creating new ones...");const{data:j,error:R}=await ce.from("player_stats").insert([{user_id:e.id,total_xp:0,coins:0,level:1,streak:0}]).select().single();if(R)throw console.error("❌ Error creating player stats:",R),new Error(`Failed to create player stats: ${R.message}`);return console.log("✅ Created new player stats:",j),j}return console.log("✅ Successfully fetched player stats"),N},enabled:!!e,retry:(N,C)=>(console.log(`Retry attempt ${N} for stats:`,C),N<3),staleTime:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:v=[]}=br({queryKey:["unlocked_stickers",e?.id],queryFn:async()=>{if(!e)return[];const{data:N,error:C}=await ce.from("unlocked_stickers").select("sticker_id").eq("user_id",e.id);if(C)throw C;return N.map(j=>j.sticker_id)},enabled:!!e}),x=ut({mutationFn:async N=>{if(!e)throw new Error("User not authenticated");console.log("🆕 Creating new task:",N.title);const{data:C,error:j}=await ce.from("tasks").insert([{...N,user_id:e.id}]).select().single();if(j)throw console.error("❌ Create task error:",j),new Error(`Failed to create task: ${j.message}`);return console.log("✅ Task created successfully"),C},onSuccess:(N,C)=>{r.invalidateQueries({queryKey:["tasks"]}),C.is_daily_timetable||t({title:"🎯 Quest Added!",description:"New challenge awaits completion!",duration:2e3})},onError:N=>{console.error("Create task error:",N),t({title:"❌ Failed to Create Quest",description:N.message||"Please try again.",variant:"destructive",duration:3e3})}}),p=ut({mutationFn:async({id:N,updates:C})=>{console.log("🔄 Updating task:",N,C);const{data:j,error:R}=await ce.from("tasks").update(C).eq("id",N).select().single();if(R)throw console.error("❌ Update task error:",R),new Error(`Failed to update task: ${R.message}`);return console.log("✅ Task updated successfully"),j},onSuccess:()=>{r.invalidateQueries({queryKey:["tasks"]})},onError:N=>{console.error("Update task error:",N),t({title:"❌ Failed to Update Quest",description:N.message||"Please try again.",variant:"destructive",duration:3e3})}}),b=ut({mutationFn:async N=>{const{error:C}=await ce.from("tasks").delete().eq("id",N);if(C)throw C},onSuccess:()=>{r.invalidateQueries({queryKey:["tasks"]}),t({title:"Quest Removed",description:"Task has been deleted from your quest log.",duration:2e3})},onError:N=>{console.error("Delete task error:",N),t({title:"Failed to Delete Quest",description:"Please try again.",variant:"destructive",duration:3e3})}}),w=ut({mutationFn:async N=>{if(!e||!u)throw new Error("User or stats not available");console.log("📊 Updating player stats:",N);const{data:C,error:j}=await ce.from("player_stats").update(N).eq("user_id",e.id).select().single();if(j)throw console.error("❌ Update stats error:",j),new Error(`Failed to update stats: ${j.message}`);return console.log("✅ Player stats updated successfully"),C},onSuccess:()=>{r.invalidateQueries({queryKey:["player_stats"]})},onError:N=>{console.error("Update stats error:",N),t({title:"❌ Failed to Update Stats",description:N.message||"Progress may not be saved.",variant:"destructive",duration:3e3})}}),S=ut({mutationFn:async N=>{if(!e)throw new Error("User not authenticated");const{data:C,error:j}=await ce.from("unlocked_stickers").insert([{user_id:e.id,sticker_id:N}]).select().single();if(j&&!j.message.includes("duplicate"))throw j;return C},onSuccess:()=>{r.invalidateQueries({queryKey:["unlocked_stickers"]})}}),T=async(N,C)=>{if(!e)return;const j=$t.filter(R=>N>=R.levelRequired&&!v.includes(R.id));for(const R of j)try{await S.mutateAsync(R.id),wr({particleCount:100,spread:70,origin:{y:.6}}),t({title:"🎉 New Sticker Unlocked!",description:`${R.emoji} ${R.name} - ${R.description}`,duration:3e3})}catch(B){console.log("Sticker already unlocked or error:",B)}},M=async()=>{if(!e||s)return;console.log("🗓️ Adding daily timetable tasks...");const N=new Date().toDateString();if(l.filter(j=>j.is_daily_timetable&&new Date(j.created_at).toDateString()===N).length>0){console.log("📅 Daily tasks already exist for today"),n(!0);return}try{const j=dd.map(R=>x.mutateAsync({title:`${R.time} - ${R.activity}`,category:"Daily Routine",difficulty:R.difficulty,state:"todo",is_default:!0,is_daily_timetable:!0,focus:R.focus}));await Promise.all(j),console.log("✅ All daily tasks created successfully"),n(!0)}catch(j){console.error("Failed to create daily tasks:",j)}};h.useEffect(()=>{e&&l.length>=0&&!s&&!c&&(l.some(C=>C.is_daily_timetable)?n(!0):M())},[e,l,s,c]);const k=async N=>{const C=l.find(Q=>Q.id===N);if(!C||C.state!=="inprogress"||!u)return;const j=pt[C.difficulty]||pt.easy,R=u.total_xp+j.xp,B=u.coins+j.coins,q=Math.floor(R/100)+1;try{console.log("🎯 Completing task:",C.title),await p.mutateAsync({id:N,updates:{state:"completed",completed_at:new Date().toISOString()}});const Q=new Date,K=l.some(G=>G.state==="completed"&&G.completed_at&&new Date(G.completed_at).toDateString()===Q.toDateString());await w.mutateAsync({total_xp:R,coins:B,level:q,streak:K?u.streak:u.streak+1,last_completed_date:Q.toISOString()}),q>u.level&&(wr({particleCount:150,spread:70,origin:{y:.6}}),t({title:`🎉 Level Up! Level ${q}`,description:"You've gained incredible power!",duration:4e3}),await T(q,R));const _=cd(C.difficulty);i({isOpen:!0,quote:_,xpGained:j.xp,coinsGained:j.coins,taskTitle:C.title}),wr({particleCount:50,spread:50,origin:{y:.7}}),console.log("✅ Task completed successfully")}catch(Q){console.error("❌ Complete task error:",Q),t({title:"❌ Failed to Complete Quest",description:Q.message||"Please try again.",variant:"destructive",duration:3e3})}};return h.useEffect(()=>{d&&(console.error("📋 Tasks error:",d),t({title:"❌ Error Loading Tasks",description:"Please check your connection and try refreshing.",variant:"destructive",duration:5e3})),f&&(console.error("📊 Stats error:",f),t({title:"❌ Error Loading Stats",description:"Please check your connection and try refreshing.",variant:"destructive",duration:5e3}))},[d,f,t]),{tasks:l||[],playerStats:u,unlockedStickers:v,celebrationData:a,setCelebrationData:i,loading:c||g,error:d||f,createTask:x.mutate,updateTask:p.mutate,deleteTask:b.mutate,completeTask:k,startTask:N=>p.mutate({id:N,updates:{state:"inprogress"}}),revertTask:async N=>{const C=l.find(R=>R.id===N);if(!C||C.state!=="completed"||!u)return;const j=pt[C.difficulty];try{console.log("↩️ Reverting task:",C.title),await p.mutateAsync({id:N,updates:{state:"todo",completed_at:null}}),await w.mutateAsync({total_xp:Math.max(0,u.total_xp-j.xp),coins:Math.max(0,u.coins-j.coins)}),t({title:"↩️ Quest Reverted",description:`Task moved back to To Do. -${j.xp} XP, -${j.coins} coins.`,duration:2e3}),console.log("✅ Task reverted successfully")}catch(R){console.error("❌ Revert task error:",R),t({title:"❌ Failed to Revert Quest",description:R.message||"Please try again.",variant:"destructive",duration:3e3})}}}},$s=A.memo(()=>{const[e,t]=h.useState(new Date);h.useEffect(()=>{const n=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(n)},[]);const r=n=>n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),s=n=>n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Ba,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:r(e)}),o.jsx("span",{className:"text-xs text-muted-foreground",children:s(e)})]})]})}),fd=Jt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function et({className:e,variant:t,...r}){return o.jsx("div",{className:re(fd({variant:t}),e),...r})}var hd=h.createContext(void 0);function fo(e){const t=h.useContext(hd);return e||t||"ltr"}function _r(e,[t,r]){return Math.min(r,Math.max(t,e))}function md(e,t){return h.useReducer((r,s)=>t[r][s]??r,e)}var is="ScrollArea",[ho,Au]=Hr(is),[pd,we]=ho(is),mo=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:n,scrollHideDelay:a=600,...i}=e,[l,c]=h.useState(null),[d,u]=h.useState(null),[g,f]=h.useState(null),[v,x]=h.useState(null),[p,b]=h.useState(null),[w,S]=h.useState(0),[T,M]=h.useState(0),[k,N]=h.useState(!1),[C,j]=h.useState(!1),R=de(t,q=>c(q)),B=fo(n);return o.jsx(pd,{scope:r,type:s,dir:B,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:g,onContentChange:f,scrollbarX:v,onScrollbarXChange:x,scrollbarXEnabled:k,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:b,scrollbarYEnabled:C,onScrollbarYEnabledChange:j,onCornerWidthChange:S,onCornerHeightChange:M,children:o.jsx(oe.div,{dir:B,...i,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":T+"px",...e.style}})})});mo.displayName=is;var po="ScrollAreaViewport",go=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,asChild:n,nonce:a,...i}=e,l=we(po,r),c=h.useRef(null),d=de(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),o.jsx(oe.div,{"data-radix-scroll-area-viewport":"",...i,asChild:n,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:Td({asChild:n,children:s},u=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});go.displayName=po;var Oe="ScrollAreaScrollbar",ls=h.forwardRef((e,t)=>{const{forceMount:r,...s}=e,n=we(Oe,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=n,l=e.orientation==="horizontal";return h.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),n.type==="hover"?o.jsx(gd,{...s,ref:t,forceMount:r}):n.type==="scroll"?o.jsx(vd,{...s,ref:t,forceMount:r}):n.type==="auto"?o.jsx(vo,{...s,ref:t,forceMount:r}):n.type==="always"?o.jsx(cs,{...s,ref:t}):null});ls.displayName=Oe;var gd=h.forwardRef((e,t)=>{const{forceMount:r,...s}=e,n=we(Oe,e.__scopeScrollArea),[a,i]=h.useState(!1);return h.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),o.jsx(yt,{present:r||a,children:o.jsx(vo,{"data-state":a?"visible":"hidden",...s,ref:t})})}),vd=h.forwardRef((e,t)=>{const{forceMount:r,...s}=e,n=we(Oe,e.__scopeScrollArea),a=e.orientation==="horizontal",i=ir(()=>c("SCROLL_END"),100),[l,c]=md("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,n.scrollHideDelay,c]),h.useEffect(()=>{const d=n.viewport,u=a?"scrollLeft":"scrollTop";if(d){let g=d[u];const f=()=>{const v=d[u];g!==v&&(c("SCROLL"),i()),g=v};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[n.viewport,a,c,i]),o.jsx(yt,{present:r||l!=="hidden",children:o.jsx(cs,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:te(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:te(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),vo=h.forwardRef((e,t)=>{const r=we(Oe,e.__scopeScrollArea),{forceMount:s,...n}=e,[a,i]=h.useState(!1),l=e.orientation==="horizontal",c=ir(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?d:u)}},10);return nt(r.viewport,c),nt(r.content,c),o.jsx(yt,{present:s||a,children:o.jsx(cs,{"data-state":a?"visible":"hidden",...n,ref:t})})}),cs=h.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,n=we(Oe,e.__scopeScrollArea),a=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=So(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function g(f,v){return Cd(f,i.current,l,v)}return r==="horizontal"?o.jsx(xd,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&a.current){const f=n.viewport.scrollLeft,v=Hs(f,l,n.dir);a.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollLeft=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollLeft=g(f,n.dir))}}):r==="vertical"?o.jsx(yd,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&a.current){const f=n.viewport.scrollTop,v=Hs(f,l);a.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollTop=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollTop=g(f))}}):null}),xd=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...n}=e,a=we(Oe,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=de(t,c,a.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(yo,{"data-orientation":"horizontal",...n,ref:d,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ar(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,g)=>{if(a.viewport){const f=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),No(f,g)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Gt(i.paddingLeft),paddingEnd:Gt(i.paddingRight)}})}})}),yd=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...n}=e,a=we(Oe,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=de(t,c,a.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(yo,{"data-orientation":"vertical",...n,ref:d,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ar(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,g)=>{if(a.viewport){const f=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),No(f,g)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Gt(i.paddingTop),paddingEnd:Gt(i.paddingBottom)}})}})}),[bd,xo]=ho(Oe),yo=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:n,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:g,...f}=e,v=we(Oe,r),[x,p]=h.useState(null),b=de(t,R=>p(R)),w=h.useRef(null),S=h.useRef(""),T=v.viewport,M=s.content-s.viewport,k=Ie(u),N=Ie(c),C=ir(g,10);function j(R){if(w.current){const B=R.clientX-w.current.left,q=R.clientY-w.current.top;d({x:B,y:q})}}return h.useEffect(()=>{const R=B=>{const q=B.target;x?.contains(q)&&k(B,M)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[T,x,M,k]),h.useEffect(N,[s,N]),nt(x,C),nt(v.content,C),o.jsx(bd,{scope:r,scrollbar:x,hasThumb:n,onThumbChange:Ie(a),onThumbPointerUp:Ie(i),onThumbPositionChange:N,onThumbPointerDown:Ie(l),children:o.jsx(oe.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:te(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),w.current=x.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),j(R))}),onPointerMove:te(e.onPointerMove,j),onPointerUp:te(e.onPointerUp,R=>{const B=R.target;B.hasPointerCapture(R.pointerId)&&B.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=S.current,v.viewport&&(v.viewport.style.scrollBehavior=""),w.current=null})})})}),Xt="ScrollAreaThumb",bo=h.forwardRef((e,t)=>{const{forceMount:r,...s}=e,n=xo(Xt,e.__scopeScrollArea);return o.jsx(yt,{present:r||n.hasThumb,children:o.jsx(wd,{ref:t,...s})})}),wd=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...n}=e,a=we(Xt,r),i=xo(Xt,r),{onThumbPositionChange:l}=i,c=de(t,g=>i.onThumbChange(g)),d=h.useRef(),u=ir(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const g=a.viewport;if(g){const f=()=>{if(u(),!d.current){const v=Nd(g,l);d.current=v,l()}};return l(),g.addEventListener("scroll",f),()=>g.removeEventListener("scroll",f)}},[a.viewport,u,l]),o.jsx(oe.div,{"data-state":i.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:te(e.onPointerDownCapture,g=>{const v=g.target.getBoundingClientRect(),x=g.clientX-v.left,p=g.clientY-v.top;i.onThumbPointerDown({x,y:p})}),onPointerUp:te(e.onPointerUp,i.onThumbPointerUp)})});bo.displayName=Xt;var ds="ScrollAreaCorner",wo=h.forwardRef((e,t)=>{const r=we(ds,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?o.jsx(Sd,{...e,ref:t}):null});wo.displayName=ds;var Sd=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,n=we(ds,r),[a,i]=h.useState(0),[l,c]=h.useState(0),d=!!(a&&l);return nt(n.scrollbarX,()=>{const u=n.scrollbarX?.offsetHeight||0;n.onCornerHeightChange(u),c(u)}),nt(n.scrollbarY,()=>{const u=n.scrollbarY?.offsetWidth||0;n.onCornerWidthChange(u),i(u)}),d?o.jsx(oe.div,{...s,ref:t,style:{width:a,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Gt(e){return e?parseInt(e,10):0}function So(e,t){const r=e/t;return isNaN(r)?0:r}function ar(e){const t=So(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function Cd(e,t,r,s="ltr"){const n=ar(r),a=n/2,i=t||a,l=n-i,c=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,g=s==="ltr"?[0,u]:[u*-1,0];return Co([c,d],g)(e)}function Hs(e,t,r="ltr"){const s=ar(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-n,i=t.content-t.viewport,l=a-s,c=r==="ltr"?[0,i]:[i*-1,0],d=_r(e,c);return Co([0,i],[0,l])(d)}function Co(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function No(e,t){return e>0&&e<t}var Nd=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function n(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,s=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(s)};function ir(e,t){const r=Ie(e),s=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),h.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function nt(e,t){const r=Ie(t);Te(()=>{let s=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(s),n.unobserve(e)}}},[e,r])}function Td(e,t){const{asChild:r,children:s}=e;if(!r)return typeof t=="function"?t(s):t;const n=h.Children.only(s);return h.cloneElement(n,{children:typeof t=="function"?t(n.props.children):t})}var To=mo,Pd=go,jd=wo;const Po=h.forwardRef(({className:e,children:t,...r},s)=>o.jsxs(To,{ref:s,className:re("relative overflow-hidden",e),...r,children:[o.jsx(Pd,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(jo,{}),o.jsx(jd,{})]}));Po.displayName=To.displayName;const jo=h.forwardRef(({className:e,orientation:t="vertical",...r},s)=>o.jsx(ls,{ref:s,orientation:t,className:re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(bo,{className:"relative flex-1 rounded-full bg-border"})}));jo.displayName=ls.displayName;const Us=e=>{switch(e){case"common":return"text-gray-400";case"rare":return"text-blue-400";case"epic":return"text-purple-400";case"legendary":return"text-yellow-400";default:return"text-gray-400"}},Rd=e=>{switch(e){case"common":return"bg-gray-500/20";case"rare":return"bg-blue-500/20";case"epic":return"bg-purple-500/20";case"legendary":return"bg-yellow-500/20";default:return"bg-gray-500/20"}},Ed=A.memo(({userLevel:e,unlockedStickers:t})=>{const r=$t.filter(n=>e>=n.levelRequired),s=$t.filter(n=>e<n.levelRequired);return o.jsxs(me,{className:"glass-card",children:[o.jsx(St,{children:o.jsxs(Ct,{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:"🏆"}),o.jsx("span",{children:"Sticker Collection"}),o.jsxs(et,{variant:"secondary",children:[t.length,"/",$t.length]})]})}),o.jsx(pe,{children:o.jsx(Po,{className:"h-96",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3 text-green-400",children:"✨ Unlocked"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.map(n=>{const a=t.includes(n.id);return o.jsx("div",{className:`p-3 rounded-lg border transition-all ${a?`${Rd(n.rarity)} border-current animate-pulse-glow`:"bg-muted/20 border-muted opacity-60"}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl mb-2",children:n.emoji}),o.jsx("div",{className:`text-sm font-medium ${Us(n.rarity)}`,children:n.name}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:n.description}),o.jsx(et,{variant:"outline",className:`mt-2 text-xs ${Us(n.rarity)}`,children:n.rarity})]})},n.id)})})]}),s.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3 text-muted-foreground",children:"🔒 Coming Soon"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.slice(0,6).map(n=>o.jsx("div",{className:"p-3 rounded-lg border border-muted bg-muted/10 opacity-40",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl mb-2 grayscale",children:"❓"}),o.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"???"}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Level ",n.levelRequired," required"]}),o.jsx(et,{variant:"outline",className:"mt-2 text-xs",children:n.rarity})]})},n.id))})]})]})})})]})}),kd=({isOpen:e,onClose:t,quote:r,xpGained:s,coinsGained:n,taskTitle:a})=>{if(h.useEffect(()=>{if(e){const l=setTimeout(()=>{t()},4e3);return()=>clearTimeout(l)}},[e,t]),!e)return null;const i=r.icon;return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:o.jsx(me,{className:"w-full max-w-md mx-4 glass-card animate-scale-in",children:o.jsxs(pe,{className:"p-6 text-center relative",children:[o.jsx(ge,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:t,children:o.jsx(en,{className:"h-4 w-4"})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-4 rounded-full bg-gradient-to-r from-primary/20 to-accent/20 mb-4 animate-pulse",children:o.jsx(i,{className:`h-12 w-12 ${r.color}`})}),o.jsx("h2",{className:"text-2xl font-bold text-center mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Task Completed!"}),o.jsxs("p",{className:"text-lg font-medium text-center mb-4",children:['"',a,'"']}),o.jsx("div",{className:`text-xl font-bold ${r.color} mb-4 animate-bounce`,children:r.text}),o.jsxs("div",{className:"flex justify-center space-x-6 mb-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-xp",children:["+",s]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"XP"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-coin",children:["+",n]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Coins"})]})]})]}),o.jsx(ge,{onClick:t,className:"w-full primary-gradient",children:"Continue Quest"})]})})})},Ad=A.memo(({playerStats:e,currentTier:t})=>o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4",children:[o.jsx(me,{className:"glass-card",children:o.jsxs(pe,{className:"p-3 sm:p-4 flex items-center space-x-2 sm:space-x-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-full xp-gradient flex-shrink-0",children:o.jsx(Ut,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:["Level ",e.level]}),o.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-xp truncate",children:[e.total_xp," XP"]})]})]})}),o.jsx(me,{className:"glass-card",children:o.jsxs(pe,{className:"p-3 sm:p-4 flex items-center space-x-2 sm:space-x-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-full coin-gradient flex-shrink-0",children:o.jsx($a,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Coins"}),o.jsx("p",{className:"text-lg sm:text-2xl font-bold text-coin truncate",children:e.coins})]})]})}),o.jsx(me,{className:"glass-card",children:o.jsxs(pe,{className:"p-3 sm:p-4 flex items-center space-x-2 sm:space-x-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-full primary-gradient flex-shrink-0",children:o.jsx(Ht,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Tier"}),o.jsxs("p",{className:`text-sm sm:text-xl font-bold ${t.color} truncate`,children:[t.icon," ",t.name]})]})]})}),o.jsx(me,{className:"glass-card",children:o.jsxs(pe,{className:"p-3 sm:p-4 flex items-center space-x-2 sm:space-x-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-full bg-destructive flex-shrink-0",children:o.jsx(Ha,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Streak"}),o.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-destructive truncate",children:[e.streak," days"]})]})]})})]}));var Od=[" ","Enter","ArrowUp","ArrowDown"],Md=[" ","Enter"],Tt="Select",[lr,cr,Id]=Na(Tt),[lt,Ou]=Hr(Tt,[Id,sr]),dr=sr(),[_d,ze]=lt(Tt),[Dd,Ld]=lt(Tt),Ro=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:n,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:g,disabled:f,required:v,form:x}=e,p=dr(t),[b,w]=h.useState(null),[S,T]=h.useState(null),[M,k]=h.useState(!1),N=fo(d),[C=!1,j]=fs({prop:s,defaultProp:n,onChange:a}),[R,B]=fs({prop:i,defaultProp:l,onChange:c}),q=h.useRef(null),Q=b?x||!!b.closest("form"):!0,[K,_]=h.useState(new Set),G=Array.from(K).map(z=>z.props.value).join(";");return o.jsx(Ql,{...p,children:o.jsxs(_d,{required:v,scope:t,trigger:b,onTriggerChange:w,valueNode:S,onValueNodeChange:T,valueNodeHasChildren:M,onValueNodeHasChildrenChange:k,contentId:Ur(),value:R,onValueChange:B,open:C,onOpenChange:j,dir:N,triggerPointerDownPosRef:q,disabled:f,children:[o.jsx(lr.Provider,{scope:t,children:o.jsx(Dd,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(z=>{_(Z=>new Set(Z).add(z))},[]),onNativeOptionRemove:h.useCallback(z=>{_(Z=>{const I=new Set(Z);return I.delete(z),I})},[]),children:r})}),Q?o.jsxs(Jo,{"aria-hidden":!0,required:v,tabIndex:-1,name:u,autoComplete:g,value:R,onChange:z=>B(z.target.value),disabled:f,form:x,children:[R===void 0?o.jsx("option",{value:""}):null,Array.from(K)]},G):null]})})};Ro.displayName=Tt;var Eo="SelectTrigger",ko=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...n}=e,a=dr(r),i=ze(Eo,r),l=i.disabled||s,c=de(t,i.onTriggerChange),d=cr(r),u=h.useRef("touch"),[g,f,v]=ea(p=>{const b=d().filter(T=>!T.disabled),w=b.find(T=>T.value===i.value),S=ta(b,p,w);S!==void 0&&i.onValueChange(S.value)}),x=p=>{l||(i.onOpenChange(!0),v()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(En,{asChild:!0,...a,children:o.jsx(oe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Zo(i.value)?"":void 0,...n,ref:c,onClick:te(n.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&x(p)}),onPointerDown:te(n.onPointerDown,p=>{u.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:te(n.onKeyDown,p=>{const b=g.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(b&&p.key===" ")&&Od.includes(p.key)&&(x(),p.preventDefault())})})})});ko.displayName=Eo;var Ao="SelectValue",Oo=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:n,children:a,placeholder:i="",...l}=e,c=ze(Ao,r),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,g=de(t,c.onValueNodeChange);return Te(()=>{d(u)},[d,u]),o.jsx(oe.span,{...l,ref:g,style:{pointerEvents:"none"},children:Zo(c.value)?o.jsx(o.Fragment,{children:i}):a})});Oo.displayName=Ao;var Fd="SelectIcon",Mo=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...n}=e;return o.jsx(oe.span,{"aria-hidden":!0,...n,ref:t,children:s||"▼"})});Mo.displayName=Fd;var Bd="SelectPortal",Io=e=>o.jsx(Ta,{asChild:!0,...e});Io.displayName=Bd;var Ye="SelectContent",_o=h.forwardRef((e,t)=>{const r=ze(Ye,e.__scopeSelect),[s,n]=h.useState();if(Te(()=>{n(new DocumentFragment)},[]),!r.open){const a=s;return a?zr.createPortal(o.jsx(Do,{scope:e.__scopeSelect,children:o.jsx(lr.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(Lo,{...e,ref:t})});_o.displayName=Ye;var Ce=10,[Do,qe]=lt(Ye),$d="SelectContentImpl",Lo=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:g,collisionBoundary:f,collisionPadding:v,sticky:x,hideWhenDetached:p,avoidCollisions:b,...w}=e,S=ze(Ye,r),[T,M]=h.useState(null),[k,N]=h.useState(null),C=de(t,P=>M(P)),[j,R]=h.useState(null),[B,q]=h.useState(null),Q=cr(r),[K,_]=h.useState(!1),G=h.useRef(!1);h.useEffect(()=>{if(T)return Pa(T)},[T]),ja();const z=h.useCallback(P=>{const[D,...V]=Q().map(W=>W.ref.current),[$]=V.slice(-1),U=document.activeElement;for(const W of P)if(W===U||(W?.scrollIntoView({block:"nearest"}),W===D&&k&&(k.scrollTop=0),W===$&&k&&(k.scrollTop=k.scrollHeight),W?.focus(),document.activeElement!==U))return},[Q,k]),Z=h.useCallback(()=>z([j,T]),[z,j,T]);h.useEffect(()=>{K&&Z()},[K,Z]);const{onOpenChange:I,triggerPointerDownPosRef:J}=S;h.useEffect(()=>{if(T){let P={x:0,y:0};const D=$=>{P={x:Math.abs(Math.round($.pageX)-(J.current?.x??0)),y:Math.abs(Math.round($.pageY)-(J.current?.y??0))}},V=$=>{P.x<=10&&P.y<=10?$.preventDefault():T.contains($.target)||I(!1),document.removeEventListener("pointermove",D),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",D),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",V,{capture:!0})}}},[T,I,J]),h.useEffect(()=>{const P=()=>I(!1);return window.addEventListener("blur",P),window.addEventListener("resize",P),()=>{window.removeEventListener("blur",P),window.removeEventListener("resize",P)}},[I]);const[y,m]=ea(P=>{const D=Q().filter(U=>!U.disabled),V=D.find(U=>U.ref.current===document.activeElement),$=ta(D,P,V);$&&setTimeout(()=>$.ref.current.focus())}),E=h.useCallback((P,D,V)=>{const $=!G.current&&!V;(S.value!==void 0&&S.value===D||$)&&(R(P),$&&(G.current=!0))},[S.value]),O=h.useCallback(()=>T?.focus(),[T]),F=h.useCallback((P,D,V)=>{const $=!G.current&&!V;(S.value!==void 0&&S.value===D||$)&&q(P)},[S.value]),H=s==="popper"?Dr:Fo,L=H===Dr?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:g,collisionBoundary:f,collisionPadding:v,sticky:x,hideWhenDetached:p,avoidCollisions:b}:{};return o.jsx(Do,{scope:r,content:T,viewport:k,onViewportChange:N,itemRefCallback:E,selectedItem:j,onItemLeave:O,itemTextRefCallback:F,focusSelectedItem:Z,selectedItemText:B,position:s,isPositioned:K,searchRef:y,children:o.jsx(Ra,{as:Gs,allowPinchZoom:!0,children:o.jsx(Ea,{asChild:!0,trapped:S.open,onMountAutoFocus:P=>{P.preventDefault()},onUnmountAutoFocus:te(n,P=>{S.trigger?.focus({preventScroll:!0}),P.preventDefault()}),children:o.jsx(Xs,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:P=>P.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:o.jsx(H,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:P=>P.preventDefault(),...w,...L,onPlaced:()=>_(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:te(w.onKeyDown,P=>{const D=P.ctrlKey||P.altKey||P.metaKey;if(P.key==="Tab"&&P.preventDefault(),!D&&P.key.length===1&&m(P.key),["ArrowUp","ArrowDown","Home","End"].includes(P.key)){let $=Q().filter(U=>!U.disabled).map(U=>U.ref.current);if(["ArrowUp","End"].includes(P.key)&&($=$.slice().reverse()),["ArrowUp","ArrowDown"].includes(P.key)){const U=P.target,W=$.indexOf(U);$=$.slice(W+1)}setTimeout(()=>z($)),P.preventDefault()}})})})})})})});Lo.displayName=$d;var Hd="SelectItemAlignedPosition",Fo=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...n}=e,a=ze(Ye,r),i=qe(Ye,r),[l,c]=h.useState(null),[d,u]=h.useState(null),g=de(t,C=>u(C)),f=cr(r),v=h.useRef(!1),x=h.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:w,focusSelectedItem:S}=i,T=h.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&p&&b&&w){const C=a.trigger.getBoundingClientRect(),j=d.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),B=w.getBoundingClientRect();if(a.dir!=="rtl"){const U=B.left-j.left,W=R.left-U,ee=C.left-W,Y=C.width+ee,ie=Math.max(Y,j.width),ae=window.innerWidth-Ce,fe=_r(W,[Ce,Math.max(Ce,ae-ie)]);l.style.minWidth=Y+"px",l.style.left=fe+"px"}else{const U=j.right-B.right,W=window.innerWidth-R.right-U,ee=window.innerWidth-C.right-W,Y=C.width+ee,ie=Math.max(Y,j.width),ae=window.innerWidth-Ce,fe=_r(W,[Ce,Math.max(Ce,ae-ie)]);l.style.minWidth=Y+"px",l.style.right=fe+"px"}const q=f(),Q=window.innerHeight-Ce*2,K=p.scrollHeight,_=window.getComputedStyle(d),G=parseInt(_.borderTopWidth,10),z=parseInt(_.paddingTop,10),Z=parseInt(_.borderBottomWidth,10),I=parseInt(_.paddingBottom,10),J=G+z+K+I+Z,y=Math.min(b.offsetHeight*5,J),m=window.getComputedStyle(p),E=parseInt(m.paddingTop,10),O=parseInt(m.paddingBottom,10),F=C.top+C.height/2-Ce,H=Q-F,L=b.offsetHeight/2,P=b.offsetTop+L,D=G+z+P,V=J-D;if(D<=F){const U=q.length>0&&b===q[q.length-1].ref.current;l.style.bottom="0px";const W=d.clientHeight-p.offsetTop-p.offsetHeight,ee=Math.max(H,L+(U?O:0)+W+Z),Y=D+ee;l.style.height=Y+"px"}else{const U=q.length>0&&b===q[0].ref.current;l.style.top="0px";const ee=Math.max(F,G+p.offsetTop+(U?E:0)+L)+V;l.style.height=ee+"px",p.scrollTop=D-F+p.offsetTop}l.style.margin=`${Ce}px 0`,l.style.minHeight=y+"px",l.style.maxHeight=Q+"px",s?.(),requestAnimationFrame(()=>v.current=!0)}},[f,a.trigger,a.valueNode,l,d,p,b,w,a.dir,s]);Te(()=>T(),[T]);const[M,k]=h.useState();Te(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const N=h.useCallback(C=>{C&&x.current===!0&&(T(),S?.(),x.current=!1)},[T,S]);return o.jsx(zd,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:N,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:o.jsx(oe.div,{...n,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Fo.displayName=Hd;var Ud="SelectPopperPosition",Dr=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:n=Ce,...a}=e,i=dr(r);return o.jsx(kn,{...i,...a,ref:t,align:s,collisionPadding:n,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dr.displayName=Ud;var[zd,us]=lt(Ye,{}),Lr="SelectViewport",Bo=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...n}=e,a=qe(Lr,r),i=us(Lr,r),l=de(t,a.onViewportChange),c=h.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(lr.Slot,{scope:r,children:o.jsx(oe.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:te(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:f}=i;if(f?.current&&g){const v=Math.abs(c.current-u.scrollTop);if(v>0){const x=window.innerHeight-Ce*2,p=parseFloat(g.style.minHeight),b=parseFloat(g.style.height),w=Math.max(p,b);if(w<x){const S=w+v,T=Math.min(x,S),M=S-T;g.style.height=T+"px",g.style.bottom==="0px"&&(u.scrollTop=M>0?M:0,g.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Bo.displayName=Lr;var $o="SelectGroup",[qd,Vd]=lt($o),Wd=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,n=Ur();return o.jsx(qd,{scope:r,id:n,children:o.jsx(oe.div,{role:"group","aria-labelledby":n,...s,ref:t})})});Wd.displayName=$o;var Ho="SelectLabel",Uo=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,n=Vd(Ho,r);return o.jsx(oe.div,{id:n.id,...s,ref:t})});Uo.displayName=Ho;var Zt="SelectItem",[Qd,zo]=lt(Zt),qo=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:n=!1,textValue:a,...i}=e,l=ze(Zt,r),c=qe(Zt,r),d=l.value===s,[u,g]=h.useState(a??""),[f,v]=h.useState(!1),x=de(t,S=>c.itemRefCallback?.(S,s,n)),p=Ur(),b=h.useRef("touch"),w=()=>{n||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Qd,{scope:r,value:s,disabled:n,textId:p,isSelected:d,onItemTextChange:h.useCallback(S=>{g(T=>T||(S?.textContent??"").trim())},[]),children:o.jsx(lr.ItemSlot,{scope:r,value:s,disabled:n,textValue:u,children:o.jsx(oe.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...i,ref:x,onFocus:te(i.onFocus,()=>v(!0)),onBlur:te(i.onBlur,()=>v(!1)),onClick:te(i.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:te(i.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:te(i.onPointerDown,S=>{b.current=S.pointerType}),onPointerMove:te(i.onPointerMove,S=>{b.current=S.pointerType,n?c.onItemLeave?.():b.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(i.onPointerLeave,S=>{S.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:te(i.onKeyDown,S=>{c.searchRef?.current!==""&&S.key===" "||(Md.includes(S.key)&&w(),S.key===" "&&S.preventDefault())})})})})});qo.displayName=Zt;var ht="SelectItemText",Vo=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:n,...a}=e,i=ze(ht,r),l=qe(ht,r),c=zo(ht,r),d=Ld(ht,r),[u,g]=h.useState(null),f=de(t,w=>g(w),c.onItemTextChange,w=>l.itemTextRefCallback?.(w,c.value,c.disabled)),v=u?.textContent,x=h.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=d;return Te(()=>(p(x),()=>b(x)),[p,b,x]),o.jsxs(o.Fragment,{children:[o.jsx(oe.span,{id:c.textId,...a,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?zr.createPortal(a.children,i.valueNode):null]})});Vo.displayName=ht;var Wo="SelectItemIndicator",Qo=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return zo(Wo,r).isSelected?o.jsx(oe.span,{"aria-hidden":!0,...s,ref:t}):null});Qo.displayName=Wo;var Fr="SelectScrollUpButton",Yo=h.forwardRef((e,t)=>{const r=qe(Fr,e.__scopeSelect),s=us(Fr,e.__scopeSelect),[n,a]=h.useState(!1),i=de(t,s.onScrollButtonChange);return Te(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?o.jsx(Xo,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Yo.displayName=Fr;var Br="SelectScrollDownButton",Ko=h.forwardRef((e,t)=>{const r=qe(Br,e.__scopeSelect),s=us(Br,e.__scopeSelect),[n,a]=h.useState(!1),i=de(t,s.onScrollButtonChange);return Te(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?o.jsx(Xo,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ko.displayName=Br;var Xo=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...n}=e,a=qe("SelectScrollButton",r),i=h.useRef(null),l=cr(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Te(()=>{l().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),o.jsx(oe.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:te(n.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(s,50))}),onPointerMove:te(n.onPointerMove,()=>{a.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(s,50))}),onPointerLeave:te(n.onPointerLeave,()=>{c()})})}),Yd="SelectSeparator",Go=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return o.jsx(oe.div,{"aria-hidden":!0,...s,ref:t})});Go.displayName=Yd;var $r="SelectArrow",Kd=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,n=dr(r),a=ze($r,r),i=qe($r,r);return a.open&&i.position==="popper"?o.jsx(An,{...n,...s,ref:t}):null});Kd.displayName=$r;function Zo(e){return e===""||e===void 0}var Jo=h.forwardRef((e,t)=>{const{value:r,...s}=e,n=h.useRef(null),a=de(t,n),i=ka(r);return h.useEffect(()=>{const l=n.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&u){const g=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(g)}},[i,r]),o.jsx(Aa,{asChild:!0,children:o.jsx("select",{...s,ref:a,defaultValue:r})})});Jo.displayName="BubbleSelect";function ea(e){const t=Ie(e),r=h.useRef(""),s=h.useRef(0),n=h.useCallback(i=>{const l=r.current+i;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=h.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,n,a]}function ta(e,t,r){const n=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=Xd(e,Math.max(a,0));n.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function Xd(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var Gd=Ro,ra=ko,Zd=Oo,Jd=Mo,eu=Io,sa=_o,tu=Bo,na=Uo,oa=qo,ru=Vo,su=Qo,aa=Yo,ia=Ko,la=Go;const nu=Gd,ou=Zd,ca=h.forwardRef(({className:e,children:t,...r},s)=>o.jsxs(ra,{ref:s,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(Jd,{asChild:!0,children:o.jsx(rn,{className:"h-4 w-4 opacity-50"})})]}));ca.displayName=ra.displayName;const da=h.forwardRef(({className:e,...t},r)=>o.jsx(aa,{ref:r,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Ua,{className:"h-4 w-4"})}));da.displayName=aa.displayName;const ua=h.forwardRef(({className:e,...t},r)=>o.jsx(ia,{ref:r,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(rn,{className:"h-4 w-4"})}));ua.displayName=ia.displayName;const fa=h.forwardRef(({className:e,children:t,position:r="popper",...s},n)=>o.jsx(eu,{children:o.jsxs(sa,{ref:n,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[o.jsx(da,{}),o.jsx(tu,{className:re("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(ua,{})]})}));fa.displayName=sa.displayName;const au=h.forwardRef(({className:e,...t},r)=>o.jsx(na,{ref:r,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));au.displayName=na.displayName;const ha=h.forwardRef(({className:e,children:t,...r},s)=>o.jsxs(oa,{ref:s,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(su,{children:o.jsx(za,{className:"h-4 w-4"})})}),o.jsx(ru,{children:t})]}));ha.displayName=oa.displayName;const iu=h.forwardRef(({className:e,...t},r)=>o.jsx(la,{ref:r,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));iu.displayName=la.displayName;const lu=({onCreateTask:e})=>{const[t,r]=h.useState(""),[s,n]=h.useState(""),[a,i]=h.useState("easy"),l=()=>{!t.trim()||!s.trim()||(e({title:t,category:s,difficulty:a,state:"todo",is_default:!1}),r(""),n(""))},c=d=>{d.key==="Enter"&&l()};return o.jsxs(me,{className:"glass-card",children:[o.jsx(St,{children:o.jsxs(Ct,{className:"flex items-center space-x-2",children:[o.jsx(tt,{className:"h-5 w-5"}),o.jsx("span",{children:"Forge New Quest"})]})}),o.jsxs(pe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Je,{placeholder:"Quest title...",value:t,onChange:d=>r(d.target.value),onKeyPress:c}),o.jsx(Je,{placeholder:"Category...",value:s,onChange:d=>n(d.target.value),onKeyPress:c})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(nu,{value:a,onValueChange:d=>i(d),children:[o.jsx(ca,{className:"flex-1",children:o.jsx(ou,{})}),o.jsx(fa,{children:Object.entries(pt).map(([d,u])=>o.jsx(ha,{value:d,children:o.jsxs("span",{className:u.color,children:[u.label," (+",u.xp," XP, +",u.coins," coins)"]})},d))})]}),o.jsxs(ge,{onClick:l,className:"primary-gradient",disabled:!t.trim()||!s.trim(),children:[o.jsx(qa,{className:"h-4 w-4"}),"Forge Quest"]})]})]})]})},cu=({filter:e,onFilterChange:t})=>{const r=[{key:"all",label:"All"},{key:"todo",label:"To Do"},{key:"inprogress",label:"In Progress"},{key:"completed",label:"Completed"}];return o.jsx(me,{className:"glass-card",children:o.jsx(pe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Va,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Filter:"}),o.jsx("div",{className:"flex space-x-2",children:r.map(s=>o.jsx(ge,{variant:e===s.key?"default":"outline",size:"sm",onClick:()=>t(s.key),className:e===s.key?"primary-gradient":"",children:s.label},s.key))})]})})})},du=e=>{switch(e){case"todo":return o.jsx(tt,{className:"h-4 w-4 text-muted-foreground"});case"inprogress":return o.jsx(sn,{className:"h-4 w-4 text-blue-400"});case"completed":return o.jsx(nn,{className:"h-4 w-4 text-green-400"});case"missed":return o.jsx(Qa,{className:"h-4 w-4 text-red-400"});default:return o.jsx(tt,{className:"h-4 w-4 text-muted-foreground"})}},uu=e=>{switch(e){case"todo":return"To Do";case"inprogress":return"In Progress";case"completed":return"Completed";case"missed":return"Missed";default:return"Unknown"}},zs=({tasks:e,onStartTask:t,onCompleteTask:r,onRevertTask:s,onDeleteTask:n})=>e.length===0?o.jsx(me,{className:"glass-card",children:o.jsxs(pe,{className:"p-8 text-center",children:[o.jsx(tt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No tasks found. Create your first quest!"})]})}):o.jsx("div",{className:"space-y-3",children:e.map(a=>{const i=pt[a.difficulty];return o.jsx(me,{className:`glass-card transition-all duration-300 hover-scale ${a.state==="completed"?"opacity-60":a.state==="missed"?"border-red-500/50 bg-red-500/5":a.state==="inprogress"?"border-blue-500/50 bg-blue-500/5":"hover:scale-[1.02]"}`,children:o.jsx(pe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[du(a.state),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:`font-medium ${a.state==="completed"?"line-through text-muted-foreground":""}`,children:a.title}),a.is_default&&o.jsx(et,{variant:"outline",className:"text-xs",children:"Daily"})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx(et,{variant:"secondary",className:i.color,children:i.label}),o.jsx("span",{className:"text-xs text-muted-foreground",children:a.category}),a.state!=="completed"&&a.state!=="missed"&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",i.xp," XP, +",i.coins," coins"]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(et,{variant:"outline",className:"text-xs",children:uu(a.state)}),a.state==="todo"&&o.jsxs(o.Fragment,{children:[o.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>t(a.id),children:[o.jsx(sn,{className:"h-3 w-3"}),"Start"]}),o.jsx(ge,{size:"sm",variant:"destructive",onClick:()=>n(a.id),children:o.jsx(mr,{className:"h-3 w-3"})})]}),a.state==="inprogress"&&o.jsxs(o.Fragment,{children:[o.jsxs(ge,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>r(a.id),children:[o.jsx(nn,{className:"h-3 w-3"}),"Complete"]}),o.jsx(ge,{size:"sm",variant:"destructive",onClick:()=>n(a.id),children:o.jsx(mr,{className:"h-3 w-3"})})]}),a.state==="completed"&&o.jsxs(o.Fragment,{children:[o.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>s(a.id),children:[o.jsx(Wa,{className:"h-3 w-3"}),"Revert"]}),o.jsx(ge,{size:"sm",variant:"destructive",onClick:()=>n(a.id),children:o.jsx(mr,{className:"h-3 w-3"})})]})]})]})})},a.id)})}),fu=({tasks:e})=>{const t=e.filter(a=>a.state==="completed").length,r=e.filter(a=>a.state==="inprogress").length,s=e.filter(a=>a.state==="missed").length,n=e.length>0?Math.round(t/e.length*100):0;return o.jsxs(me,{className:"glass-card",children:[o.jsx(St,{children:o.jsx(Ct,{children:"Quest Stats"})}),o.jsxs(pe,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Quests"}),o.jsx("span",{className:"font-medium",children:e.length})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed"}),o.jsx("span",{className:"font-medium text-green-400",children:t})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"In Progress"}),o.jsx("span",{className:"font-medium text-blue-400",children:r})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Missed"}),o.jsx("span",{className:"font-medium text-red-400",children:s})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Success Rate"}),o.jsxs("span",{className:"font-medium",children:[n,"%"]})]})]})]})},ft=[{name:"Bronze",minXP:0,color:"text-bronze",icon:"🥉"},{name:"Silver",minXP:100,color:"text-silver",icon:"🥈"},{name:"Gold",minXP:300,color:"text-gold",icon:"🥇"},{name:"Platinum",minXP:600,color:"text-platinum",icon:"💎"},{name:"Ultra",minXP:1e3,color:"text-ultra",icon:"⭐"}],hu=()=>{const[e,t]=h.useState("all"),[r,s]=h.useState(!1),{theme:n,toggleTheme:a}=qc(),{user:i,signOut:l}=ns(),{tasks:c,playerStats:d,unlockedStickers:u,celebrationData:g,setCelebrationData:f,loading:v,createTask:x,deleteTask:p,startTask:b,completeTask:w,revertTask:S}=ud(),{toast:T}=bt();c.filter(_=>e==="all"?!0:_.state===e);const M=()=>d&&ft.slice().reverse().find(_=>d.total_xp>=_.minXP)||ft[0],k=()=>d?ft.find(_=>d.total_xp<_.minXP):ft[1],N=async()=>{if(!(!i||!d||r)){s(!0);try{console.log("Starting progress save...");const{error:_}=await ce.from("player_stats").upsert({user_id:i.id,total_xp:d.total_xp,coins:d.coins,level:d.level,streak:d.streak,last_completed_date:d.last_completed_date},{onConflict:"user_id"});if(_)throw console.error("Stats save error:",_),new Error(`Failed to save stats: ${_.message}`);if(console.log("Stats saved successfully"),c.length>0){const G=c.map(Z=>({...Z,user_id:i.id})),{error:z}=await ce.from("tasks").upsert(G,{onConflict:"id"});if(z)throw console.error("Tasks save error:",z),new Error(`Failed to save tasks: ${z.message}`);console.log("Tasks saved successfully")}T({title:"💾 Progress Saved!",description:"Your adventure progress has been safely stored.",duration:2e3})}catch(_){console.error("Save operation failed:",_),T({title:"❌ Save Failed",description:_.message||"Unable to save progress. Please try again.",variant:"destructive",duration:3e3})}finally{s(!1)}}};if(h.useState(()=>{const _=setInterval(()=>{i&&d&&!r&&N()},3e4);return()=>clearInterval(_)}),v||!i)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-lg",children:"Loading..."})]})});if(!d||!c)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-lg",children:"Loading your data..."})]})});const C=M(),j=k(),R=j&&d?(d.total_xp-C.minXP)/(j.minXP-C.minXP)*100:100,B=c.filter(_=>_.is_daily_timetable),q=c.filter(_=>!_.is_daily_timetable),Q=B.filter(_=>e==="all"?!0:_.state===e),K=q.filter(_=>e==="all"?!0:_.state===e);return o.jsxs("div",{className:"min-h-screen p-2 sm:p-4 lg:p-6 space-y-4 sm:space-y-6",children:[o.jsx(kd,{isOpen:g.isOpen,onClose:()=>f(_=>({..._,isOpen:!1})),quote:g.quote,xpGained:g.xpGained,coinsGained:g.coinsGained,taskTitle:g.taskTitle}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent truncate",children:"TaskForge"}),o.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground mt-1 truncate",children:["Welcome back, ",i?.email?.split("@")[0],"! Ready to level up?"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Crafted with love by Yuvi."})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 w-full sm:w-auto",children:[o.jsx("div",{className:"hidden sm:block",children:o.jsx($s,{})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ya,{className:"h-4 w-4"}),o.jsx(uo,{checked:n==="dark",onCheckedChange:a}),o.jsx(Ka,{className:"h-4 w-4"})]}),o.jsxs(ge,{onClick:N,variant:"outline",size:"sm",disabled:r,className:"flex items-center gap-2",children:[o.jsx(Xa,{className:`h-4 w-4 ${r?"animate-spin":""}`}),o.jsx("span",{className:"hidden sm:inline",children:r?"Saving...":"Save"})]}),o.jsxs(ge,{onClick:l,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[o.jsx(Ga,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]}),o.jsx("div",{className:"sm:hidden flex justify-center",children:o.jsx($s,{})}),d&&o.jsx(Ad,{playerStats:d,currentTier:C}),j&&d&&o.jsx(me,{className:"glass-card",children:o.jsxs(pe,{className:"p-3 sm:p-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 mb-2",children:[o.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:["Progress to ",j.name," ",j.icon]}),o.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[d.total_xp,"/",j.minXP," XP"]})]}),o.jsx(co,{value:R,className:"h-2"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[o.jsx(lu,{onCreateTask:x}),o.jsx(cu,{filter:e,onFilterChange:t}),Q.length>0&&o.jsx(me,{className:"glass-card",children:o.jsxs(pe,{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"📅 Daily Timetable"}),o.jsx("div",{className:"space-y-3",children:o.jsx(zs,{tasks:Q,onStartTask:b,onCompleteTask:w,onRevertTask:S,onDeleteTask:p})})]})}),K.length>0&&o.jsx(me,{className:"glass-card",children:o.jsxs(pe,{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"🎯 Custom Quests"}),o.jsx("div",{className:"space-y-3",children:o.jsx(zs,{tasks:K,onStartTask:b,onCompleteTask:w,onRevertTask:S,onDeleteTask:p})})]})}),Q.length===0&&K.length===0&&o.jsx(me,{className:"glass-card",children:o.jsx(pe,{className:"p-8 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No tasks found for this filter."})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ed,{userLevel:d?.level||1,unlockedStickers:u}),o.jsx(fu,{tasks:c})]})]}),o.jsx("div",{className:"sm:hidden fixed bottom-4 right-4 z-50",children:o.jsxs("div",{className:"flex items-center space-x-2 bg-background/80 backdrop-blur-sm rounded-full px-3 py-2 border",children:[o.jsx(Za,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Mobile Ready"})]})})]})},mu=()=>{const{user:e,loading:t}=ns();return h.useEffect(()=>{console.log("Index page - User:",e?.email,"Loading:",t)},[e,t]),t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary/20",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-lg font-medium text-foreground",children:"Loading TaskForge..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Initializing your adventure..."})]})]})}):e?(console.log("User authenticated, showing main app"),o.jsx(hu,{})):(console.log("No user found, showing auth page"),o.jsx(Zc,{onAuthSuccess:()=>console.log("Auth success callback")}))},pu=()=>{const e=Ia();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},gu=new Pc({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}}),vu=()=>o.jsx(Ac,{client:gu,children:o.jsx(zc,{children:o.jsx(Qc,{children:o.jsxs(dc,{children:[o.jsx(di,{}),o.jsx(Bi,{}),o.jsx(_a,{basename:"/quest-log-boost",children:o.jsxs(Da,{children:[o.jsx(hs,{path:"/",element:o.jsx(mu,{})}),o.jsx(hs,{path:"*",element:o.jsx(pu,{})})]})})]})})})});class xu extends A.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[o.jsx("h1",{className:"text-2xl font-bold text-destructive",children:"Something went wrong!"}),o.jsx("p",{className:"text-muted-foreground",children:"We apologize for the inconvenience. Please refresh the page or try again later."}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Refresh Page"})]})}):this.props.children}}const ma=document.getElementById("root");if(!ma)throw new Error("Root element not found");ti.createRoot(ma).render(o.jsx(xu,{children:o.jsx(vu,{})}))});export default yu();
