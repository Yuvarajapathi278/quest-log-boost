var qa=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{j as o,V as es,R as ts,A as rs,C as ns,T as ss,D as os,P as Wa,a as ne,u as ce,b as Qa,c as Ae,d as Te,e as tr,f as at,g as as,S as Ka,h as Ga,i as Z,k as is,l as ls,m as wt,n as Ht,o as cs,p as Ya,q as Xa,r as Za,s as Ja,t as ei,F as ti,v as ri,w as ni}from"./ui-DcX_pMVG.js";import{a as si}from"./vendor-kq2j8kjo.js";import{r as d,e as k,G as oi,a as Yr,u as ai,B as ii,b as li,c as Sn}from"./router-J42UEsZ4.js";import{c as ds,t as ci,X as us,Z as vt,M as Cn,L as Nn,U as di,T as zt,S as Pr,F as Er,a as fs,b as rt,C as ui,d as fi,e as hi,f as hs,g as mi,h as pi,P as gi,i as vi,j as ms,k as yr,l as ps,R as xi,m as yi,n as bi,o as wi,p as Si,q as Ci,r as Ni}from"./utils-Cs2IJsno.js";import{c as Ti}from"./supabase-uWtea-7e.js";var uf=qa((jf,jt)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var It={},Tn;function ji(){if(Tn)return It;Tn=1;var e=si();return It.createRoot=e.createRoot,It.hydrateRoot=e.hydrateRoot,It}var Ri=ji();const Pi=1,Ei=1e6;let br=0;function Ai(){return br=(br+1)%Number.MAX_SAFE_INTEGER,br.toString()}const wr=new Map,jn=e=>{if(wr.has(e))return;const t=setTimeout(()=>{wr.delete(e),gt({type:"REMOVE_TOAST",toastId:e})},Ei);wr.set(e,t)},ki=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Pi)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?jn(r):e.toasts.forEach(n=>{jn(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Lt=[];let $t={toasts:[]};function gt(e){$t=ki($t,e),Lt.forEach(t=>{t($t)})}function Oi({...e}){const t=Ai(),r=s=>gt({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>gt({type:"DISMISS_TOAST",toastId:t});return gt({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function St(){const[e,t]=d.useState($t);return d.useEffect(()=>(Lt.push(t),()=>{const r=Lt.indexOf(t);r>-1&&Lt.splice(r,1)}),[e]),{...e,toast:Oi,dismiss:r=>gt({type:"DISMISS_TOAST",toastId:r})}}const Rn=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Pn=ds,rr=(e,t)=>r=>{var n;if(t?.variants==null)return Pn(e,r?.class,r?.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const h=r?.[u],p=a?.[u];if(h===null)return null;const f=Rn(h)||Rn(p);return s[u][f]}),l=r&&Object.entries(r).reduce((u,h)=>{let[p,f]=h;return f===void 0||(u[p]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:p,className:f,...x}=h;return Object.entries(x).every(v=>{let[m,w]=v;return Array.isArray(w)?w.includes({...a,...l}[m]):{...a,...l}[m]===w})?[...u,p,f]:u},[]);return Pn(e,i,c,r?.class,r?.className)};function te(...e){return ci(ds(e))}const Mi=Wa,gs=d.forwardRef(({className:e,...t},r)=>o.jsx(es,{ref:r,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));gs.displayName=es.displayName;const Ii=rr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vs=d.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(ts,{ref:n,className:te(Ii({variant:t}),e),...r}));vs.displayName=ts.displayName;const _i=d.forwardRef(({className:e,...t},r)=>o.jsx(rs,{ref:r,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_i.displayName=rs.displayName;const xs=d.forwardRef(({className:e,...t},r)=>o.jsx(ns,{ref:r,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(us,{className:"h-4 w-4"})}));xs.displayName=ns.displayName;const ys=d.forwardRef(({className:e,...t},r)=>o.jsx(ss,{ref:r,className:te("text-sm font-semibold",e),...t}));ys.displayName=ss.displayName;const bs=d.forwardRef(({className:e,...t},r)=>o.jsx(os,{ref:r,className:te("text-sm opacity-90",e),...t}));bs.displayName=os.displayName;function Di(){const{toasts:e}=St();return o.jsxs(Mi,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return o.jsxs(vs,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(ys,{children:r}),n&&o.jsx(bs,{children:n})]}),s,o.jsx(xs,{})]},t)}),o.jsx(gs,{})]})}var En=["light","dark"],Fi="(prefers-color-scheme: dark)",Li=d.createContext(void 0),$i={setTheme:e=>{},themes:[]},Bi=()=>{var e;return(e=d.useContext(Li))!=null?e:$i};d.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,p=s?En.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,m=!1,w=!0)=>{let S=i?i[v]:v,C=m?v+"|| ''":`'${S}'`,y="";return s&&w&&!m&&En.includes(v)&&(y+=`d.style.colorScheme = '${v}';`),r==="class"?m||S?y+=`c.add(${C})`:y+="null":S&&(y+=`d[s](n,${C})`),y},x=e?`!function(){${h}${f(e)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Fi}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${u?"":"else{"+f(a,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${p}}catch(t){}}();`;return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:x}})});var Ui=e=>{switch(e){case"success":return Vi;case"info":return Wi;case"warning":return qi;case"error":return Qi;default:return null}},Hi=Array(12).fill(0),zi=({visible:e})=>k.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},k.createElement("div",{className:"sonner-spinner"},Hi.map((t,r)=>k.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Vi=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qi=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Wi=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Qi=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ki=()=>{let[e,t]=k.useState(document.hidden);return k.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Ar=1,Gi=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ar++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async a=>{if(Xi(a)&&!a.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=t?.id||Ar++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},ve=new Gi,Yi=(e,t)=>{let r=t?.id||Ar++;return ve.addToast({title:e,...t,id:r}),r},Xi=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Zi=Yi,Ji=()=>ve.toasts;Object.assign(Zi,{success:ve.success,info:ve.info,warning:ve.warning,error:ve.error,custom:ve.custom,message:ve.message,promise:ve.promise,dismiss:ve.dismiss,loading:ve.loading},{getHistory:Ji});function el(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}el(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function _t(e){return e.label!==void 0}var tl=3,rl="32px",nl=4e3,sl=356,ol=14,al=20,il=200;function ll(...e){return e.filter(Boolean).join(" ")}var cl=e=>{var t,r,n,s,a,i,l,c,u,h;let{invert:p,toast:f,unstyled:x,interacting:v,setHeights:m,visibleToasts:w,heights:S,index:C,toasts:y,expanded:N,removeToast:T,defaultRichColors:R,closeButton:E,style:I,cancelButtonStyle:O,actionButtonStyle:$,className:_="",descriptionClassName:K="",duration:Q,position:G,gap:ee,loadingIcon:B,expandByDefault:J,classNames:M,icons:X,closeButtonAriaLabel:b="Close toast",pauseWhenPageIsHidden:g,cn:P}=e,[A,L]=k.useState(!1),[H,F]=k.useState(!1),[j,D]=k.useState(!1),[V,U]=k.useState(!1),[z,q]=k.useState(0),[re,W]=k.useState(0),ie=k.useRef(null),ae=k.useRef(null),fe=C===0,Se=C+1<=w,de=f.type,he=f.dismissible!==!1,gr=f.className||"",vr=f.descriptionClassName||"",Ye=k.useMemo(()=>S.findIndex(Y=>Y.toastId===f.id)||0,[S,f.id]),Pt=k.useMemo(()=>{var Y;return(Y=f.closeButton)!=null?Y:E},[f.closeButton,E]),Et=k.useMemo(()=>f.duration||Q||nl,[f.duration,Q]),Xe=k.useRef(0),Fe=k.useRef(0),At=k.useRef(0),Ie=k.useRef(null),[ut,ft]=G.split("-"),kt=k.useMemo(()=>S.reduce((Y,oe,se)=>se>=Ye?Y:Y+oe.height,0),[S,Ye]),Ot=Ki(),Ha=f.invert||p,xr=de==="loading";Fe.current=k.useMemo(()=>Ye*ee+kt,[Ye,kt]),k.useEffect(()=>{L(!0)},[]),k.useLayoutEffect(()=>{if(!A)return;let Y=ae.current,oe=Y.style.height;Y.style.height="auto";let se=Y.getBoundingClientRect().height;Y.style.height=oe,W(se),m(Pe=>Pe.find(Ee=>Ee.toastId===f.id)?Pe.map(Ee=>Ee.toastId===f.id?{...Ee,height:se}:Ee):[{toastId:f.id,height:se,position:f.position},...Pe])},[A,f.title,f.description,m,f.id]);let Le=k.useCallback(()=>{F(!0),q(Fe.current),m(Y=>Y.filter(oe=>oe.toastId!==f.id)),setTimeout(()=>{T(f)},il)},[f,T,m,Fe]);k.useEffect(()=>{if(f.promise&&de==="loading"||f.duration===1/0||f.type==="loading")return;let Y,oe=Et;return N||v||g&&Ot?(()=>{if(At.current<Xe.current){let se=new Date().getTime()-Xe.current;oe=oe-se}At.current=new Date().getTime()})():oe!==1/0&&(Xe.current=new Date().getTime(),Y=setTimeout(()=>{var se;(se=f.onAutoClose)==null||se.call(f,f),Le()},oe)),()=>clearTimeout(Y)},[N,v,J,f,Et,Le,f.promise,de,g,Ot]),k.useEffect(()=>{let Y=ae.current;if(Y){let oe=Y.getBoundingClientRect().height;return W(oe),m(se=>[{toastId:f.id,height:oe,position:f.position},...se]),()=>m(se=>se.filter(Pe=>Pe.toastId!==f.id))}},[m,f.id]),k.useEffect(()=>{f.delete&&Le()},[Le,f.delete]);function za(){return X!=null&&X.loading?k.createElement("div",{className:"sonner-loader","data-visible":de==="loading"},X.loading):B?k.createElement("div",{className:"sonner-loader","data-visible":de==="loading"},B):k.createElement(zi,{visible:de==="loading"})}return k.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ae,className:P(_,gr,M?.toast,(t=f?.classNames)==null?void 0:t.toast,M?.default,M?.[de],(r=f?.classNames)==null?void 0:r[de]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:R,"data-styled":!(f.jsx||f.unstyled||x),"data-mounted":A,"data-promise":!!f.promise,"data-removed":H,"data-visible":Se,"data-y-position":ut,"data-x-position":ft,"data-index":C,"data-front":fe,"data-swiping":j,"data-dismissible":he,"data-type":de,"data-invert":Ha,"data-swipe-out":V,"data-expanded":!!(N||J&&A),style:{"--index":C,"--toasts-before":C,"--z-index":y.length-C,"--offset":`${H?z:Fe.current}px`,"--initial-height":J?"auto":`${re}px`,...I,...f.style},onPointerDown:Y=>{xr||!he||(ie.current=new Date,q(Fe.current),Y.target.setPointerCapture(Y.pointerId),Y.target.tagName!=="BUTTON"&&(D(!0),Ie.current={x:Y.clientX,y:Y.clientY}))},onPointerUp:()=>{var Y,oe,se,Pe;if(V||!he)return;Ie.current=null;let Ee=Number(((Y=ae.current)==null?void 0:Y.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Mt=new Date().getTime()-((oe=ie.current)==null?void 0:oe.getTime()),Va=Math.abs(Ee)/Mt;if(Math.abs(Ee)>=al||Va>.11){q(Fe.current),(se=f.onDismiss)==null||se.call(f,f),Le(),U(!0);return}(Pe=ae.current)==null||Pe.style.setProperty("--swipe-amount","0px"),D(!1)},onPointerMove:Y=>{var oe;if(!Ie.current||!he)return;let se=Y.clientY-Ie.current.y,Pe=Y.clientX-Ie.current.x,Ee=(ut==="top"?Math.min:Math.max)(0,se),Mt=Y.pointerType==="touch"?10:2;Math.abs(Ee)>Mt?(oe=ae.current)==null||oe.style.setProperty("--swipe-amount",`${se}px`):Math.abs(Pe)>Mt&&(Ie.current=null)}},Pt&&!f.jsx?k.createElement("button",{"aria-label":b,"data-disabled":xr,"data-close-button":!0,onClick:xr||!he?()=>{}:()=>{var Y;Le(),(Y=f.onDismiss)==null||Y.call(f,f)},className:P(M?.closeButton,(s=f?.classNames)==null?void 0:s.closeButton)},k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},k.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),k.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||k.isValidElement(f.title)?f.jsx||f.title:k.createElement(k.Fragment,null,de||f.icon||f.promise?k.createElement("div",{"data-icon":"",className:P(M?.icon,(a=f?.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||za():null,f.type!=="loading"?f.icon||X?.[de]||Ui(de):null):null,k.createElement("div",{"data-content":"",className:P(M?.content,(i=f?.classNames)==null?void 0:i.content)},k.createElement("div",{"data-title":"",className:P(M?.title,(l=f?.classNames)==null?void 0:l.title)},f.title),f.description?k.createElement("div",{"data-description":"",className:P(K,vr,M?.description,(c=f?.classNames)==null?void 0:c.description)},f.description):null),k.isValidElement(f.cancel)?f.cancel:f.cancel&&_t(f.cancel)?k.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||O,onClick:Y=>{var oe,se;_t(f.cancel)&&he&&((se=(oe=f.cancel).onClick)==null||se.call(oe,Y),Le())},className:P(M?.cancelButton,(u=f?.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,k.isValidElement(f.action)?f.action:f.action&&_t(f.action)?k.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||$,onClick:Y=>{var oe,se;_t(f.action)&&(Y.defaultPrevented||((se=(oe=f.action).onClick)==null||se.call(oe,Y),Le()))},className:P(M?.actionButton,(h=f?.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function An(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var dl=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:i,offset:l,theme:c="light",richColors:u,duration:h,style:p,visibleToasts:f=tl,toastOptions:x,dir:v=An(),gap:m=ol,loadingIcon:w,icons:S,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:y,cn:N=ll}=e,[T,R]=k.useState([]),E=k.useMemo(()=>Array.from(new Set([r].concat(T.filter(g=>g.position).map(g=>g.position)))),[T,r]),[I,O]=k.useState([]),[$,_]=k.useState(!1),[K,Q]=k.useState(!1),[G,ee]=k.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=k.useRef(null),J=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=k.useRef(null),X=k.useRef(!1),b=k.useCallback(g=>{var P;(P=T.find(A=>A.id===g.id))!=null&&P.delete||ve.dismiss(g.id),R(A=>A.filter(({id:L})=>L!==g.id))},[T]);return k.useEffect(()=>ve.subscribe(g=>{if(g.dismiss){R(P=>P.map(A=>A.id===g.id?{...A,delete:!0}:A));return}setTimeout(()=>{oi.flushSync(()=>{R(P=>{let A=P.findIndex(L=>L.id===g.id);return A!==-1?[...P.slice(0,A),{...P[A],...g},...P.slice(A+1)]:[g,...P]})})})}),[]),k.useEffect(()=>{if(c!=="system"){ee(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:g})=>{ee(g?"dark":"light")})},[c]),k.useEffect(()=>{T.length<=1&&_(!1)},[T]),k.useEffect(()=>{let g=P=>{var A,L;n.every(H=>P[H]||P.code===H)&&(_(!0),(A=B.current)==null||A.focus()),P.code==="Escape"&&(document.activeElement===B.current||(L=B.current)!=null&&L.contains(document.activeElement))&&_(!1)};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),k.useEffect(()=>{if(B.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,X.current=!1)}},[B.current]),T.length?k.createElement("section",{"aria-label":`${C} ${J}`,tabIndex:-1},E.map((g,P)=>{var A;let[L,H]=g.split("-");return k.createElement("ol",{key:g,dir:v==="auto"?An():v,tabIndex:-1,ref:B,className:i,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":L,"data-x-position":H,style:{"--front-toast-height":`${((A=I[0])==null?void 0:A.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||rl,"--width":`${sl}px`,"--gap":`${m}px`,...p},onBlur:F=>{X.current&&!F.currentTarget.contains(F.relatedTarget)&&(X.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||X.current||(X.current=!0,M.current=F.relatedTarget)},onMouseEnter:()=>_(!0),onMouseMove:()=>_(!0),onMouseLeave:()=>{K||_(!1)},onPointerDown:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},T.filter(F=>!F.position&&P===0||F.position===g).map((F,j)=>{var D,V;return k.createElement(cl,{key:F.id,icons:S,index:j,toast:F,defaultRichColors:u,duration:(D=x?.duration)!=null?D:h,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:t,visibleToasts:f,closeButton:(V=x?.closeButton)!=null?V:a,interacting:K,position:g,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,removeToast:b,toasts:T.filter(U=>U.position==F.position),heights:I.filter(U=>U.position==F.position),setHeights:O,expandByDefault:s,gap:m,loadingIcon:w,expanded:$,pauseWhenPageIsHidden:y,cn:N})}))})):null};const ul=({...e})=>{const{theme:t="system"}=Bi();return o.jsx(dl,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},fl=["top","right","bottom","left"],Be=Math.min,xe=Math.max,Vt=Math.round,Dt=Math.floor,Ue=e=>({x:e,y:e}),hl={left:"right",right:"left",bottom:"top",top:"bottom"},ml={start:"end",end:"start"};function kr(e,t,r){return xe(e,Be(t,r))}function _e(e,t){return typeof e=="function"?e(t):e}function De(e){return e.split("-")[0]}function it(e){return e.split("-")[1]}function Xr(e){return e==="x"?"y":"x"}function Zr(e){return e==="y"?"height":"width"}function He(e){return["top","bottom"].includes(De(e))?"y":"x"}function Jr(e){return Xr(He(e))}function pl(e,t,r){r===void 0&&(r=!1);const n=it(e),s=Jr(e),a=Zr(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=qt(i)),[i,qt(i)]}function gl(e){const t=qt(e);return[Or(e),t,Or(t)]}function Or(e){return e.replace(/start|end/g,t=>ml[t])}function vl(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:i;default:return[]}}function xl(e,t,r,n){const s=it(e);let a=vl(De(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Or)))),a}function qt(e){return e.replace(/left|right|bottom|top/g,t=>hl[t])}function yl(e){return{top:0,right:0,bottom:0,left:0,...e}}function ws(e){return typeof e!="number"?yl(e):{top:e,right:e,bottom:e,left:e}}function Wt(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function kn(e,t,r){let{reference:n,floating:s}=e;const a=He(t),i=Jr(t),l=Zr(i),c=De(t),u=a==="y",h=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;let x;switch(c){case"top":x={x:h,y:n.y-s.height};break;case"bottom":x={x:h,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:p};break;case"left":x={x:n.x-s.width,y:p};break;default:x={x:n.x,y:n.y}}switch(it(t)){case"start":x[i]-=f*(r&&u?-1:1);break;case"end":x[i]+=f*(r&&u?-1:1);break}return x}const bl=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:p}=kn(u,n,c),f=n,x={},v=0;for(let m=0;m<l.length;m++){const{name:w,fn:S}=l[m],{x:C,y,data:N,reset:T}=await S({x:h,y:p,initialPlacement:n,placement:f,strategy:s,middlewareData:x,rects:u,platform:i,elements:{reference:e,floating:t}});h=C??h,p=y??p,x={...x,[w]:{...x[w],...N}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(u=T.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):T.rects),{x:h,y:p}=kn(u,f,c)),m=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:x}};async function xt(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:x=0}=_e(t,e),v=ws(x),w=l[f?p==="floating"?"reference":"floating":p],S=Wt(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(w)))==null||r?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),C=p==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},T=Wt(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:y,strategy:c}):C);return{top:(S.top-T.top+v.top)/N.y,bottom:(T.bottom-S.bottom+v.bottom)/N.y,left:(S.left-T.left+v.left)/N.x,right:(T.right-S.right+v.right)/N.x}}const wl=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=_e(e,t)||{};if(u==null)return{};const p=ws(h),f={x:r,y:n},x=Jr(s),v=Zr(x),m=await i.getDimensions(u),w=x==="y",S=w?"top":"left",C=w?"bottom":"right",y=w?"clientHeight":"clientWidth",N=a.reference[v]+a.reference[x]-f[x]-a.floating[v],T=f[x]-a.reference[x],R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let E=R?R[y]:0;(!E||!await(i.isElement==null?void 0:i.isElement(R)))&&(E=l.floating[y]||a.floating[v]);const I=N/2-T/2,O=E/2-m[v]/2-1,$=Be(p[S],O),_=Be(p[C],O),K=$,Q=E-m[v]-_,G=E/2-m[v]/2+I,ee=kr(K,G,Q),B=!c.arrow&&it(s)!=null&&G!==ee&&a.reference[v]/2-(G<K?$:_)-m[v]/2<0,J=B?G<K?G-K:G-Q:0;return{[x]:f[x]+J,data:{[x]:ee,centerOffset:G-ee-J,...B&&{alignmentOffset:J}},reset:B}}}),Sl=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...w}=_e(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const S=De(s),C=He(l),y=De(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=f||(y||!m?[qt(l)]:gl(l)),R=v!=="none";!f&&R&&T.push(...xl(l,m,v,N));const E=[l,...T],I=await xt(t,w),O=[];let $=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&O.push(I[S]),p){const G=pl(s,i,N);O.push(I[G[0]],I[G[1]])}if($=[...$,{placement:s,overflows:O}],!O.every(G=>G<=0)){var _,K;const G=(((_=a.flip)==null?void 0:_.index)||0)+1,ee=E[G];if(ee)return{data:{index:G,overflows:$},reset:{placement:ee}};let B=(K=$.filter(J=>J.overflows[0]<=0).sort((J,M)=>J.overflows[1]-M.overflows[1])[0])==null?void 0:K.placement;if(!B)switch(x){case"bestFit":{var Q;const J=(Q=$.filter(M=>{if(R){const X=He(M.placement);return X===C||X==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(X=>X>0).reduce((X,b)=>X+b,0)]).sort((M,X)=>M[1]-X[1])[0])==null?void 0:Q[0];J&&(B=J);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function On(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Mn(e){return fl.some(t=>e[t]>=0)}const Cl=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=_e(e,t);switch(n){case"referenceHidden":{const a=await xt(t,{...s,elementContext:"reference"}),i=On(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Mn(i)}}}case"escaped":{const a=await xt(t,{...s,altBoundary:!0}),i=On(a,r.floating);return{data:{escapedOffsets:i,escaped:Mn(i)}}}default:return{}}}}};async function Nl(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=De(r),l=it(r),c=He(r)==="y",u=["left","top"].includes(i)?-1:1,h=a&&c?-1:1,p=_e(t,e);let{mainAxis:f,crossAxis:x,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof v=="number"&&(x=l==="end"?v*-1:v),c?{x:x*h,y:f*u}:{x:f*u,y:x*h}}const Tl=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await Nl(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},jl=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:S,y:C}=w;return{x:S,y:C}}},...c}=_e(e,t),u={x:r,y:n},h=await xt(t,c),p=He(De(s)),f=Xr(p);let x=u[f],v=u[p];if(a){const w=f==="y"?"top":"left",S=f==="y"?"bottom":"right",C=x+h[w],y=x-h[S];x=kr(C,x,y)}if(i){const w=p==="y"?"top":"left",S=p==="y"?"bottom":"right",C=v+h[w],y=v-h[S];v=kr(C,v,y)}const m=l.fn({...t,[f]:x,[p]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:a,[p]:i}}}}}},Rl=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=_e(e,t),h={x:r,y:n},p=He(s),f=Xr(p);let x=h[f],v=h[p];const m=_e(l,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const y=f==="y"?"height":"width",N=a.reference[f]-a.floating[y]+w.mainAxis,T=a.reference[f]+a.reference[y]-w.mainAxis;x<N?x=N:x>T&&(x=T)}if(u){var S,C;const y=f==="y"?"width":"height",N=["top","left"].includes(De(s)),T=a.reference[p]-a.floating[y]+(N&&((S=i.offset)==null?void 0:S[p])||0)+(N?0:w.crossAxis),R=a.reference[p]+a.reference[y]+(N?0:((C=i.offset)==null?void 0:C[p])||0)-(N?w.crossAxis:0);v<T?v=T:v>R&&(v=R)}return{[f]:x,[p]:v}}}},Pl=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=_e(e,t),h=await xt(t,u),p=De(s),f=it(s),x=He(s)==="y",{width:v,height:m}=a.floating;let w,S;p==="top"||p==="bottom"?(w=p,S=f===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(S=p,w=f==="end"?"top":"bottom");const C=m-h.top-h.bottom,y=v-h.left-h.right,N=Be(m-h[w],C),T=Be(v-h[S],y),R=!t.middlewareData.shift;let E=N,I=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=C),R&&!f){const $=xe(h.left,0),_=xe(h.right,0),K=xe(h.top,0),Q=xe(h.bottom,0);x?I=v-2*($!==0||_!==0?$+_:xe(h.left,h.right)):E=m-2*(K!==0||Q!==0?K+Q:xe(h.top,h.bottom))}await c({...t,availableWidth:I,availableHeight:E});const O=await i.getDimensions(l.floating);return v!==O.width||m!==O.height?{reset:{rects:!0}}:{}}}};function nr(){return typeof window<"u"}function lt(e){return Ss(e)?(e.nodeName||"").toLowerCase():"#document"}function ye(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Oe(e){var t;return(t=(Ss(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ss(e){return nr()?e instanceof Node||e instanceof ye(e).Node:!1}function je(e){return nr()?e instanceof Element||e instanceof ye(e).Element:!1}function ke(e){return nr()?e instanceof HTMLElement||e instanceof ye(e).HTMLElement:!1}function In(e){return!nr()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ye(e).ShadowRoot}function Ct(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Re(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function El(e){return["table","td","th"].includes(lt(e))}function sr(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function en(e){const t=tn(),r=je(e)?Re(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Al(e){let t=ze(e);for(;ke(t)&&!nt(t);){if(en(t))return t;if(sr(t))return null;t=ze(t)}return null}function tn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nt(e){return["html","body","#document"].includes(lt(e))}function Re(e){return ye(e).getComputedStyle(e)}function or(e){return je(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ze(e){if(lt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||In(e)&&e.host||Oe(e);return In(t)?t.host:t}function Cs(e){const t=ze(e);return nt(t)?e.ownerDocument?e.ownerDocument.body:e.body:ke(t)&&Ct(t)?t:Cs(t)}function yt(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Cs(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=ye(s);if(a){const l=Mr(i);return t.concat(i,i.visualViewport||[],Ct(s)?s:[],l&&r?yt(l):[])}return t.concat(s,yt(s,[],r))}function Mr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ns(e){const t=Re(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ke(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=Vt(r)!==a||Vt(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function rn(e){return je(e)?e:e.contextElement}function Je(e){const t=rn(e);if(!ke(t))return Ue(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=Ns(t);let i=(a?Vt(r.width):r.width)/n,l=(a?Vt(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const kl=Ue(0);function Ts(e){const t=ye(e);return!tn()||!t.visualViewport?kl:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ol(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ye(e)?!1:t}function We(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=rn(e);let i=Ue(1);t&&(n?je(n)&&(i=Je(n)):i=Je(e));const l=Ol(a,r,n)?Ts(a):Ue(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,h=s.width/i.x,p=s.height/i.y;if(a){const f=ye(a),x=n&&je(n)?ye(n):n;let v=f,m=Mr(v);for(;m&&n&&x!==v;){const w=Je(m),S=m.getBoundingClientRect(),C=Re(m),y=S.left+(m.clientLeft+parseFloat(C.paddingLeft))*w.x,N=S.top+(m.clientTop+parseFloat(C.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,p*=w.y,c+=y,u+=N,v=ye(m),m=Mr(v)}}return Wt({width:h,height:p,x:c,y:u})}function Ml(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=Oe(n),l=t?sr(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Ue(1);const h=Ue(0),p=ke(n);if((p||!p&&!a)&&((lt(n)!=="body"||Ct(i))&&(c=or(n)),ke(n))){const f=We(n);u=Je(n),h.x=f.x+n.clientLeft,h.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x,y:r.y*u.y-c.scrollTop*u.y+h.y}}function Il(e){return Array.from(e.getClientRects())}function Ir(e,t){const r=or(e).scrollLeft;return t?t.left+r:We(Oe(e)).left+r}function _l(e){const t=Oe(e),r=or(e),n=e.ownerDocument.body,s=xe(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=xe(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Ir(e);const l=-r.scrollTop;return Re(n).direction==="rtl"&&(i+=xe(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}function Dl(e,t){const r=ye(e),n=Oe(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=tn();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}function Fl(e,t){const r=We(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=ke(e)?Je(e):Ue(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function _n(e,t,r){let n;if(t==="viewport")n=Dl(e,r);else if(t==="document")n=_l(Oe(e));else if(je(t))n=Fl(t,r);else{const s=Ts(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Wt(n)}function js(e,t){const r=ze(e);return r===t||!je(r)||nt(r)?!1:Re(r).position==="fixed"||js(r,t)}function Ll(e,t){const r=t.get(e);if(r)return r;let n=yt(e,[],!1).filter(l=>je(l)&&lt(l)!=="body"),s=null;const a=Re(e).position==="fixed";let i=a?ze(e):e;for(;je(i)&&!nt(i);){const l=Re(i),c=en(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ct(i)&&!c&&js(e,i))?n=n.filter(h=>h!==i):s=l,i=ze(i)}return t.set(e,n),n}function $l(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?sr(t)?[]:Ll(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,h)=>{const p=_n(t,h,s);return u.top=xe(p.top,u.top),u.right=Be(p.right,u.right),u.bottom=Be(p.bottom,u.bottom),u.left=xe(p.left,u.left),u},_n(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Bl(e){const{width:t,height:r}=Ns(e);return{width:t,height:r}}function Ul(e,t,r){const n=ke(t),s=Oe(t),a=r==="fixed",i=We(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Ue(0);if(n||!n&&!a)if((lt(t)!=="body"||Ct(s))&&(l=or(t)),n){const x=We(t,!0,a,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else s&&(c.x=Ir(s));let u=0,h=0;if(s&&!n&&!a){const x=s.getBoundingClientRect();h=x.top+l.scrollTop,u=x.left+l.scrollLeft-Ir(s,x)}const p=i.left+l.scrollLeft-c.x-u,f=i.top+l.scrollTop-c.y-h;return{x:p,y:f,width:i.width,height:i.height}}function Sr(e){return Re(e).position==="static"}function Dn(e,t){if(!ke(e)||Re(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Oe(e)===r&&(r=r.ownerDocument.body),r}function Rs(e,t){const r=ye(e);if(sr(e))return r;if(!ke(e)){let s=ze(e);for(;s&&!nt(s);){if(je(s)&&!Sr(s))return s;s=ze(s)}return r}let n=Dn(e,t);for(;n&&El(n)&&Sr(n);)n=Dn(n,t);return n&&nt(n)&&Sr(n)&&!en(n)?r:n||Al(e)||r}const Hl=async function(e){const t=this.getOffsetParent||Rs,r=this.getDimensions,n=await r(e.floating);return{reference:Ul(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function zl(e){return Re(e).direction==="rtl"}const Vl={convertOffsetParentRelativeRectToViewportRelativeRect:Ml,getDocumentElement:Oe,getClippingRect:$l,getOffsetParent:Rs,getElementRects:Hl,getClientRects:Il,getDimensions:Bl,getScale:Je,isElement:je,isRTL:zl};function ql(e,t){let r=null,n;const s=Oe(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:h,width:p,height:f}=e.getBoundingClientRect();if(l||t(),!p||!f)return;const x=Dt(h),v=Dt(s.clientWidth-(u+p)),m=Dt(s.clientHeight-(h+f)),w=Dt(u),C={rootMargin:-x+"px "+-v+"px "+-m+"px "+-w+"px",threshold:xe(0,Be(1,c))||1};let y=!0;function N(T){const R=T[0].intersectionRatio;if(R!==c){if(!y)return i();R?i(!1,R):n=setTimeout(()=>{i(!1,1e-7)},1e3)}y=!1}try{r=new IntersectionObserver(N,{...C,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,C)}r.observe(e)}return i(!0),a}function Wl(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=rn(e),h=s||a?[...u?yt(u):[],...yt(t)]:[];h.forEach(S=>{s&&S.addEventListener("scroll",r,{passive:!0}),a&&S.addEventListener("resize",r)});const p=u&&l?ql(u,r):null;let f=-1,x=null;i&&(x=new ResizeObserver(S=>{let[C]=S;C&&C.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=x)==null||y.observe(t)})),r()}),u&&!c&&x.observe(u),x.observe(t));let v,m=c?We(e):null;c&&w();function w(){const S=We(e);m&&(S.x!==m.x||S.y!==m.y||S.width!==m.width||S.height!==m.height)&&r(),m=S,v=requestAnimationFrame(w)}return r(),()=>{var S;h.forEach(C=>{s&&C.removeEventListener("scroll",r),a&&C.removeEventListener("resize",r)}),p?.(),(S=x)==null||S.disconnect(),x=null,c&&cancelAnimationFrame(v)}}const Ql=Tl,Kl=jl,Gl=Sl,Yl=Pl,Xl=Cl,Fn=wl,Zl=Rl,Jl=(e,t,r)=>{const n=new Map,s={platform:Vl,...r},a={...s.platform,_c:n};return bl(e,t,{...s,platform:a})};var Bt=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Qt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Qt(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Qt(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Ps(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ln(e,t){const r=Ps(e);return Math.round(t*r)/r}function Cr(e){const t=d.useRef(e);return Bt(()=>{t.current=e}),t}function ec(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,p]=d.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,x]=d.useState(n);Qt(f,n)||x(n);const[v,m]=d.useState(null),[w,S]=d.useState(null),C=d.useCallback(M=>{M!==R.current&&(R.current=M,m(M))},[]),y=d.useCallback(M=>{M!==E.current&&(E.current=M,S(M))},[]),N=a||v,T=i||w,R=d.useRef(null),E=d.useRef(null),I=d.useRef(h),O=c!=null,$=Cr(c),_=Cr(s),K=Cr(u),Q=d.useCallback(()=>{if(!R.current||!E.current)return;const M={placement:t,strategy:r,middleware:f};_.current&&(M.platform=_.current),Jl(R.current,E.current,M).then(X=>{const b={...X,isPositioned:K.current!==!1};G.current&&!Qt(I.current,b)&&(I.current=b,Yr.flushSync(()=>{p(b)}))})},[f,t,r,_,K]);Bt(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(M=>({...M,isPositioned:!1})))},[u]);const G=d.useRef(!1);Bt(()=>(G.current=!0,()=>{G.current=!1}),[]),Bt(()=>{if(N&&(R.current=N),T&&(E.current=T),N&&T){if($.current)return $.current(N,T,Q);Q()}},[N,T,Q,$,O]);const ee=d.useMemo(()=>({reference:R,floating:E,setReference:C,setFloating:y}),[C,y]),B=d.useMemo(()=>({reference:N,floating:T}),[N,T]),J=d.useMemo(()=>{const M={position:r,left:0,top:0};if(!B.floating)return M;const X=Ln(B.floating,h.x),b=Ln(B.floating,h.y);return l?{...M,transform:"translate("+X+"px, "+b+"px)",...Ps(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:b}},[r,l,B.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:Q,refs:ee,elements:B,floatingStyles:J}),[h,Q,ee,B,J])}const tc=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Fn({element:n.current,padding:s}).fn(r):{}:n?Fn({element:n,padding:s}).fn(r):{}}}},rc=(e,t)=>({...Ql(e),options:[e,t]}),nc=(e,t)=>({...Kl(e),options:[e,t]}),sc=(e,t)=>({...Zl(e),options:[e,t]}),oc=(e,t)=>({...Gl(e),options:[e,t]}),ac=(e,t)=>({...Yl(e),options:[e,t]}),ic=(e,t)=>({...Xl(e),options:[e,t]}),lc=(e,t)=>({...tc(e),options:[e,t]});var cc="Arrow",Es=d.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(ne.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Es.displayName=cc;var dc=Es;function uc(e,t=[]){let r=[];function n(a,i){const l=d.createContext(i),c=r.length;r=[...r,i];function u(p){const{scope:f,children:x,...v}=p,m=f?.[e][c]||l,w=d.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:w,children:x})}function h(p,f){const x=f?.[e][c]||l,v=d.useContext(x);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,h]}const s=()=>{const a=r.map(i=>d.createContext(i));return function(l){const c=l?.[e]||a;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,fc(s,...t)]}function fc(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const p=c(a)[`__scope${u}`];return{...l,...p}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var nn="Popper",[As,ar]=uc(nn),[hc,ks]=As(nn),Os=e=>{const{__scopePopper:t,children:r}=e,[n,s]=d.useState(null);return o.jsx(hc,{scope:t,anchor:n,onAnchorChange:s,children:r})};Os.displayName=nn;var Ms="PopperAnchor",Is=d.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=ks(Ms,r),i=d.useRef(null),l=ce(t,i);return d.useEffect(()=>{a.onAnchorChange(n?.current||i.current)}),n?null:o.jsx(ne.div,{...s,ref:l})});Is.displayName=Ms;var sn="PopperContent",[mc,pc]=As(sn),_s=d.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:v,...m}=e,w=ks(sn,r),[S,C]=d.useState(null),y=ce(t,j=>C(j)),[N,T]=d.useState(null),R=Qa(N),E=R?.width??0,I=R?.height??0,O=n+(a!=="center"?"-"+a:""),$=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},_=Array.isArray(u)?u:[u],K=_.length>0,Q={padding:$,boundary:_.filter(vc),altBoundary:K},{refs:G,floatingStyles:ee,placement:B,isPositioned:J,middlewareData:M}=ec({strategy:"fixed",placement:O,whileElementsMounted:(...j)=>Wl(...j,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[rc({mainAxis:s+I,alignmentAxis:i}),c&&nc({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?sc():void 0,...Q}),c&&oc({...Q}),ac({...Q,apply:({elements:j,rects:D,availableWidth:V,availableHeight:U})=>{const{width:z,height:q}=D.reference,re=j.floating.style;re.setProperty("--radix-popper-available-width",`${V}px`),re.setProperty("--radix-popper-available-height",`${U}px`),re.setProperty("--radix-popper-anchor-width",`${z}px`),re.setProperty("--radix-popper-anchor-height",`${q}px`)}}),N&&lc({element:N,padding:l}),xc({arrowWidth:E,arrowHeight:I}),f&&ic({strategy:"referenceHidden",...Q})]}),[X,b]=Ls(B),g=Ae(v);Te(()=>{J&&g?.()},[J,g]);const P=M.arrow?.x,A=M.arrow?.y,L=M.arrow?.centerOffset!==0,[H,F]=d.useState();return Te(()=>{S&&F(window.getComputedStyle(S).zIndex)},[S]),o.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:J?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(mc,{scope:r,placedSide:X,onArrowChange:T,arrowX:P,arrowY:A,shouldHideArrow:L,children:o.jsx(ne.div,{"data-side":X,"data-align":b,...m,ref:y,style:{...m.style,animation:J?void 0:"none"}})})})});_s.displayName=sn;var Ds="PopperArrow",gc={top:"bottom",right:"left",bottom:"top",left:"right"},Fs=d.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=pc(Ds,n),i=gc[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(dc,{...s,ref:r,style:{...s.style,display:"block"}})})});Fs.displayName=Ds;function vc(e){return e!==null}var xc=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:s}=t,i=s.arrow?.centerOffset!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=Ls(r),p={start:"0%",center:"50%",end:"100%"}[h],f=(s.arrow?.x??0)+l/2,x=(s.arrow?.y??0)+c/2;let v="",m="";return u==="bottom"?(v=i?p:`${f}px`,m=`${-c}px`):u==="top"?(v=i?p:`${f}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=i?p:`${x}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=i?p:`${x}px`),{data:{x:v,y:m}}}});function Ls(e){const[t,r="center"]=e.split("-");return[t,r]}var yc=Os,$s=Is,Bs=_s,Us=Fs,[ir,xf]=tr("Tooltip",[ar]),on=ar(),Hs="TooltipProvider",bc=700,$n="tooltip.open",[wc,zs]=ir(Hs),Vs=e=>{const{__scopeTooltip:t,delayDuration:r=bc,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[i,l]=d.useState(!0),c=d.useRef(!1),u=d.useRef(0);return d.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),o.jsx(wc,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:d.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:d.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:d.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:a})};Vs.displayName=Hs;var qs="Tooltip",[yf,lr]=ir(qs),_r="TooltipTrigger",Sc=d.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=lr(_r,r),a=zs(_r,r),i=on(r),l=d.useRef(null),c=ce(t,l,s.onTriggerChange),u=d.useRef(!1),h=d.useRef(!1),p=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),o.jsx($s,{asChild:!0,...i,children:o.jsx(ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Z(e.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Z(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Z(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Z(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Z(e.onBlur,s.onClose),onClick:Z(e.onClick,s.onClose)})})});Sc.displayName=_r;var Cc="TooltipPortal",[bf,Nc]=ir(Cc,{forceMount:void 0}),st="TooltipContent",Ws=d.forwardRef((e,t)=>{const r=Nc(st,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=lr(st,e.__scopeTooltip);return o.jsx(at,{present:n||i.open,children:i.disableHoverableContent?o.jsx(Qs,{side:s,...a,ref:t}):o.jsx(Tc,{side:s,...a,ref:t})})}),Tc=d.forwardRef((e,t)=>{const r=lr(st,e.__scopeTooltip),n=zs(st,e.__scopeTooltip),s=d.useRef(null),a=ce(t,s),[i,l]=d.useState(null),{trigger:c,onClose:u}=r,h=s.current,{onPointerInTransitChange:p}=n,f=d.useCallback(()=>{l(null),p(!1)},[p]),x=d.useCallback((v,m)=>{const w=v.currentTarget,S={x:v.clientX,y:v.clientY},C=Ec(S,w.getBoundingClientRect()),y=Ac(S,C),N=kc(m.getBoundingClientRect()),T=Mc([...y,...N]);l(T),p(!0)},[p]);return d.useEffect(()=>()=>f(),[f]),d.useEffect(()=>{if(c&&h){const v=w=>x(w,h),m=w=>x(w,c);return c.addEventListener("pointerleave",v),h.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",m)}}},[c,h,x,f]),d.useEffect(()=>{if(i){const v=m=>{const w=m.target,S={x:m.clientX,y:m.clientY},C=c?.contains(w)||h?.contains(w),y=!Oc(S,i);C?f():y&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,h,i,u,f]),o.jsx(Qs,{...e,ref:a})}),[jc,Rc]=ir(qs,{isInside:!1}),Qs=d.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=lr(st,r),u=on(r),{onClose:h}=c;return d.useEffect(()=>(document.addEventListener($n,h),()=>document.removeEventListener($n,h)),[h]),d.useEffect(()=>{if(c.trigger){const p=f=>{f.target?.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),o.jsx(as,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:o.jsxs(Bs,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Ka,{children:n}),o.jsx(jc,{scope:r,isInside:!0,children:o.jsx(Ga,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Ws.displayName=st;var Ks="TooltipArrow",Pc=d.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=on(r);return Rc(Ks,r).isInside?null:o.jsx(Us,{...s,...n,ref:t})});Pc.displayName=Ks;function Ec(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Ac(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function kc(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Oc(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,h=t[i].y;c>n!=h>n&&r<(u-l)*(n-c)/(h-c)+l&&(s=!s)}return s}function Mc(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Ic(t)}function Ic(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var _c=Vs,Gs=Ws;const Dc=_c,Fc=d.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Gs,{ref:n,sideOffset:t,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Fc.displayName=Gs.displayName;var ct=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qe=typeof window>"u"||"Deno"in globalThis;function be(){}function Lc(e,t){return typeof e=="function"?e(t):e}function Dr(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ys(e,t){return Math.max(e+(t||0)-Date.now(),0)}function et(e,t){return typeof e=="function"?e(t):e}function Ne(e,t){return typeof e=="function"?e(t):e}function Bn(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==an(i,t.options))return!1}else if(!bt(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Un(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ke(t.options.mutationKey)!==Ke(a))return!1}else if(!bt(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function an(e,t){return(t?.queryKeyHashFn||Ke)(e)}function Ke(e){return JSON.stringify(e,(t,r)=>Fr(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function bt(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!bt(e[r],t[r])):!1}function Xs(e,t){if(e===t)return e;const r=Hn(e)&&Hn(t);if(r||Fr(e)&&Fr(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const h=r?u:a[u];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=Xs(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function Kt(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Hn(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fr(e){if(!zn(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!zn(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zn(e){return Object.prototype.toString.call(e)==="[object Object]"}function $c(e){return new Promise(t=>{setTimeout(t,e)})}function Lr(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Xs(e,t):t}function Bc(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Uc(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ln=Symbol();function Zs(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===ln?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Hc=class extends ct{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Qe&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},cn=new Hc,zc=class extends ct{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Qe&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Gt=new zc;function $r(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function Vc(e){return Math.min(1e3*2**e,3e4)}function Js(e){return(e??"online")==="online"?Gt.isOnline():!0}var eo=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Nr(e){return e instanceof eo}function to(e){let t=!1,r=0,n=!1,s;const a=$r(),i=m=>{n||(f(new eo(m)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>cn.isFocused()&&(e.networkMode==="always"||Gt.isOnline())&&e.canRun(),h=()=>Js(e.networkMode)&&e.canRun(),p=m=>{n||(n=!0,e.onSuccess?.(m),s?.(),a.resolve(m))},f=m=>{n||(n=!0,e.onError?.(m),s?.(),a.reject(m))},x=()=>new Promise(m=>{s=w=>{(n||u())&&m(w)},e.onPause?.()}).then(()=>{s=void 0,n||e.onContinue?.()}),v=()=>{if(n)return;let m;const w=r===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(S){m=Promise.reject(S)}Promise.resolve(m).then(p).catch(S=>{if(n)return;const C=e.retry??(Qe?0:3),y=e.retryDelay??Vc,N=typeof y=="function"?y(r,S):y,T=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,S);if(t||!T){f(S);return}r++,e.onFail?.(r,S),$c(N).then(()=>u()?void 0:x()).then(()=>{t?f(S):v()})})};return{promise:a,cancel:i,continue:()=>(s?.(),a),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?v():x().then(v),a)}}function qc(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var ue=qc(),ro=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Dr(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qe?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Wc=class extends ro{#e;#t;#n;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Qc(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=Lr(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(be).catch(be):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ne(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ln||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Ys(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},s=()=>{const l=Zs(this.options,t),c={queryKey:this.queryKey,meta:this.meta};return n(c),this.#o=!1,this.options.persister?this.options.persister(l,c,this):l(c)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};n(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const i=l=>{Nr(l)&&l.silent||this.#s({type:"error",error:l}),Nr(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#r=to({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{if(l===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){i(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:i,onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...no(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Nr(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ue.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function no(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Js(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Qc(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Kc=class extends ct{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,s=t.queryHash??an(n,t);let a=this.get(s);return a||(a=new Wc({cache:this,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ue.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Bn(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Bn(e,r)):t}notify(e){ue.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ue.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ue.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Gc=class extends ro{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||so(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){this.#n=to({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(n,s)=>{this.#r({type:"failed",failureCount:n,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",r=!this.#n.canStart();try{if(!t){this.#r({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:r})}const n=await this.#n.start();return await this.#t.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,e,this.state.context,this),await this.options.onError?.(n,e,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,e,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#t.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ue.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function so(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yc=class extends ct{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,r){const n=new Gc({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){const t=Ft(e),r=this.#e.get(t)??[];r.push(e),this.#e.set(t,r),this.notify({type:"added",mutation:e})}remove(e){const t=Ft(e);if(this.#e.has(t)){const r=this.#e.get(t)?.filter(n=>n!==e);r&&(r.length===0?this.#e.delete(t):this.#e.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Ft(e))?.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Ft(e))?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){ue.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Un(t,r))}findAll(e={}){return this.getAll().filter(t=>Un(e,t))}notify(e){ue.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ue.batch(()=>Promise.all(e.map(t=>t.continue().catch(be))))}};function Ft(e){return e.options.scope?.id??String(e.mutationId)}function Vn(e){return{onFetch:(t,r)=>{const n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let h=!1;const p=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},f=Zs(t.options,t.fetchOptions),x=async(v,m,w)=>{if(h)return Promise.reject();if(m==null&&v.pages.length)return Promise.resolve(v);const S={queryKey:t.queryKey,pageParam:m,direction:w?"backward":"forward",meta:t.options.meta};p(S);const C=await f(S),{maxPages:y}=t.options,N=w?Uc:Bc;return{pages:N(v.pages,C,y),pageParams:N(v.pageParams,m,y)}};if(s&&a.length){const v=s==="backward",m=v?Xc:qn,w={pages:a,pageParams:i},S=m(n,w);l=await x(w,S,v)}else{const v=e??a.length;do{const m=c===0?i[0]??n.initialPageParam:qn(n,l);if(c>0&&m==null)break;l=await x(l,m),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function qn(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Xc(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Zc=class{#e;#t;#n;#r;#a;#o;#s;#i;constructor(e={}){this.#e=e.queryCache||new Kc,this.#t=e.mutationCache||new Yc,this.#n=e.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=cn.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Gt.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=this.#e.build(this,r);return e.revalidateIfStale&&n.isStaleByTime(et(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(n.queryHash)?.state.data,i=Lc(t,a);if(i!==void 0)return this.#e.build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return ue.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;ue.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e,n={type:"active",...e};return ue.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ue.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(be).catch(be)}invalidateQueries(e={},t={}){return ue.batch(()=>{if(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:t?.cancelRefetch??!0},n=ue.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(be)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(be)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(et(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(be).catch(be)}fetchInfiniteQuery(e){return e.behavior=Vn(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(be).catch(be)}ensureInfiniteQueryData(e){return e.behavior=Vn(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gt.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Ke(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()];let r={};return t.forEach(n=>{bt(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){this.#a.set(Ke(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()];let r={};return t.forEach(n=>{bt(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=an(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ln&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Jc=class extends ct{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#s=$r(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#r=void 0;#a;#o;#s;#i;#p;#f;#h;#c;#d;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Wn(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Br(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Br(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e,t){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ne(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),r._defaulted&&!Kt(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&Qn(this.#t,n,this.options,r)&&this.#u(),this.updateResult(t),s&&(this.#t!==n||Ne(this.options.enabled,this.#t)!==Ne(r.enabled,this.#t)||et(this.options.staleTime,this.#t)!==et(r.staleTime,this.#t))&&this.#g();const a=this.#v();s&&(this.#t!==n||Ne(this.options.enabled,this.#t)!==Ne(r.enabled,this.#t)||a!==this.#l)&&this.#x(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return td(this,r)&&(this.#r=r,this.#o=this.options,this.#a=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(e,t){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),t?.(n),e[n])})}),r}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#u(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(be)),t}#g(){this.#b();const e=et(this.options.staleTime,this.#t);if(Qe||this.#r.isStale||!Dr(e))return;const r=Ys(this.#r.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(e){this.#w(),this.#l=e,!(Qe||Ne(this.options.enabled,this.#t)===!1||!Dr(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||cn.isFocused())&&this.#u()},this.#l))}#y(){this.#g(),this.#x(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const r=this.#t,n=this.options,s=this.#r,a=this.#a,i=this.#o,c=e!==r?e.state:this.#n,{state:u}=e;let h={...u},p=!1,f;if(t._optimisticResults){const E=this.hasListeners(),I=!E&&Wn(e,t),O=E&&Qn(e,r,t,n);(I||O)&&(h={...h,...no(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:m}=h;if(t.select&&h.data!==void 0)if(s&&h.data===a?.data&&t.select===this.#p)f=this.#f;else try{this.#p=t.select,f=t.select(h.data),f=Lr(s?.data,f,t),this.#f=f,this.#i=null}catch(E){this.#i=E}else f=h.data;if(t.placeholderData!==void 0&&f===void 0&&m==="pending"){let E;if(s?.isPlaceholderData&&t.placeholderData===i?.placeholderData)E=s.data;else if(E=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&E!==void 0)try{E=t.select(E),this.#i=null}catch(I){this.#i=I}E!==void 0&&(m="success",f=Lr(s?.data,E,t),p=!0)}this.#i&&(x=this.#i,f=this.#f,v=Date.now(),m="error");const w=h.fetchStatus==="fetching",S=m==="pending",C=m==="error",y=S&&w,N=f!==void 0,R={status:m,fetchStatus:h.fetchStatus,isPending:S,isSuccess:m==="success",isError:C,isInitialLoading:y,isLoading:y,data:f,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!S,isLoadingError:C&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&N,isStale:dn(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const E=$=>{R.status==="error"?$.reject(R.error):R.data!==void 0&&$.resolve(R.data)},I=()=>{const $=this.#s=R.promise=$r();E($)},O=this.#s;switch(O.status){case"pending":e.queryHash===r.queryHash&&E(O);break;case"fulfilled":(R.status==="error"||R.data!==O.value)&&I();break;case"rejected":(R.status!=="error"||R.error!==O.reason)&&I();break}}return R}updateResult(e){const t=this.#r,r=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#o=this.options,this.#a.data!==void 0&&(this.#h=this.#t),Kt(r,t))return;this.#r=r;const n={},s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!this.#m.size)return!0;const l=new Set(i??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(c=>{const u=c;return this.#r[u]!==t[u]&&l.has(u)})};e?.listeners!==!1&&s()&&(n.listeners=!0),this.#C({...n,...e})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#C(e){ue.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function ed(e,t){return Ne(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Wn(e,t){return ed(e,t)||e.state.data!==void 0&&Br(e,t,t.refetchOnMount)}function Br(e,t,r){if(Ne(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&dn(e,t)}return!1}function Qn(e,t,r,n){return(e!==t||Ne(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&dn(e,r)}function dn(e,t){return Ne(t.enabled,e)!==!1&&e.isStaleByTime(et(t.staleTime,e))}function td(e,t){return!Kt(e.getCurrentResult(),t)}var rd=class extends ct{#e;#t=void 0;#n;#r;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Kt(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ke(r.mutationKey)!==Ke(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#a(),this.#o(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#o()}mutate(t,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#a(){const t=this.#n?.state??so();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){ue.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,r,n),this.#r.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#r.onError?.(t.error,r,n),this.#r.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},oo=d.createContext(void 0),un=e=>{const t=d.useContext(oo);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nd=({client:e,children:t})=>(d.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(oo.Provider,{value:e,children:t})),ao=d.createContext(!1),sd=()=>d.useContext(ao);ao.Provider;function od(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ad=d.createContext(od()),id=()=>d.useContext(ad);function io(e,t){return typeof e=="function"?e(...t):!!e}function lo(){}var ld=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},cd=e=>{d.useEffect(()=>{e.clearReset()},[e])},dd=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&io(r,[e.error,n]),ud=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},fd=(e,t)=>e.isLoading&&e.isFetching&&!t,hd=(e,t)=>e?.suspense&&t.isPending,Kn=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function md(e,t,r){const n=un(),s=sd(),a=id(),i=n.defaultQueryOptions(e);n.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=s?"isRestoring":"optimistic",ud(i),ld(i,a),cd(a);const l=!n.getQueryCache().get(i.queryHash),[c]=d.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(d.useSyncExternalStore(d.useCallback(h=>{const p=s?()=>{}:c.subscribe(ue.batchCalls(h));return c.updateResult(),p},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),d.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),hd(i,u))throw Kn(i,c,a);if(dd({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(i,u),i.experimental_prefetchInRender&&!Qe&&fd(u,s)&&(l?Kn(i,c,a):n.getQueryCache().get(i.queryHash)?.promise)?.catch(lo).finally(()=>{c.updateResult()}),i.notifyOnChangeProps?u:c.trackResult(u)}function Tr(e,t){return md(e,Jc)}function ht(e,t){const r=un(),[n]=d.useState(()=>new rd(r,e));d.useEffect(()=>{n.setOptions(e)},[n,e]);const s=d.useSyncExternalStore(d.useCallback(i=>n.subscribe(ue.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=d.useCallback((i,l)=>{n.mutate(i,l).catch(lo)},[n]);if(s.error&&io(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const co=d.createContext(void 0),pd=({children:e})=>{const[t,r]=d.useState(()=>localStorage.getItem("taskforge-theme")||"dark");d.useEffect(()=>{localStorage.setItem("taskforge-theme",t),document.documentElement.classList.toggle("dark",t==="dark")},[t]);const n=()=>{r(s=>s==="dark"?"light":"dark")};return o.jsx(co.Provider,{value:{theme:t,toggleTheme:n},children:e})},gd=()=>{const e=d.useContext(co);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},vd="https://epyugyfamvfpjjpsqeok.supabase.co",xd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVweXVneWZhbXZmcGpqcHNxZW9rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5NDc5NzUsImV4cCI6MjA2ODUyMzk3NX0.DYwkG9WP-J3sPS56lAuSxndJBwXDgyzuD33r_bfTKc0",le=Ti(vd,xd,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),uo=d.createContext({user:null,session:null,loading:!0,signOut:async()=>{}}),fn=()=>{const e=d.useContext(uo);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},yd=({children:e})=>{const[t,r]=d.useState(null),[n,s]=d.useState(null),[a,i]=d.useState(!0),{toast:l}=St();d.useEffect(()=>{let h=!0;console.log("Setting up auth state listener...");const{data:{subscription:p}}=le.auth.onAuthStateChange(async(x,v)=>{h&&(console.log("Auth state changed:",x,v?.user?.email),s(v),r(v?.user??null),x==="SIGNED_IN"&&v?.user&&(console.log("User signed in successfully"),setTimeout(async()=>{if(h)try{const{data:m,error:w}=await le.from("profiles").select("*").eq("id",v.user.id).maybeSingle();if(!m&&!w&&h){console.log("Creating user profile...");const{error:y}=await le.from("profiles").insert([{id:v.user.id,username:v.user.user_metadata?.username||v.user.email?.split("@")[0]||"User"}]);y&&console.error("Profile creation error:",y)}const{data:S,error:C}=await le.from("player_stats").select("*").eq("user_id",v.user.id).maybeSingle();if(!S&&!C&&h){console.log("Creating player stats...");const{error:y}=await le.from("player_stats").insert([{user_id:v.user.id,total_xp:0,coins:0,level:1,streak:0}]);y&&console.error("Stats creation error:",y)}}catch(m){console.error("Error setting up user data:",m)}},200)),x==="SIGNED_OUT"&&console.log("User signed out"),i(!1))});return(async()=>{try{console.log("Checking for existing session...");const{data:{session:x},error:v}=await le.auth.getSession();v?console.error("Error getting session:",v):(console.log("Initial session check:",x?.user?.email||"No user"),h&&(s(x),r(x?.user??null)))}catch(x){console.error("Error initializing auth:",x)}finally{h&&i(!1)}})(),()=>{console.log("Cleaning up auth listener..."),h=!1,p.unsubscribe()}},[]);const u={user:t,session:n,loading:a,signOut:async()=>{try{i(!0);const{error:h}=await le.auth.signOut();if(h)throw h;l({title:"Signed Out",description:"See you next time, warrior! "})}catch(h){console.error("Sign out error:",h),l({title:"Sign Out Failed",description:h.message,variant:"destructive"})}finally{i(!1)}}};return o.jsx(uo.Provider,{value:u,children:e})},bd=rr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),me=d.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?is:"button";return o.jsx(i,{className:te(bd({variant:t,size:r,className:e})),ref:a,...s})});me.displayName="Button";const pe=d.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));pe.displayName="Card";const Nt=d.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:te("flex flex-col space-y-1.5 p-6",e),...t}));Nt.displayName="CardHeader";const Tt=d.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:te("text-2xl font-semibold leading-none tracking-tight",e),...t}));Tt.displayName="CardTitle";const wd=d.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:te("text-sm text-muted-foreground",e),...t}));wd.displayName="CardDescription";const ge=d.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:te("p-6 pt-0",e),...t}));ge.displayName="CardContent";const Sd=d.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:te("flex items-center p-6 pt-0",e),...t}));Sd.displayName="CardFooter";const $e=d.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));$e.displayName="Input";var Cd="Label",fo=d.forwardRef((e,t)=>o.jsx(ne.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));fo.displayName=Cd;var ho=fo;const Nd=rr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ze=d.forwardRef(({className:e,...t},r)=>o.jsx(ho,{ref:r,className:te(Nd(),e),...t}));Ze.displayName=ho.displayName;function Td(e,t=[]){let r=[];function n(a,i){const l=d.createContext(i),c=r.length;r=[...r,i];function u(p){const{scope:f,children:x,...v}=p,m=f?.[e][c]||l,w=d.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:w,children:x})}function h(p,f){const x=f?.[e][c]||l,v=d.useContext(x);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,h]}const s=()=>{const a=r.map(i=>d.createContext(i));return function(l){const c=l?.[e]||a;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,jd(s,...t)]}function jd(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const p=c(a)[`__scope${u}`];return{...l,...p}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Rd=d.createContext(void 0);function cr(e){const t=d.useContext(Rd);return e||t||"ltr"}var jr="rovingFocusGroup.onEntryFocus",Pd={bubbles:!1,cancelable:!0},dr="RovingFocusGroup",[Ur,mo,Ed]=ls(dr),[Ad,po]=Td(dr,[Ed]),[kd,Od]=Ad(dr),go=d.forwardRef((e,t)=>o.jsx(Ur.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ur.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Md,{...e,ref:t})})}));go.displayName=dr;var Md=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=e,f=d.useRef(null),x=ce(t,f),v=cr(a),[m=null,w]=Ht({prop:i,defaultProp:l,onChange:c}),[S,C]=d.useState(!1),y=Ae(u),N=mo(r),T=d.useRef(!1),[R,E]=d.useState(0);return d.useEffect(()=>{const I=f.current;if(I)return I.addEventListener(jr,y),()=>I.removeEventListener(jr,y)},[y]),o.jsx(kd,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:d.useCallback(I=>w(I),[w]),onItemShiftTab:d.useCallback(()=>C(!0),[]),onFocusableItemAdd:d.useCallback(()=>E(I=>I+1),[]),onFocusableItemRemove:d.useCallback(()=>E(I=>I-1),[]),children:o.jsx(ne.div,{tabIndex:S||R===0?-1:0,"data-orientation":n,...p,ref:x,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{T.current=!0}),onFocus:Z(e.onFocus,I=>{const O=!T.current;if(I.target===I.currentTarget&&O&&!S){const $=new CustomEvent(jr,Pd);if(I.currentTarget.dispatchEvent($),!$.defaultPrevented){const _=N().filter(B=>B.focusable),K=_.find(B=>B.active),Q=_.find(B=>B.id===m),ee=[K,Q,..._].filter(Boolean).map(B=>B.ref.current);yo(ee,h)}}T.current=!1}),onBlur:Z(e.onBlur,()=>C(!1))})})}),vo="RovingFocusGroupItem",xo=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...i}=e,l=wt(),c=a||l,u=Od(vo,r),h=u.currentTabStopId===c,p=mo(r),{onFocusableItemAdd:f,onFocusableItemRemove:x}=u;return d.useEffect(()=>{if(n)return f(),()=>x()},[n,f,x]),o.jsx(Ur.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:o.jsx(ne.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:Z(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:Z(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Z(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=Dd(v,u.orientation,u.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let S=p().filter(C=>C.focusable).map(C=>C.ref.current);if(m==="last")S.reverse();else if(m==="prev"||m==="next"){m==="prev"&&S.reverse();const C=S.indexOf(v.currentTarget);S=u.loop?Fd(S,C+1):S.slice(C+1)}setTimeout(()=>yo(S))}})})})});xo.displayName=vo;var Id={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _d(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Dd(e,t,r){const n=_d(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Id[n]}function yo(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Fd(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ld=go,$d=xo,hn="Tabs",[Bd,Sf]=tr(hn,[po]),bo=po(),[Ud,mn]=Bd(hn),wo=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=cr(l),[p,f]=Ht({prop:n,onChange:s,defaultProp:a});return o.jsx(Ud,{scope:r,baseId:wt(),value:p,onValueChange:f,orientation:i,dir:h,activationMode:c,children:o.jsx(ne.div,{dir:h,"data-orientation":i,...u,ref:t})})});wo.displayName=hn;var So="TabsList",Co=d.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=mn(So,r),i=bo(r);return o.jsx(Ld,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(ne.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});Co.displayName=So;var No="TabsTrigger",To=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,i=mn(No,r),l=bo(r),c=Po(i.baseId,n),u=Eo(i.baseId,n),h=n===i.value;return o.jsx($d,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(ne.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Z(e.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?i.onValueChange(n):p.preventDefault()}),onKeyDown:Z(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&i.onValueChange(n)}),onFocus:Z(e.onFocus,()=>{const p=i.activationMode!=="manual";!h&&!s&&p&&i.onValueChange(n)})})})});To.displayName=No;var jo="TabsContent",Ro=d.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=e,l=mn(jo,r),c=Po(l.baseId,n),u=Eo(l.baseId,n),h=n===l.value,p=d.useRef(h);return d.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),o.jsx(at,{present:s||h,children:({present:f})=>o.jsx(ne.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:f&&a})})});Ro.displayName=jo;function Po(e,t){return`${e}-trigger-${t}`}function Eo(e,t){return`${e}-content-${t}`}var Hd=wo,Ao=Co,ko=To,Oo=Ro;const zd=Hd,Mo=d.forwardRef(({className:e,...t},r)=>o.jsx(Ao,{ref:r,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Mo.displayName=Ao.displayName;const Hr=d.forwardRef(({className:e,...t},r)=>o.jsx(ko,{ref:r,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Hr.displayName=ko.displayName;const zr=d.forwardRef(({className:e,...t},r)=>o.jsx(Oo,{ref:r,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));zr.displayName=Oo.displayName;const Vd=({onAuthSuccess:e})=>{const[t,r]=d.useState(""),[n,s]=d.useState(""),[a,i]=d.useState(""),[l,c]=d.useState(!1),[u,h]=d.useState(!1),{toast:p}=St(),f=async()=>{h(!0);try{const{error:m}=await le.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});if(m)throw m;p({title:"Redirecting to Google...",description:"You'll be redirected back after authentication."})}catch(m){console.error("Google sign in error:",m),p({title:"Google Sign In Failed",description:m.message||"Please check if Google OAuth is enabled in Supabase settings.",variant:"destructive"})}finally{h(!1)}},x=async()=>{if(!t||!n||!a){p({title:"Missing Information",description:"Please fill in all fields.",variant:"destructive"});return}c(!0);try{const{error:m}=await le.auth.signUp({email:t,password:n,options:{emailRedirectTo:`${window.location.origin}/`,data:{username:a}}});if(m)throw m;p({title:"Welcome to TaskForge! ",description:"Account created successfully! You can now start your quest!"}),e()}catch(m){console.error("Sign up error:",m),p({title:"Sign Up Failed",description:m.message,variant:"destructive"})}finally{c(!1)}},v=async()=>{if(!t||!n){p({title:"Missing Information",description:"Please enter email and password.",variant:"destructive"});return}c(!0);try{const{error:m}=await le.auth.signInWithPassword({email:t,password:n});if(m)throw m;p({title:"Welcome Back! ",description:"Successfully signed in to TaskForge!"}),e()}catch(m){console.error("Sign in error:",m),p({title:"Sign In Failed",description:m.message,variant:"destructive"})}finally{c(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary/5 via-background to-accent/5",children:o.jsxs(pe,{className:"w-full max-w-md glass-card animate-fade-in",children:[o.jsxs(Nt,{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"p-3 rounded-full primary-gradient animate-pulse",children:o.jsx(vt,{className:"h-8 w-8 text-white"})})}),o.jsx(Tt,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"TaskForge"}),o.jsx("p",{className:"text-muted-foreground",children:"Level up your productivity with gamified tasks"})]}),o.jsxs(ge,{className:"space-y-4",children:[o.jsx(me,{onClick:f,disabled:u||l,variant:"outline",className:"w-full h-12 text-base hover:bg-accent/50 transition-all duration-200",children:u?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),o.jsx("span",{children:"Connecting..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{children:"Continue with Google"})]})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),o.jsxs(zd,{defaultValue:"signin",className:"w-full",children:[o.jsxs(Mo,{className:"grid w-full grid-cols-2",children:[o.jsx(Hr,{value:"signin",children:"Sign In"}),o.jsx(Hr,{value:"signup",children:"Sign Up"})]}),o.jsxs(zr,{value:"signin",className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ze,{htmlFor:"signin-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Cn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx($e,{id:"signin-email",type:"email",placeholder:"Enter your email",value:t,onChange:m=>r(m.target.value),className:"pl-10"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ze,{htmlFor:"signin-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Nn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx($e,{id:"signin-password",type:"password",placeholder:"Enter your password",value:n,onChange:m=>s(m.target.value),className:"pl-10"})]})]}),o.jsx(me,{onClick:v,disabled:l||u,className:"w-full primary-gradient h-12 text-base",children:l?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Signing In..."})]}):"Sign In"})]}),o.jsxs(zr,{value:"signup",className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ze,{htmlFor:"signup-username",children:"Username"}),o.jsxs("div",{className:"relative",children:[o.jsx(di,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx($e,{id:"signup-username",type:"text",placeholder:"Choose a username",value:a,onChange:m=>i(m.target.value),className:"pl-10"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ze,{htmlFor:"signup-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Cn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx($e,{id:"signup-email",type:"email",placeholder:"Enter your email",value:t,onChange:m=>r(m.target.value),className:"pl-10"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ze,{htmlFor:"signup-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Nn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx($e,{id:"signup-password",type:"password",placeholder:"Create a password",value:n,onChange:m=>s(m.target.value),className:"pl-10"})]})]}),o.jsx(me,{onClick:x,disabled:l||u,className:"w-full primary-gradient h-12 text-base",children:l?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Creating Account..."})]}):"Create Account"})]})]})]})]})})};function qd(e,t=[]){let r=[];function n(a,i){const l=d.createContext(i),c=r.length;r=[...r,i];function u(p){const{scope:f,children:x,...v}=p,m=f?.[e][c]||l,w=d.useMemo(()=>v,Object.values(v));return o.jsx(m.Provider,{value:w,children:x})}function h(p,f){const x=f?.[e][c]||l,v=d.useContext(x);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,h]}const s=()=>{const a=r.map(i=>d.createContext(i));return function(l){const c=l?.[e]||a;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Wd(s,...t)]}function Wd(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const p=c(a)[`__scope${u}`];return{...l,...p}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var pn="Progress",gn=100,[Qd,Cf]=qd(pn),[Kd,Gd]=Qd(pn),Io=d.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=Yd,...i}=e;(s||s===0)&&!Gn(s)&&console.error(Xd(`${s}`,"Progress"));const l=Gn(s)?s:gn;n!==null&&!Yn(n,l)&&console.error(Zd(`${n}`,"Progress"));const c=Yn(n,l)?n:null,u=Yt(c)?a(c,l):void 0;return o.jsx(Kd,{scope:r,value:c,max:l,children:o.jsx(ne.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Yt(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Fo(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});Io.displayName=pn;var _o="ProgressIndicator",Do=d.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Gd(_o,r);return o.jsx(ne.div,{"data-state":Fo(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Do.displayName=_o;function Yd(e,t){return`${Math.round(e/t*100)}%`}function Fo(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Yt(e){return typeof e=="number"}function Gn(e){return Yt(e)&&!isNaN(e)&&e>0}function Yn(e,t){return Yt(e)&&!isNaN(e)&&e<=t&&e>=0}function Xd(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gn}\`.`}function Zd(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gn} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Lo=Io,Jd=Do;const $o=d.forwardRef(({className:e,value:t,...r},n)=>o.jsx(Lo,{ref:n,className:te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(Jd,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));$o.displayName=Lo.displayName;const Bo=d.forwardRef(({className:e,...t},r)=>o.jsx(cs,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(Ya,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Bo.displayName=cs.displayName;const Ut=[{id:"kunai",name:"Kunai",emoji:"",description:"Basic ninja tool",unlockCondition:"Complete first task",rarity:"common",levelRequired:1,category:"naruto"},{id:"shuriken",name:"Shuriken",emoji:"",description:"Throwing star",unlockCondition:"Complete 3 tasks",rarity:"common",levelRequired:2,category:"naruto"},{id:"baby_dragon",name:"Baby Dragon",emoji:"",description:"Your first dragon companion",unlockCondition:"Reach level 3",rarity:"common",levelRequired:3,category:"dragons"},{id:"naruto",name:"Naruto Uzumaki",emoji:"",description:"The knucklehead ninja!",unlockCondition:"Reach level 6",rarity:"rare",levelRequired:6,category:"naruto"},{id:"goku",name:"Son Goku",emoji:"",description:"The legendary Saiyan warrior",unlockCondition:"Reach level 8",rarity:"rare",levelRequired:8,category:"dragonball"},{id:"fire_dragon",name:"Fire Dragon",emoji:"",description:"Breathes flames of determination",unlockCondition:"Complete 10 hard tasks",rarity:"rare",levelRequired:10,category:"dragons"},{id:"sasuke",name:"Sasuke Uchiha",emoji:"",description:"The last Uchiha",unlockCondition:"Reach level 12",rarity:"rare",levelRequired:12,category:"naruto"},{id:"vegeta",name:"Vegeta",emoji:"",description:"The Prince of all Saiyans",unlockCondition:"Reach level 15",rarity:"rare",levelRequired:15,category:"dragonball"},{id:"kakashi",name:"Kakashi Hatake",emoji:"",description:"The Copy Ninja",unlockCondition:"Reach level 18",rarity:"epic",levelRequired:18,category:"naruto"},{id:"super_saiyan",name:"Super Saiyan",emoji:"",description:"The legendary transformation",unlockCondition:"Reach level 20",rarity:"epic",levelRequired:20,category:"dragonball"},{id:"sung_jinwoo",name:"Sung Jin-Woo",emoji:"",description:"The Shadow Monarch rises",unlockCondition:"Reach level 25",rarity:"epic",levelRequired:25,category:"solo_leveling"},{id:"ice_dragon",name:"Ice Dragon",emoji:"",description:"Master of frozen domains",unlockCondition:"Complete 50 tasks",rarity:"epic",levelRequired:22,category:"dragons"},{id:"hokage_naruto",name:"Hokage Naruto",emoji:"",description:"The Seventh Hokage",unlockCondition:"Reach level 35",rarity:"legendary",levelRequired:35,category:"naruto"},{id:"ultra_instinct",name:"Ultra Instinct Goku",emoji:"",description:"The ultimate form",unlockCondition:"Reach level 40",rarity:"legendary",levelRequired:40,category:"dragonball"},{id:"shadow_monarch",name:"Shadow Monarch",emoji:"",description:"Ruler of the shadows",unlockCondition:"Reach level 50",rarity:"legendary",levelRequired:50,category:"solo_leveling"},{id:"cosmic_dragon",name:"Cosmic Dragon",emoji:"",description:"Guardian of the universe",unlockCondition:"Reach max level",rarity:"legendary",levelRequired:100,category:"dragons"}],eu=[{text:"You got it! Awesome work! ",icon:zt,color:"text-yellow-500"},{text:"Incredible! You're on fire! ",icon:Er,color:"text-red-500"},{text:"Fantastic job! Keep crushing it! ",icon:vt,color:"text-blue-500"},{text:"Outstanding! You're unstoppable! ",icon:Pr,color:"text-purple-500"},{text:"Amazing progress! You're leveling up! ",icon:fs,color:"text-yellow-400"},{text:"Perfect execution! Master warrior! ",icon:rt,color:"text-green-500"},{text:"Legendary performance! Keep going! ",icon:Pr,color:"text-cyan-500"},{text:"You're crushing your goals! Beast mode! ",icon:Er,color:"text-orange-500"}],tu=e=>{const r={easy:[{text:"Nice start! Every journey begins with a single step! ",icon:rt,color:"text-green-400"},{text:"Well done! Building momentum! ",icon:vt,color:"text-blue-400"}],medium:[{text:"Great job! You're getting stronger! ",icon:fs,color:"text-yellow-500"},{text:"Excellent work! Rising to the challenge! ",icon:vt,color:"text-blue-500"}],hard:[{text:"Incredible! You conquered a tough one! ",icon:zt,color:"text-yellow-600"},{text:"Outstanding! True warrior spirit! ",icon:Er,color:"text-red-500"}],boss:[{text:"LEGENDARY! You defeated the boss! ",icon:zt,color:"text-purple-600"},{text:"EPIC WIN! You're a true champion! ",icon:Pr,color:"text-gold"}]}[e]||eu;return r[Math.floor(Math.random()*r.length)]};var jt={};(function e(t,r,n,s){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var b=new OffscreenCanvas(1,1),g=b.getContext("2d");g.fillRect(0,0,1,1);var P=b.transferToImageBitmap();try{g.createPattern(P,"no-repeat")}catch{return!1}return!0}();function c(){}function u(b){var g=r.exports.Promise,P=g!==void 0?g:t.Promise;return typeof P=="function"?new P(b):(b(c,c),null)}var h=function(b,g){return{transform:function(P){if(b)return P;if(g.has(P))return g.get(P);var A=new OffscreenCanvas(P.width,P.height),L=A.getContext("2d");return L.drawImage(P,0,0),g.set(P,A),A},clear:function(){g.clear()}}}(l,new Map),p=function(){var b=Math.floor(16.666666666666668),g,P,A={},L=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(g=function(H){var F=Math.random();return A[F]=requestAnimationFrame(function j(D){L===D||L+b-1<D?(L=D,delete A[F],H()):A[F]=requestAnimationFrame(j)}),F},P=function(H){A[H]&&cancelAnimationFrame(A[H])}):(g=function(H){return setTimeout(H,b)},P=function(H){return clearTimeout(H)}),{frame:g,cancel:P}}(),f=function(){var b,g,P={};function A(L){function H(F,j){L.postMessage({options:F||{},callback:j})}L.init=function(j){var D=j.transferControlToOffscreen();L.postMessage({canvas:D},[D])},L.fire=function(j,D,V){if(g)return H(j,null),g;var U=Math.random().toString(36).slice(2);return g=u(function(z){function q(re){re.data.callback===U&&(delete P[U],L.removeEventListener("message",q),g=null,h.clear(),V(),z())}L.addEventListener("message",q),H(j,U),P[U]=q.bind(null,{data:{callback:U}})}),g},L.reset=function(){L.postMessage({reset:!0});for(var j in P)P[j](),delete P[j]}}return function(){if(b)return b;if(!n&&a){var L=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{b=new Worker(URL.createObjectURL(new Blob([L])))}catch(H){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",H),null}A(b)}return b}}(),x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(b,g){return g?g(b):b}function m(b){return b!=null}function w(b,g,P){return v(b&&m(b[g])?b[g]:x[g],P)}function S(b){return b<0?0:Math.floor(b)}function C(b,g){return Math.floor(Math.random()*(g-b))+b}function y(b){return parseInt(b,16)}function N(b){return b.map(T)}function T(b){var g=String(b).replace(/[^0-9a-f]/gi,"");return g.length<6&&(g=g[0]+g[0]+g[1]+g[1]+g[2]+g[2]),{r:y(g.substring(0,2)),g:y(g.substring(2,4)),b:y(g.substring(4,6))}}function R(b){var g=w(b,"origin",Object);return g.x=w(g,"x",Number),g.y=w(g,"y",Number),g}function E(b){b.width=document.documentElement.clientWidth,b.height=document.documentElement.clientHeight}function I(b){var g=b.getBoundingClientRect();b.width=g.width,b.height=g.height}function O(b){var g=document.createElement("canvas");return g.style.position="fixed",g.style.top="0px",g.style.left="0px",g.style.pointerEvents="none",g.style.zIndex=b,g}function $(b,g,P,A,L,H,F,j,D){b.save(),b.translate(g,P),b.rotate(H),b.scale(A,L),b.arc(0,0,1,F,j,D),b.restore()}function _(b){var g=b.angle*(Math.PI/180),P=b.spread*(Math.PI/180);return{x:b.x,y:b.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:b.startVelocity*.5+Math.random()*b.startVelocity,angle2D:-g+(.5*P-Math.random()*P),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:b.color,shape:b.shape,tick:0,totalTicks:b.ticks,decay:b.decay,drift:b.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:b.gravity*3,ovalScalar:.6,scalar:b.scalar,flat:b.flat}}function K(b,g){g.x+=Math.cos(g.angle2D)*g.velocity+g.drift,g.y+=Math.sin(g.angle2D)*g.velocity+g.gravity,g.velocity*=g.decay,g.flat?(g.wobble=0,g.wobbleX=g.x+10*g.scalar,g.wobbleY=g.y+10*g.scalar,g.tiltSin=0,g.tiltCos=0,g.random=1):(g.wobble+=g.wobbleSpeed,g.wobbleX=g.x+10*g.scalar*Math.cos(g.wobble),g.wobbleY=g.y+10*g.scalar*Math.sin(g.wobble),g.tiltAngle+=.1,g.tiltSin=Math.sin(g.tiltAngle),g.tiltCos=Math.cos(g.tiltAngle),g.random=Math.random()+2);var P=g.tick++/g.totalTicks,A=g.x+g.random*g.tiltCos,L=g.y+g.random*g.tiltSin,H=g.wobbleX+g.random*g.tiltCos,F=g.wobbleY+g.random*g.tiltSin;if(b.fillStyle="rgba("+g.color.r+", "+g.color.g+", "+g.color.b+", "+(1-P)+")",b.beginPath(),i&&g.shape.type==="path"&&typeof g.shape.path=="string"&&Array.isArray(g.shape.matrix))b.fill(J(g.shape.path,g.shape.matrix,g.x,g.y,Math.abs(H-A)*.1,Math.abs(F-L)*.1,Math.PI/10*g.wobble));else if(g.shape.type==="bitmap"){var j=Math.PI/10*g.wobble,D=Math.abs(H-A)*.1,V=Math.abs(F-L)*.1,U=g.shape.bitmap.width*g.scalar,z=g.shape.bitmap.height*g.scalar,q=new DOMMatrix([Math.cos(j)*D,Math.sin(j)*D,-Math.sin(j)*V,Math.cos(j)*V,g.x,g.y]);q.multiplySelf(new DOMMatrix(g.shape.matrix));var re=b.createPattern(h.transform(g.shape.bitmap),"no-repeat");re.setTransform(q),b.globalAlpha=1-P,b.fillStyle=re,b.fillRect(g.x-U/2,g.y-z/2,U,z),b.globalAlpha=1}else if(g.shape==="circle")b.ellipse?b.ellipse(g.x,g.y,Math.abs(H-A)*g.ovalScalar,Math.abs(F-L)*g.ovalScalar,Math.PI/10*g.wobble,0,2*Math.PI):$(b,g.x,g.y,Math.abs(H-A)*g.ovalScalar,Math.abs(F-L)*g.ovalScalar,Math.PI/10*g.wobble,0,2*Math.PI);else if(g.shape==="star")for(var W=Math.PI/2*3,ie=4*g.scalar,ae=8*g.scalar,fe=g.x,Se=g.y,de=5,he=Math.PI/de;de--;)fe=g.x+Math.cos(W)*ae,Se=g.y+Math.sin(W)*ae,b.lineTo(fe,Se),W+=he,fe=g.x+Math.cos(W)*ie,Se=g.y+Math.sin(W)*ie,b.lineTo(fe,Se),W+=he;else b.moveTo(Math.floor(g.x),Math.floor(g.y)),b.lineTo(Math.floor(g.wobbleX),Math.floor(L)),b.lineTo(Math.floor(H),Math.floor(F)),b.lineTo(Math.floor(A),Math.floor(g.wobbleY));return b.closePath(),b.fill(),g.tick<g.totalTicks}function Q(b,g,P,A,L){var H=g.slice(),F=b.getContext("2d"),j,D,V=u(function(U){function z(){j=D=null,F.clearRect(0,0,A.width,A.height),h.clear(),L(),U()}function q(){n&&!(A.width===s.width&&A.height===s.height)&&(A.width=b.width=s.width,A.height=b.height=s.height),!A.width&&!A.height&&(P(b),A.width=b.width,A.height=b.height),F.clearRect(0,0,A.width,A.height),H=H.filter(function(re){return K(F,re)}),H.length?j=p.frame(q):z()}j=p.frame(q),D=z});return{addFettis:function(U){return H=H.concat(U),V},canvas:b,promise:V,reset:function(){j&&p.cancel(j),D&&D()}}}function G(b,g){var P=!b,A=!!w(g||{},"resize"),L=!1,H=w(g,"disableForReducedMotion",Boolean),F=a&&!!w(g||{},"useWorker"),j=F?f():null,D=P?E:I,V=b&&j?!!b.__confetti_initialized:!1,U=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,z;function q(W,ie,ae){for(var fe=w(W,"particleCount",S),Se=w(W,"angle",Number),de=w(W,"spread",Number),he=w(W,"startVelocity",Number),gr=w(W,"decay",Number),vr=w(W,"gravity",Number),Ye=w(W,"drift",Number),Pt=w(W,"colors",N),Et=w(W,"ticks",Number),Xe=w(W,"shapes"),Fe=w(W,"scalar"),At=!!w(W,"flat"),Ie=R(W),ut=fe,ft=[],kt=b.width*Ie.x,Ot=b.height*Ie.y;ut--;)ft.push(_({x:kt,y:Ot,angle:Se,spread:de,startVelocity:he,color:Pt[ut%Pt.length],shape:Xe[C(0,Xe.length)],ticks:Et,decay:gr,gravity:vr,drift:Ye,scalar:Fe,flat:At}));return z?z.addFettis(ft):(z=Q(b,ft,D,ie,ae),z.promise)}function re(W){var ie=H||w(W,"disableForReducedMotion",Boolean),ae=w(W,"zIndex",Number);if(ie&&U)return u(function(he){he()});P&&z?b=z.canvas:P&&!b&&(b=O(ae),document.body.appendChild(b)),A&&!V&&D(b);var fe={width:b.width,height:b.height};j&&!V&&j.init(b),V=!0,j&&(b.__confetti_initialized=!0);function Se(){if(j){var he={getBoundingClientRect:function(){if(!P)return b.getBoundingClientRect()}};D(he),j.postMessage({resize:{width:he.width,height:he.height}});return}fe.width=fe.height=null}function de(){z=null,A&&(L=!1,t.removeEventListener("resize",Se)),P&&b&&(document.body.contains(b)&&document.body.removeChild(b),b=null,V=!1)}return A&&!L&&(L=!0,t.addEventListener("resize",Se,!1)),j?j.fire(W,fe,de):q(W,fe,de)}return re.reset=function(){j&&j.reset(),z&&z.reset()},re}var ee;function B(){return ee||(ee=G(null,{useWorker:!0,resize:!0})),ee}function J(b,g,P,A,L,H,F){var j=new Path2D(b),D=new Path2D;D.addPath(j,new DOMMatrix(g));var V=new Path2D;return V.addPath(D,new DOMMatrix([Math.cos(F)*L,Math.sin(F)*L,-Math.sin(F)*H,Math.cos(F)*H,P,A])),V}function M(b){if(!i)throw new Error("path confetti are not supported in this browser");var g,P;typeof b=="string"?g=b:(g=b.path,P=b.matrix);var A=new Path2D(g),L=document.createElement("canvas"),H=L.getContext("2d");if(!P){for(var F=1e3,j=F,D=F,V=0,U=0,z,q,re=0;re<F;re+=2)for(var W=0;W<F;W+=2)H.isPointInPath(A,re,W,"nonzero")&&(j=Math.min(j,re),D=Math.min(D,W),V=Math.max(V,re),U=Math.max(U,W));z=V-j,q=U-D;var ie=10,ae=Math.min(ie/z,ie/q);P=[ae,0,0,ae,-Math.round(z/2+j)*ae,-Math.round(q/2+D)*ae]}return{type:"path",path:g,matrix:P}}function X(b){var g,P=1,A="#000000",L='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof b=="string"?g=b:(g=b.text,P="scalar"in b?b.scalar:P,L="fontFamily"in b?b.fontFamily:L,A="color"in b?b.color:A);var H=10*P,F=""+H+"px "+L,j=new OffscreenCanvas(H,H),D=j.getContext("2d");D.font=F;var V=D.measureText(g),U=Math.ceil(V.actualBoundingBoxRight+V.actualBoundingBoxLeft),z=Math.ceil(V.actualBoundingBoxAscent+V.actualBoundingBoxDescent),q=2,re=V.actualBoundingBoxLeft+q,W=V.actualBoundingBoxAscent+q;U+=q+q,z+=q+q,j=new OffscreenCanvas(U,z),D=j.getContext("2d"),D.font=F,D.fillStyle=A,D.fillText(g,re,W);var ie=1/P;return{type:"bitmap",bitmap:j.transferToImageBitmap(),matrix:[ie,0,0,ie,-U*ie/2,-z*ie/2]}}r.exports=function(){return B().apply(this,arguments)},r.exports.reset=function(){B().reset()},r.exports.create=G,r.exports.shapeFromPath=M,r.exports.shapeFromText=X})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),jt,!1);const Rr=jt.exports;jt.exports.create;const Xt={easy:{xp:10,coins:5,color:"text-green-400",label:"Easy"},medium:{xp:25,coins:10,color:"text-yellow-400",label:"Medium"},hard:{xp:50,coins:20,color:"text-orange-400",label:"Hard"},boss:{xp:100,coins:30,color:"text-purple-400",label:"Boss"}},ru=[{title:"DSA Practice",category:"Coding",difficulty:"medium"},{title:"Flutter Dev",category:"Development",difficulty:"hard"},{title:"System Design Review",category:"Learning",difficulty:"medium"},{title:"Brain Detox",category:"Wellness",difficulty:"easy"}],nu=()=>{const{user:e}=fn(),{toast:t}=St(),r=un(),[n,s]=d.useState({isOpen:!1,quote:null,xpGained:0,coinsGained:0,taskTitle:""}),{data:a=[],isLoading:i,error:l}=Tr({queryKey:["tasks",e?.id],queryFn:async()=>{if(!e)return[];console.log(" Fetching tasks for user:",e.id);const{data:y,error:N}=await le.from("tasks").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(N)throw console.error(" Error fetching tasks:",N),new Error(`Failed to fetch tasks: ${N.message}`);return console.log(" Successfully fetched",y?.length||0,"tasks"),y},enabled:!!e,retry:(y,N)=>(console.log(`Retry attempt ${y} for tasks:`,N),y<3),staleTime:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:c,isLoading:u,error:h}=Tr({queryKey:["player_stats",e?.id],queryFn:async()=>{if(!e)return null;console.log(" Fetching player stats for user:",e.id);const{data:y,error:N}=await le.from("player_stats").select("*").eq("user_id",e.id).maybeSingle();if(N)throw console.error(" Error fetching player stats:",N),new Error(`Failed to fetch player stats: ${N.message}`);if(!y){console.log(" No player stats found, creating new ones...");const{data:T,error:R}=await le.from("player_stats").insert([{user_id:e.id,total_xp:0,coins:0,level:1,streak:0}]).select().single();if(R)throw console.error(" Error creating player stats:",R),new Error(`Failed to create player stats: ${R.message}`);return console.log(" Created new player stats:",T),T}return console.log(" Successfully fetched player stats"),y},enabled:!!e,retry:(y,N)=>(console.log(`Retry attempt ${y} for stats:`,N),y<3),staleTime:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:p=[]}=Tr({queryKey:["unlocked_stickers",e?.id],queryFn:async()=>{if(!e)return[];const{data:y,error:N}=await le.from("unlocked_stickers").select("sticker_id").eq("user_id",e.id);if(N)throw N;return y.map(T=>T.sticker_id)},enabled:!!e}),f=ht({mutationFn:async y=>{if(!e)throw new Error("User not authenticated");console.log(" Creating new task:",y.title);const{data:N,error:T}=await le.from("tasks").insert([{...y,user_id:e.id}]).select().single();if(T)throw console.error(" Create task error:",T),new Error(`Failed to create task: ${T.message}`);return console.log(" Task created successfully"),N},onSuccess:()=>{r.invalidateQueries({queryKey:["tasks"]}),t({title:" Quest Added!",description:"New challenge awaits completion!"})},onError:y=>{console.error("Create task error:",y),t({title:" Failed to Create Quest",description:y.message||"Please try again.",variant:"destructive"})}}),x=ht({mutationFn:async({id:y,updates:N})=>{console.log(" Updating task:",y,N);const{data:T,error:R}=await le.from("tasks").update(N).eq("id",y).select().single();if(R)throw console.error(" Update task error:",R),new Error(`Failed to update task: ${R.message}`);return console.log(" Task updated successfully"),T},onSuccess:()=>{r.invalidateQueries({queryKey:["tasks"]})},onError:y=>{console.error("Update task error:",y),t({title:" Failed to Update Quest",description:y.message||"Please try again.",variant:"destructive"})}}),v=ht({mutationFn:async y=>{const{error:N}=await le.from("tasks").delete().eq("id",y);if(N)throw N},onSuccess:()=>{r.invalidateQueries({queryKey:["tasks"]}),t({title:"Quest Removed",description:"Task has been deleted from your quest log."})},onError:y=>{console.error("Delete task error:",y),t({title:"Failed to Delete Quest",description:"Please try again.",variant:"destructive"})}}),m=ht({mutationFn:async y=>{if(!e||!c)throw new Error("User or stats not available");console.log(" Updating player stats:",y);const{data:N,error:T}=await le.from("player_stats").update(y).eq("user_id",e.id).select().single();if(T)throw console.error(" Update stats error:",T),new Error(`Failed to update stats: ${T.message}`);return console.log(" Player stats updated successfully"),N},onSuccess:()=>{r.invalidateQueries({queryKey:["player_stats"]})},onError:y=>{console.error("Update stats error:",y),t({title:" Failed to Update Stats",description:y.message||"Progress may not be saved.",variant:"destructive"})}}),w=ht({mutationFn:async y=>{if(!e)throw new Error("User not authenticated");const{data:N,error:T}=await le.from("unlocked_stickers").insert([{user_id:e.id,sticker_id:y}]).select().single();if(T&&!T.message.includes("duplicate"))throw T;return N},onSuccess:()=>{r.invalidateQueries({queryKey:["unlocked_stickers"]})}}),S=async(y,N)=>{if(!e)return;const T=Ut.filter(R=>y>=R.levelRequired&&!p.includes(R.id));for(const R of T)try{await w.mutateAsync(R.id),Rr({particleCount:100,spread:70,origin:{y:.6}}),t({title:" New Sticker Unlocked!",description:`${R.emoji} ${R.name} - ${R.description}`})}catch(E){console.log("Sticker already unlocked or error:",E)}},C=async y=>{const N=a.find(O=>O.id===y);if(!N||N.state!=="inprogress"||!c)return;const T=Xt[N.difficulty],R=c.total_xp+T.xp,E=c.coins+T.coins,I=Math.floor(R/100)+1;try{console.log(" Completing task:",N.title),await x.mutateAsync({id:y,updates:{state:"completed",completed_at:new Date().toISOString()}});const O=new Date,$=a.some(K=>K.state==="completed"&&K.completed_at&&new Date(K.completed_at).toDateString()===O.toDateString());await m.mutateAsync({total_xp:R,coins:E,level:I,streak:$?c.streak:c.streak+1,last_completed_date:O.toISOString()}),I>c.level&&(Rr({particleCount:150,spread:70,origin:{y:.6}}),t({title:` Level Up! Level ${I}`,description:"You've gained incredible power!"}),await S(I,R));const _=tu(N.difficulty);s({isOpen:!0,quote:_,xpGained:T.xp,coinsGained:T.coins,taskTitle:N.title}),Rr({particleCount:50,spread:50,origin:{y:.7}}),console.log(" Task completed successfully")}catch(O){console.error(" Complete task error:",O),t({title:" Failed to Complete Quest",description:O.message||"Please try again.",variant:"destructive"})}};return d.useEffect(()=>{if(!e||!Array.isArray(a)||i)return;const y=new Date().toDateString();if(localStorage.getItem(`lastDefaultsAddedDate_${e.id}`)===y)return;a.some(R=>R.is_default&&new Date(R.created_at).toDateString()===y)||(console.log(" Adding default routines for today..."),ru.forEach((R,E)=>{setTimeout(()=>{f.mutate({title:R.title,category:R.category,difficulty:R.difficulty,state:"todo",is_default:!0,deadline:new Date(Date.now()+1440*60*1e3).toISOString()})},E*100)}),localStorage.setItem(`lastDefaultsAddedDate_${e.id}`,y))},[e?.id,a,i,f]),d.useEffect(()=>{l&&(console.error(" Tasks error:",l),t({title:" Error Loading Tasks",description:"Please check your connection and try refreshing.",variant:"destructive"})),h&&(console.error(" Stats error:",h),t({title:" Error Loading Stats",description:"Please check your connection and try refreshing.",variant:"destructive"}))},[l,h,t]),{tasks:a||[],playerStats:c,unlockedStickers:p,celebrationData:n,setCelebrationData:s,loading:i||u,error:l||h,createTask:f.mutate,updateTask:x.mutate,deleteTask:v.mutate,completeTask:C,startTask:y=>x.mutate({id:y,updates:{state:"inprogress"}}),revertTask:async y=>{const N=a.find(R=>R.id===y);if(!N||N.state!=="completed"||!c)return;const T=Xt[N.difficulty];try{console.log(" Reverting task:",N.title),await x.mutateAsync({id:y,updates:{state:"todo",completed_at:null}}),await m.mutateAsync({total_xp:Math.max(0,c.total_xp-T.xp),coins:Math.max(0,c.coins-T.coins)}),t({title:" Quest Reverted",description:`Task moved back to To Do. -${T.xp} XP, -${T.coins} coins.`}),console.log(" Task reverted successfully")}catch(R){console.error(" Revert task error:",R),t({title:" Failed to Revert Quest",description:R.message||"Please try again.",variant:"destructive"})}}}},Xn=()=>{const[e,t]=d.useState(new Date);d.useEffect(()=>{const s=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(s)},[]);const r=s=>s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),n=s=>s.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(ui,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:r(e)}),o.jsx("span",{className:"text-xs text-muted-foreground",children:n(e)})]})]})},su=rr("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tt({className:e,variant:t,...r}){return o.jsx("div",{className:te(su({variant:t}),e),...r})}function Vr(e,[t,r]){return Math.min(r,Math.max(t,e))}function ou(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var vn="ScrollArea",[Uo,Nf]=tr(vn),[au,we]=Uo(vn),Ho=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[p,f]=d.useState(null),[x,v]=d.useState(null),[m,w]=d.useState(null),[S,C]=d.useState(0),[y,N]=d.useState(0),[T,R]=d.useState(!1),[E,I]=d.useState(!1),O=ce(t,_=>c(_)),$=cr(s);return o.jsx(au,{scope:r,type:n,dir:$,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:h,content:p,onContentChange:f,scrollbarX:x,onScrollbarXChange:v,scrollbarXEnabled:T,onScrollbarXEnabledChange:R,scrollbarY:m,onScrollbarYChange:w,scrollbarYEnabled:E,onScrollbarYEnabledChange:I,onCornerWidthChange:C,onCornerHeightChange:N,children:o.jsx(ne.div,{dir:$,...i,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});Ho.displayName=vn;var zo="ScrollAreaViewport",Vo=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:a,...i}=e,l=we(zo,r),c=d.useRef(null),u=ce(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),o.jsx(ne.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:gu({asChild:s,children:n},h=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:h}))})]})});Vo.displayName=zo;var Me="ScrollAreaScrollbar",xn=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=we(Me,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(iu,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(lu,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(qo,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(yn,{...n,ref:t}):null});xn.displayName=Me;var iu=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=we(Me,e.__scopeScrollArea),[a,i]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(at,{present:r||a,children:o.jsx(qo,{"data-state":a?"visible":"hidden",...n,ref:t})})}),lu=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=we(Me,e.__scopeScrollArea),a=e.orientation==="horizontal",i=fr(()=>c("SCROLL_END"),100),[l,c]=ou("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=a?"scrollLeft":"scrollTop";if(u){let p=u[h];const f=()=>{const x=u[h];p!==x&&(c("SCROLL"),i()),p=x};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,a,c,i]),o.jsx(at,{present:r||l!=="hidden",children:o.jsx(yn,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Z(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Z(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),qo=d.forwardRef((e,t)=>{const r=we(Me,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=d.useState(!1),l=e.orientation==="horizontal",c=fr(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:h)}},10);return ot(r.viewport,c),ot(r.content,c),o.jsx(at,{present:n||a,children:o.jsx(yn,{"data-state":a?"visible":"hidden",...s,ref:t})})}),yn=d.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=we(Me,e.__scopeScrollArea),a=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Yo(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function p(f,x){return mu(f,i.current,l,x)}return r==="horizontal"?o.jsx(cu,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,x=Zn(f,l,s.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=p(f,s.dir))}}):r==="vertical"?o.jsx(du,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,x=Zn(f,l);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=p(f))}}):null}),cu=d.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=we(Me,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=ce(t,c,a.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Qo,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ur(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(a.viewport){const f=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(f),Zo(f,p)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Jt(i.paddingLeft),paddingEnd:Jt(i.paddingRight)}})}})}),du=d.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=we(Me,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=ce(t,c,a.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Qo,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ur(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(a.viewport){const f=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(f),Zo(f,p)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Jt(i.paddingTop),paddingEnd:Jt(i.paddingBottom)}})}})}),[uu,Wo]=Uo(Me),Qo=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:p,...f}=e,x=we(Me,r),[v,m]=d.useState(null),w=ce(t,O=>m(O)),S=d.useRef(null),C=d.useRef(""),y=x.viewport,N=n.content-n.viewport,T=Ae(h),R=Ae(c),E=fr(p,10);function I(O){if(S.current){const $=O.clientX-S.current.left,_=O.clientY-S.current.top;u({x:$,y:_})}}return d.useEffect(()=>{const O=$=>{const _=$.target;v?.contains(_)&&T($,N)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[y,v,N,T]),d.useEffect(R,[n,R]),ot(v,E),ot(x.content,E),o.jsx(uu,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Ae(a),onThumbPointerUp:Ae(i),onThumbPositionChange:R,onThumbPointerDown:Ae(l),children:o.jsx(ne.div,{...f,ref:w,style:{position:"absolute",...f.style},onPointerDown:Z(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),S.current=v.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),I(O))}),onPointerMove:Z(e.onPointerMove,I),onPointerUp:Z(e.onPointerUp,O=>{const $=O.target;$.hasPointerCapture(O.pointerId)&&$.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=C.current,x.viewport&&(x.viewport.style.scrollBehavior=""),S.current=null})})})}),Zt="ScrollAreaThumb",Ko=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Wo(Zt,e.__scopeScrollArea);return o.jsx(at,{present:r||s.hasThumb,children:o.jsx(fu,{ref:t,...n})})}),fu=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=we(Zt,r),i=Wo(Zt,r),{onThumbPositionChange:l}=i,c=ce(t,p=>i.onThumbChange(p)),u=d.useRef(),h=fr(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const p=a.viewport;if(p){const f=()=>{if(h(),!u.current){const x=pu(p,l);u.current=x,l()}};return l(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[a.viewport,h,l]),o.jsx(ne.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Z(e.onPointerDownCapture,p=>{const x=p.target.getBoundingClientRect(),v=p.clientX-x.left,m=p.clientY-x.top;i.onThumbPointerDown({x:v,y:m})}),onPointerUp:Z(e.onPointerUp,i.onThumbPointerUp)})});Ko.displayName=Zt;var bn="ScrollAreaCorner",Go=d.forwardRef((e,t)=>{const r=we(bn,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(hu,{...e,ref:t}):null});Go.displayName=bn;var hu=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=we(bn,r),[a,i]=d.useState(0),[l,c]=d.useState(0),u=!!(a&&l);return ot(s.scrollbarX,()=>{const h=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(h),c(h)}),ot(s.scrollbarY,()=>{const h=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(h),i(h)}),u?o.jsx(ne.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Jt(e){return e?parseInt(e,10):0}function Yo(e,t){const r=e/t;return isNaN(r)?0:r}function ur(e){const t=Yo(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function mu(e,t,r,n="ltr"){const s=ur(r),a=s/2,i=t||a,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,p=n==="ltr"?[0,h]:[h*-1,0];return Xo([c,u],p)(e)}function Zn(e,t,r="ltr"){const n=ur(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=Vr(e,c);return Xo([0,i],[0,l])(u)}function Xo(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Zo(e,t){return e>0&&e<t}var pu=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function fr(e,t){const r=Ae(e),n=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),d.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function ot(e,t){const r=Ae(t);Te(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function gu(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=d.Children.only(n);return d.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var Jo=Ho,vu=Vo,xu=Go;const ea=d.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Jo,{ref:n,className:te("relative overflow-hidden",e),...r,children:[o.jsx(vu,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(ta,{}),o.jsx(xu,{})]}));ea.displayName=Jo.displayName;const ta=d.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(xn,{ref:n,orientation:t,className:te("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(Ko,{className:"relative flex-1 rounded-full bg-border"})}));ta.displayName=xn.displayName;const Jn=e=>{switch(e){case"common":return"text-gray-400";case"rare":return"text-blue-400";case"epic":return"text-purple-400";case"legendary":return"text-yellow-400";default:return"text-gray-400"}},yu=e=>{switch(e){case"common":return"bg-gray-500/20";case"rare":return"bg-blue-500/20";case"epic":return"bg-purple-500/20";case"legendary":return"bg-yellow-500/20";default:return"bg-gray-500/20"}},bu=({userLevel:e,unlockedStickers:t})=>{const r=Ut.filter(s=>e>=s.levelRequired),n=Ut.filter(s=>e<s.levelRequired);return o.jsxs(pe,{className:"glass-card",children:[o.jsx(Nt,{children:o.jsxs(Tt,{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("span",{children:"Sticker Collection"}),o.jsxs(tt,{variant:"secondary",children:[t.length,"/",Ut.length]})]})}),o.jsx(ge,{children:o.jsx(ea,{className:"h-96",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3 text-green-400",children:" Unlocked"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.map(s=>{const a=t.includes(s.id);return o.jsx("div",{className:`p-3 rounded-lg border transition-all ${a?`${yu(s.rarity)} border-current animate-pulse-glow`:"bg-muted/20 border-muted opacity-60"}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl mb-2",children:s.emoji}),o.jsx("div",{className:`text-sm font-medium ${Jn(s.rarity)}`,children:s.name}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.description}),o.jsx(tt,{variant:"outline",className:`mt-2 text-xs ${Jn(s.rarity)}`,children:s.rarity})]})},s.id)})})]}),n.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3 text-muted-foreground",children:" Coming Soon"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.slice(0,6).map(s=>o.jsx("div",{className:"p-3 rounded-lg border border-muted bg-muted/10 opacity-40",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl mb-2 grayscale",children:""}),o.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"???"}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Level ",s.levelRequired," required"]}),o.jsx(tt,{variant:"outline",className:"mt-2 text-xs",children:s.rarity})]})},s.id))})]})]})})})]})},wu=({isOpen:e,onClose:t,quote:r,xpGained:n,coinsGained:s,taskTitle:a})=>{if(d.useEffect(()=>{if(e){const l=setTimeout(()=>{t()},4e3);return()=>clearTimeout(l)}},[e,t]),!e)return null;const i=r.icon;return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:o.jsx(pe,{className:"w-full max-w-md mx-4 glass-card animate-scale-in",children:o.jsxs(ge,{className:"p-6 text-center relative",children:[o.jsx(me,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:t,children:o.jsx(us,{className:"h-4 w-4"})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-4 rounded-full bg-gradient-to-r from-primary/20 to-accent/20 mb-4 animate-pulse",children:o.jsx(i,{className:`h-12 w-12 ${r.color}`})}),o.jsx("h2",{className:"text-2xl font-bold text-center mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Task Completed!"}),o.jsxs("p",{className:"text-lg font-medium text-center mb-4",children:['"',a,'"']}),o.jsx("div",{className:`text-xl font-bold ${r.color} mb-4 animate-bounce`,children:r.text}),o.jsxs("div",{className:"flex justify-center space-x-6 mb-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-xp",children:["+",n]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"XP"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-coin",children:["+",s]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Coins"})]})]})]}),o.jsx(me,{onClick:t,className:"w-full primary-gradient",children:"Continue Quest"})]})})})},Su=({playerStats:e,currentTier:t})=>o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4",children:[o.jsx(pe,{className:"glass-card",children:o.jsxs(ge,{className:"p-3 sm:p-4 flex items-center space-x-2 sm:space-x-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-full xp-gradient flex-shrink-0",children:o.jsx(vt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:["Level ",e.level]}),o.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-xp truncate",children:[e.total_xp," XP"]})]})]})}),o.jsx(pe,{className:"glass-card",children:o.jsxs(ge,{className:"p-3 sm:p-4 flex items-center space-x-2 sm:space-x-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-full coin-gradient flex-shrink-0",children:o.jsx(fi,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Coins"}),o.jsx("p",{className:"text-lg sm:text-2xl font-bold text-coin truncate",children:e.coins})]})]})}),o.jsx(pe,{className:"glass-card",children:o.jsxs(ge,{className:"p-3 sm:p-4 flex items-center space-x-2 sm:space-x-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-full primary-gradient flex-shrink-0",children:o.jsx(zt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Tier"}),o.jsxs("p",{className:`text-sm sm:text-xl font-bold ${t.color} truncate`,children:[t.icon," ",t.name]})]})]})}),o.jsx(pe,{className:"glass-card",children:o.jsxs(ge,{className:"p-3 sm:p-4 flex items-center space-x-2 sm:space-x-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-full bg-destructive flex-shrink-0",children:o.jsx(hi,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Streak"}),o.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-destructive truncate",children:[e.streak," days"]})]})]})})]});var Cu=[" ","Enter","ArrowUp","ArrowDown"],Nu=[" ","Enter"],Rt="Select",[hr,mr,Tu]=ls(Rt),[dt,Tf]=tr(Rt,[Tu,ar]),pr=ar(),[ju,Ve]=dt(Rt),[Ru,Pu]=dt(Rt),ra=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:p,disabled:f,required:x,form:v}=e,m=pr(t),[w,S]=d.useState(null),[C,y]=d.useState(null),[N,T]=d.useState(!1),R=cr(u),[E=!1,I]=Ht({prop:n,defaultProp:s,onChange:a}),[O,$]=Ht({prop:i,defaultProp:l,onChange:c}),_=d.useRef(null),K=w?v||!!w.closest("form"):!0,[Q,G]=d.useState(new Set),ee=Array.from(Q).map(B=>B.props.value).join(";");return o.jsx(yc,{...m,children:o.jsxs(ju,{required:x,scope:t,trigger:w,onTriggerChange:S,valueNode:C,onValueNodeChange:y,valueNodeHasChildren:N,onValueNodeHasChildrenChange:T,contentId:wt(),value:O,onValueChange:$,open:E,onOpenChange:I,dir:R,triggerPointerDownPosRef:_,disabled:f,children:[o.jsx(hr.Provider,{scope:t,children:o.jsx(Ru,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(B=>{G(J=>new Set(J).add(B))},[]),onNativeOptionRemove:d.useCallback(B=>{G(J=>{const M=new Set(J);return M.delete(B),M})},[]),children:r})}),K?o.jsxs(Ra,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:p,value:O,onChange:B=>$(B.target.value),disabled:f,form:v,children:[O===void 0?o.jsx("option",{value:""}):null,Array.from(Q)]},ee):null]})})};ra.displayName=Rt;var na="SelectTrigger",sa=d.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=pr(r),i=Ve(na,r),l=i.disabled||n,c=ce(t,i.onTriggerChange),u=mr(r),h=d.useRef("touch"),[p,f,x]=Pa(m=>{const w=u().filter(y=>!y.disabled),S=w.find(y=>y.value===i.value),C=Ea(w,m,S);C!==void 0&&i.onValueChange(C.value)}),v=m=>{l||(i.onOpenChange(!0),x()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx($s,{asChild:!0,...a,children:o.jsx(ne.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ja(i.value)?"":void 0,...s,ref:c,onClick:Z(s.onClick,m=>{m.currentTarget.focus(),h.current!=="mouse"&&v(m)}),onPointerDown:Z(s.onPointerDown,m=>{h.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:Z(s.onKeyDown,m=>{const w=p.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(w&&m.key===" ")&&Cu.includes(m.key)&&(v(),m.preventDefault())})})})});sa.displayName=na;var oa="SelectValue",aa=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=Ve(oa,r),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,p=ce(t,c.onValueNodeChange);return Te(()=>{u(h)},[u,h]),o.jsx(ne.span,{...l,ref:p,style:{pointerEvents:"none"},children:ja(c.value)?o.jsx(o.Fragment,{children:i}):a})});aa.displayName=oa;var Eu="SelectIcon",ia=d.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(ne.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});ia.displayName=Eu;var Au="SelectPortal",la=e=>o.jsx(Xa,{asChild:!0,...e});la.displayName=Au;var Ge="SelectContent",ca=d.forwardRef((e,t)=>{const r=Ve(Ge,e.__scopeSelect),[n,s]=d.useState();if(Te(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Yr.createPortal(o.jsx(da,{scope:e.__scopeSelect,children:o.jsx(hr.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(ua,{...e,ref:t})});ca.displayName=Ge;var Ce=10,[da,qe]=dt(Ge),ku="SelectContentImpl",ua=d.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:x,sticky:v,hideWhenDetached:m,avoidCollisions:w,...S}=e,C=Ve(Ge,r),[y,N]=d.useState(null),[T,R]=d.useState(null),E=ce(t,j=>N(j)),[I,O]=d.useState(null),[$,_]=d.useState(null),K=mr(r),[Q,G]=d.useState(!1),ee=d.useRef(!1);d.useEffect(()=>{if(y)return Za(y)},[y]),Ja();const B=d.useCallback(j=>{const[D,...V]=K().map(q=>q.ref.current),[U]=V.slice(-1),z=document.activeElement;for(const q of j)if(q===z||(q?.scrollIntoView({block:"nearest"}),q===D&&T&&(T.scrollTop=0),q===U&&T&&(T.scrollTop=T.scrollHeight),q?.focus(),document.activeElement!==z))return},[K,T]),J=d.useCallback(()=>B([I,y]),[B,I,y]);d.useEffect(()=>{Q&&J()},[Q,J]);const{onOpenChange:M,triggerPointerDownPosRef:X}=C;d.useEffect(()=>{if(y){let j={x:0,y:0};const D=U=>{j={x:Math.abs(Math.round(U.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(U.pageY)-(X.current?.y??0))}},V=U=>{j.x<=10&&j.y<=10?U.preventDefault():y.contains(U.target)||M(!1),document.removeEventListener("pointermove",D),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",D),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",V,{capture:!0})}}},[y,M,X]),d.useEffect(()=>{const j=()=>M(!1);return window.addEventListener("blur",j),window.addEventListener("resize",j),()=>{window.removeEventListener("blur",j),window.removeEventListener("resize",j)}},[M]);const[b,g]=Pa(j=>{const D=K().filter(z=>!z.disabled),V=D.find(z=>z.ref.current===document.activeElement),U=Ea(D,j,V);U&&setTimeout(()=>U.ref.current.focus())}),P=d.useCallback((j,D,V)=>{const U=!ee.current&&!V;(C.value!==void 0&&C.value===D||U)&&(O(j),U&&(ee.current=!0))},[C.value]),A=d.useCallback(()=>y?.focus(),[y]),L=d.useCallback((j,D,V)=>{const U=!ee.current&&!V;(C.value!==void 0&&C.value===D||U)&&_(j)},[C.value]),H=n==="popper"?qr:fa,F=H===qr?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:x,sticky:v,hideWhenDetached:m,avoidCollisions:w}:{};return o.jsx(da,{scope:r,content:y,viewport:T,onViewportChange:R,itemRefCallback:P,selectedItem:I,onItemLeave:A,itemTextRefCallback:L,focusSelectedItem:J,selectedItemText:$,position:n,isPositioned:Q,searchRef:b,children:o.jsx(ei,{as:is,allowPinchZoom:!0,children:o.jsx(ti,{asChild:!0,trapped:C.open,onMountAutoFocus:j=>{j.preventDefault()},onUnmountAutoFocus:Z(s,j=>{C.trigger?.focus({preventScroll:!0}),j.preventDefault()}),children:o.jsx(as,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:j=>j.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:o.jsx(H,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:j=>j.preventDefault(),...S,...F,onPlaced:()=>G(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Z(S.onKeyDown,j=>{const D=j.ctrlKey||j.altKey||j.metaKey;if(j.key==="Tab"&&j.preventDefault(),!D&&j.key.length===1&&g(j.key),["ArrowUp","ArrowDown","Home","End"].includes(j.key)){let U=K().filter(z=>!z.disabled).map(z=>z.ref.current);if(["ArrowUp","End"].includes(j.key)&&(U=U.slice().reverse()),["ArrowUp","ArrowDown"].includes(j.key)){const z=j.target,q=U.indexOf(z);U=U.slice(q+1)}setTimeout(()=>B(U)),j.preventDefault()}})})})})})})});ua.displayName=ku;var Ou="SelectItemAlignedPosition",fa=d.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Ve(Ge,r),i=qe(Ge,r),[l,c]=d.useState(null),[u,h]=d.useState(null),p=ce(t,E=>h(E)),f=mr(r),x=d.useRef(!1),v=d.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:S,focusSelectedItem:C}=i,y=d.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&m&&w&&S){const E=a.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),$=S.getBoundingClientRect();if(a.dir!=="rtl"){const z=$.left-I.left,q=O.left-z,re=E.left-q,W=E.width+re,ie=Math.max(W,I.width),ae=window.innerWidth-Ce,fe=Vr(q,[Ce,Math.max(Ce,ae-ie)]);l.style.minWidth=W+"px",l.style.left=fe+"px"}else{const z=I.right-$.right,q=window.innerWidth-O.right-z,re=window.innerWidth-E.right-q,W=E.width+re,ie=Math.max(W,I.width),ae=window.innerWidth-Ce,fe=Vr(q,[Ce,Math.max(Ce,ae-ie)]);l.style.minWidth=W+"px",l.style.right=fe+"px"}const _=f(),K=window.innerHeight-Ce*2,Q=m.scrollHeight,G=window.getComputedStyle(u),ee=parseInt(G.borderTopWidth,10),B=parseInt(G.paddingTop,10),J=parseInt(G.borderBottomWidth,10),M=parseInt(G.paddingBottom,10),X=ee+B+Q+M+J,b=Math.min(w.offsetHeight*5,X),g=window.getComputedStyle(m),P=parseInt(g.paddingTop,10),A=parseInt(g.paddingBottom,10),L=E.top+E.height/2-Ce,H=K-L,F=w.offsetHeight/2,j=w.offsetTop+F,D=ee+B+j,V=X-D;if(D<=L){const z=_.length>0&&w===_[_.length-1].ref.current;l.style.bottom="0px";const q=u.clientHeight-m.offsetTop-m.offsetHeight,re=Math.max(H,F+(z?A:0)+q+J),W=D+re;l.style.height=W+"px"}else{const z=_.length>0&&w===_[0].ref.current;l.style.top="0px";const re=Math.max(L,ee+m.offsetTop+(z?P:0)+F)+V;l.style.height=re+"px",m.scrollTop=D-L+m.offsetTop}l.style.margin=`${Ce}px 0`,l.style.minHeight=b+"px",l.style.maxHeight=K+"px",n?.(),requestAnimationFrame(()=>x.current=!0)}},[f,a.trigger,a.valueNode,l,u,m,w,S,a.dir,n]);Te(()=>y(),[y]);const[N,T]=d.useState();Te(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const R=d.useCallback(E=>{E&&v.current===!0&&(y(),C?.(),v.current=!1)},[y,C]);return o.jsx(Iu,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:R,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:o.jsx(ne.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});fa.displayName=Ou;var Mu="SelectPopperPosition",qr=d.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ce,...a}=e,i=pr(r);return o.jsx(Bs,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qr.displayName=Mu;var[Iu,wn]=dt(Ge,{}),Wr="SelectViewport",ha=d.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=qe(Wr,r),i=wn(Wr,r),l=ce(t,a.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(hr.Slot,{scope:r,children:o.jsx(ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=i;if(f?.current&&p){const x=Math.abs(c.current-h.scrollTop);if(x>0){const v=window.innerHeight-Ce*2,m=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),S=Math.max(m,w);if(S<v){const C=S+x,y=Math.min(v,C),N=C-y;p.style.height=y+"px",p.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});ha.displayName=Wr;var ma="SelectGroup",[_u,Du]=dt(ma),Fu=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=wt();return o.jsx(_u,{scope:r,id:s,children:o.jsx(ne.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Fu.displayName=ma;var pa="SelectLabel",ga=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Du(pa,r);return o.jsx(ne.div,{id:s.id,...n,ref:t})});ga.displayName=pa;var er="SelectItem",[Lu,va]=dt(er),xa=d.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=Ve(er,r),c=qe(er,r),u=l.value===n,[h,p]=d.useState(a??""),[f,x]=d.useState(!1),v=ce(t,C=>c.itemRefCallback?.(C,n,s)),m=wt(),w=d.useRef("touch"),S=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Lu,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:d.useCallback(C=>{p(y=>y||(C?.textContent??"").trim())},[]),children:o.jsx(hr.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:o.jsx(ne.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:Z(i.onFocus,()=>x(!0)),onBlur:Z(i.onBlur,()=>x(!1)),onClick:Z(i.onClick,()=>{w.current!=="mouse"&&S()}),onPointerUp:Z(i.onPointerUp,()=>{w.current==="mouse"&&S()}),onPointerDown:Z(i.onPointerDown,C=>{w.current=C.pointerType}),onPointerMove:Z(i.onPointerMove,C=>{w.current=C.pointerType,s?c.onItemLeave?.():w.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(i.onPointerLeave,C=>{C.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Z(i.onKeyDown,C=>{c.searchRef?.current!==""&&C.key===" "||(Nu.includes(C.key)&&S(),C.key===" "&&C.preventDefault())})})})})});xa.displayName=er;var pt="SelectItemText",ya=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=Ve(pt,r),l=qe(pt,r),c=va(pt,r),u=Pu(pt,r),[h,p]=d.useState(null),f=ce(t,S=>p(S),c.onItemTextChange,S=>l.itemTextRefCallback?.(S,c.value,c.disabled)),x=h?.textContent,v=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=u;return Te(()=>(m(v),()=>w(v)),[m,w,v]),o.jsxs(o.Fragment,{children:[o.jsx(ne.span,{id:c.textId,...a,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Yr.createPortal(a.children,i.valueNode):null]})});ya.displayName=pt;var ba="SelectItemIndicator",wa=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return va(ba,r).isSelected?o.jsx(ne.span,{"aria-hidden":!0,...n,ref:t}):null});wa.displayName=ba;var Qr="SelectScrollUpButton",Sa=d.forwardRef((e,t)=>{const r=qe(Qr,e.__scopeSelect),n=wn(Qr,e.__scopeSelect),[s,a]=d.useState(!1),i=ce(t,n.onScrollButtonChange);return Te(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(Na,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Sa.displayName=Qr;var Kr="SelectScrollDownButton",Ca=d.forwardRef((e,t)=>{const r=qe(Kr,e.__scopeSelect),n=wn(Kr,e.__scopeSelect),[s,a]=d.useState(!1),i=ce(t,n.onScrollButtonChange);return Te(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(Na,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ca.displayName=Kr;var Na=d.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=qe("SelectScrollButton",r),i=d.useRef(null),l=mr(r),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Te(()=>{l().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),o.jsx(ne.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Z(s.onPointerMove,()=>{a.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{c()})})}),$u="SelectSeparator",Ta=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ne.div,{"aria-hidden":!0,...n,ref:t})});Ta.displayName=$u;var Gr="SelectArrow",Bu=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=pr(r),a=Ve(Gr,r),i=qe(Gr,r);return a.open&&i.position==="popper"?o.jsx(Us,{...s,...n,ref:t}):null});Bu.displayName=Gr;function ja(e){return e===""||e===void 0}var Ra=d.forwardRef((e,t)=>{const{value:r,...n}=e,s=d.useRef(null),a=ce(t,s),i=ri(r);return d.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&h){const p=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(p)}},[i,r]),o.jsx(ni,{asChild:!0,children:o.jsx("select",{...n,ref:a,defaultValue:r})})});Ra.displayName="BubbleSelect";function Pa(e){const t=Ae(e),r=d.useRef(""),n=d.useRef(0),s=d.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=d.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function Ea(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=Uu(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Uu(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Hu=ra,Aa=sa,zu=aa,Vu=ia,qu=la,ka=ca,Wu=ha,Oa=ga,Ma=xa,Qu=ya,Ku=wa,Ia=Sa,_a=Ca,Da=Ta;const Gu=Hu,Yu=zu,Fa=d.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Aa,{ref:n,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(Vu,{asChild:!0,children:o.jsx(hs,{className:"h-4 w-4 opacity-50"})})]}));Fa.displayName=Aa.displayName;const La=d.forwardRef(({className:e,...t},r)=>o.jsx(Ia,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(mi,{className:"h-4 w-4"})}));La.displayName=Ia.displayName;const $a=d.forwardRef(({className:e,...t},r)=>o.jsx(_a,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(hs,{className:"h-4 w-4"})}));$a.displayName=_a.displayName;const Ba=d.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(qu,{children:o.jsxs(ka,{ref:s,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(La,{}),o.jsx(Wu,{className:te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx($a,{})]})}));Ba.displayName=ka.displayName;const Xu=d.forwardRef(({className:e,...t},r)=>o.jsx(Oa,{ref:r,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Xu.displayName=Oa.displayName;const Ua=d.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Ma,{ref:n,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Ku,{children:o.jsx(pi,{className:"h-4 w-4"})})}),o.jsx(Qu,{children:t})]}));Ua.displayName=Ma.displayName;const Zu=d.forwardRef(({className:e,...t},r)=>o.jsx(Da,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));Zu.displayName=Da.displayName;const Ju=({onCreateTask:e})=>{const[t,r]=d.useState(""),[n,s]=d.useState(""),[a,i]=d.useState("easy"),l=()=>{!t.trim()||!n.trim()||(e({title:t,category:n,difficulty:a,state:"todo",is_default:!1}),r(""),s(""))},c=u=>{u.key==="Enter"&&l()};return o.jsxs(pe,{className:"glass-card",children:[o.jsx(Nt,{children:o.jsxs(Tt,{className:"flex items-center space-x-2",children:[o.jsx(rt,{className:"h-5 w-5"}),o.jsx("span",{children:"Forge New Quest"})]})}),o.jsxs(ge,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx($e,{placeholder:"Quest title...",value:t,onChange:u=>r(u.target.value),onKeyPress:c}),o.jsx($e,{placeholder:"Category...",value:n,onChange:u=>s(u.target.value),onKeyPress:c})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Gu,{value:a,onValueChange:u=>i(u),children:[o.jsx(Fa,{className:"flex-1",children:o.jsx(Yu,{})}),o.jsx(Ba,{children:Object.entries(Xt).map(([u,h])=>o.jsx(Ua,{value:u,children:o.jsxs("span",{className:h.color,children:[h.label," (+",h.xp," XP, +",h.coins," coins)"]})},u))})]}),o.jsxs(me,{onClick:l,className:"primary-gradient",disabled:!t.trim()||!n.trim(),children:[o.jsx(gi,{className:"h-4 w-4"}),"Forge Quest"]})]})]})]})},ef=({filter:e,onFilterChange:t})=>{const r=[{key:"all",label:"All"},{key:"todo",label:"To Do"},{key:"inprogress",label:"In Progress"},{key:"completed",label:"Completed"}];return o.jsx(pe,{className:"glass-card",children:o.jsx(ge,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vi,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Filter:"}),o.jsx("div",{className:"flex space-x-2",children:r.map(n=>o.jsx(me,{variant:e===n.key?"default":"outline",size:"sm",onClick:()=>t(n.key),className:e===n.key?"primary-gradient":"",children:n.label},n.key))})]})})})},tf=e=>{switch(e){case"todo":return o.jsx(rt,{className:"h-4 w-4 text-muted-foreground"});case"inprogress":return o.jsx(ms,{className:"h-4 w-4 text-blue-400"});case"completed":return o.jsx(ps,{className:"h-4 w-4 text-green-400"});case"missed":return o.jsx(yi,{className:"h-4 w-4 text-red-400"});default:return o.jsx(rt,{className:"h-4 w-4 text-muted-foreground"})}},rf=e=>{switch(e){case"todo":return"To Do";case"inprogress":return"In Progress";case"completed":return"Completed";case"missed":return"Missed";default:return"Unknown"}},nf=({tasks:e,onStartTask:t,onCompleteTask:r,onRevertTask:n,onDeleteTask:s})=>e.length===0?o.jsx(pe,{className:"glass-card",children:o.jsxs(ge,{className:"p-8 text-center",children:[o.jsx(rt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No tasks found. Create your first quest!"})]})}):o.jsx("div",{className:"space-y-3",children:e.map(a=>{const i=Xt[a.difficulty];return o.jsx(pe,{className:`glass-card transition-all duration-300 hover-scale ${a.state==="completed"?"opacity-60":a.state==="missed"?"border-red-500/50 bg-red-500/5":a.state==="inprogress"?"border-blue-500/50 bg-blue-500/5":"hover:scale-[1.02]"}`,children:o.jsx(ge,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[tf(a.state),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:`font-medium ${a.state==="completed"?"line-through text-muted-foreground":""}`,children:a.title}),a.is_default&&o.jsx(tt,{variant:"outline",className:"text-xs",children:"Daily"})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx(tt,{variant:"secondary",className:i.color,children:i.label}),o.jsx("span",{className:"text-xs text-muted-foreground",children:a.category}),a.state!=="completed"&&a.state!=="missed"&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",i.xp," XP, +",i.coins," coins"]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(tt,{variant:"outline",className:"text-xs",children:rf(a.state)}),a.state==="todo"&&o.jsxs(o.Fragment,{children:[o.jsxs(me,{size:"sm",variant:"outline",onClick:()=>t(a.id),children:[o.jsx(ms,{className:"h-3 w-3"}),"Start"]}),o.jsx(me,{size:"sm",variant:"destructive",onClick:()=>s(a.id),children:o.jsx(yr,{className:"h-3 w-3"})})]}),a.state==="inprogress"&&o.jsxs(o.Fragment,{children:[o.jsxs(me,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>r(a.id),children:[o.jsx(ps,{className:"h-3 w-3"}),"Complete"]}),o.jsx(me,{size:"sm",variant:"destructive",onClick:()=>s(a.id),children:o.jsx(yr,{className:"h-3 w-3"})})]}),a.state==="completed"&&o.jsxs(o.Fragment,{children:[o.jsxs(me,{size:"sm",variant:"outline",onClick:()=>n(a.id),children:[o.jsx(xi,{className:"h-3 w-3"}),"Revert"]}),o.jsx(me,{size:"sm",variant:"destructive",onClick:()=>s(a.id),children:o.jsx(yr,{className:"h-3 w-3"})})]})]})]})})},a.id)})}),sf=({tasks:e})=>{const t=e.filter(a=>a.state==="completed").length,r=e.filter(a=>a.state==="inprogress").length,n=e.filter(a=>a.state==="missed").length,s=e.length>0?Math.round(t/e.length*100):0;return o.jsxs(pe,{className:"glass-card",children:[o.jsx(Nt,{children:o.jsx(Tt,{children:"Quest Stats"})}),o.jsxs(ge,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Quests"}),o.jsx("span",{className:"font-medium",children:e.length})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed"}),o.jsx("span",{className:"font-medium text-green-400",children:t})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"In Progress"}),o.jsx("span",{className:"font-medium text-blue-400",children:r})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Missed"}),o.jsx("span",{className:"font-medium text-red-400",children:n})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Success Rate"}),o.jsxs("span",{className:"font-medium",children:[s,"%"]})]})]})]})},mt=[{name:"Bronze",minXP:0,color:"text-bronze",icon:""},{name:"Silver",minXP:100,color:"text-silver",icon:""},{name:"Gold",minXP:300,color:"text-gold",icon:""},{name:"Platinum",minXP:600,color:"text-platinum",icon:""},{name:"Ultra",minXP:1e3,color:"text-ultra",icon:""}],of=()=>{const[e,t]=d.useState("all"),[r,n]=d.useState(!1),{theme:s,toggleTheme:a}=gd(),{user:i,signOut:l}=fn(),{tasks:c,playerStats:u,unlockedStickers:h,celebrationData:p,setCelebrationData:f,loading:x,createTask:v,deleteTask:m,startTask:w,completeTask:S,revertTask:C}=nu(),{toast:y}=St(),N=c.filter(_=>e==="all"?!0:_.state===e),T=()=>u&&mt.slice().reverse().find(_=>u.total_xp>=_.minXP)||mt[0],R=()=>u?mt.find(_=>u.total_xp<_.minXP):mt[1],E=async()=>{if(!(!i||!u||r)){n(!0);try{console.log("Starting progress save...");const{error:_}=await le.from("player_stats").upsert({user_id:i.id,total_xp:u.total_xp,coins:u.coins,level:u.level,streak:u.streak,last_completed_date:u.last_completed_date},{onConflict:"user_id"});if(_)throw console.error("Stats save error:",_),new Error(`Failed to save stats: ${_.message}`);if(console.log("Stats saved successfully"),c.length>0){const K=c.map(G=>({...G,user_id:i.id})),{error:Q}=await le.from("tasks").upsert(K,{onConflict:"id"});if(Q)throw console.error("Tasks save error:",Q),new Error(`Failed to save tasks: ${Q.message}`);console.log("Tasks saved successfully")}y({title:" Progress Saved!",description:"Your adventure progress has been safely stored in the cloud.",duration:3e3})}catch(_){console.error("Save operation failed:",_),y({title:" Save Failed",description:_.message||"Unable to save progress. Please try again.",variant:"destructive",duration:5e3})}finally{n(!1)}}};if(d.useState(()=>{const _=setInterval(()=>{i&&u&&!r&&E()},3e4);return()=>clearInterval(_)}),x)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary/20",children:o.jsxs("div",{className:"text-center space-y-4 p-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-lg font-medium",children:"Loading TaskForge..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Preparing your quest adventure..."})]})]})});if(!u||!c)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary/20",children:o.jsxs("div",{className:"text-center space-y-4 p-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"text-lg font-medium",children:"Initializing your quest..."})]})});const I=T(),O=R(),$=O&&u?(u.total_xp-I.minXP)/(O.minXP-I.minXP)*100:100;return o.jsxs("div",{className:"min-h-screen p-2 sm:p-4 lg:p-6 space-y-4 sm:space-y-6",children:[o.jsx(wu,{isOpen:p.isOpen,onClose:()=>f(_=>({..._,isOpen:!1})),quote:p.quote,xpGained:p.xpGained,coinsGained:p.coinsGained,taskTitle:p.taskTitle}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent truncate",children:"TaskForge"}),o.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground mt-1 truncate",children:["Welcome back, ",i?.email?.split("@")[0],"! Ready to level up?"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Crafted with love by Yuvi."})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 w-full sm:w-auto",children:[o.jsx("div",{className:"hidden sm:block",children:o.jsx(Xn,{})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bi,{className:"h-4 w-4"}),o.jsx(Bo,{checked:s==="dark",onCheckedChange:a}),o.jsx(wi,{className:"h-4 w-4"})]}),o.jsxs(me,{onClick:E,variant:"outline",size:"sm",disabled:r,className:"flex items-center gap-2",children:[o.jsx(Si,{className:`h-4 w-4 ${r?"animate-spin":""}`}),o.jsx("span",{className:"hidden sm:inline",children:r?"Saving...":"Save"})]}),o.jsxs(me,{onClick:l,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[o.jsx(Ci,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]}),o.jsx("div",{className:"sm:hidden flex justify-center",children:o.jsx(Xn,{})}),u&&o.jsx(Su,{playerStats:u,currentTier:I}),O&&u&&o.jsx(pe,{className:"glass-card",children:o.jsxs(ge,{className:"p-3 sm:p-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 mb-2",children:[o.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:["Progress to ",O.name," ",O.icon]}),o.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[u.total_xp,"/",O.minXP," XP"]})]}),o.jsx($o,{value:$,className:"h-2"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[o.jsx(Ju,{onCreateTask:v}),o.jsx(ef,{filter:e,onFilterChange:t}),o.jsx(nf,{tasks:N,onStartTask:w,onCompleteTask:S,onRevertTask:C,onDeleteTask:m})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(bu,{userLevel:u?.level||1,unlockedStickers:h}),o.jsx(sf,{tasks:c})]})]}),o.jsx("div",{className:"sm:hidden fixed bottom-4 right-4 z-50",children:o.jsxs("div",{className:"flex items-center space-x-2 bg-background/80 backdrop-blur-sm rounded-full px-3 py-2 border",children:[o.jsx(Ni,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Mobile Ready"})]})})]})},af=()=>{const{user:e,loading:t}=fn();return d.useEffect(()=>{console.log("Index page - User:",e?.email,"Loading:",t)},[e,t]),t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary/20",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-lg font-medium text-foreground",children:"Loading TaskForge..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Initializing your adventure..."})]})]})}):e?(console.log("User authenticated, showing main app"),o.jsx(of,{})):(console.log("No user found, showing auth page"),o.jsx(Vd,{onAuthSuccess:()=>console.log("Auth success callback")}))},lf=()=>{const e=ai();return d.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},cf=new Zc({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}}),df=()=>o.jsx(nd,{client:cf,children:o.jsx(pd,{children:o.jsx(yd,{children:o.jsxs(Dc,{children:[o.jsx(Di,{}),o.jsx(ul,{}),o.jsx(ii,{basename:"/quest-log-boost",children:o.jsxs(li,{children:[o.jsx(Sn,{path:"/",element:o.jsx(af,{})}),o.jsx(Sn,{path:"*",element:o.jsx(lf,{})})]})})]})})})});Ri.createRoot(document.getElementById("root")).render(o.jsx(df,{}))});export default uf();
