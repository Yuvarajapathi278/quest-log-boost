const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StickerSystem-CDOglnpH.js","assets/react-tKylJNJs.js","assets/@supabase-Dm6_sQLe.js","assets/isows-nSfPKTFW.js","assets/@radix-ui-B0slBGA2.js","assets/react-dom-BqfXY8Zn.js","assets/scheduler-CzFDRTuY.js","assets/@floating-ui-CXn0x4Y2.js","assets/aria-hidden-DQ5UC2Eg.js","assets/react-remove-scroll-DMbL1aI1.js","assets/tslib-CDuPK5Eb.js","assets/react-remove-scroll-bar-C88XqFWv.js","assets/react-style-singleton-BxwF0qbj.js","assets/get-nonce-C-Z93AgS.js","assets/use-sidecar-B9E69UcY.js","assets/use-callback-ref-DxE-_Qmu.js","assets/class-variance-authority-Dp3B9jqt.js","assets/clsx-B-dksMZM.js","assets/tailwind-merge-Dnoi3Axr.js","assets/lucide-react-D3tdCwux.js","assets/next-themes-ChSZ-6O0.js","assets/sonner-Bl1BxlO8.js","assets/@tanstack-DDB6nPw5.js","assets/react-router-dom-Bo8KrwcX.js","assets/react-router-CZlckSKa.js","assets/@remix-run-D5JSj-5s.js","assets/canvas-confetti-BxKCmZ95.js"])))=>i.map(i=>d[i]);
import{r as i,j as e,R as rt}from"./react-tKylJNJs.js";import{c as it}from"./react-dom-BqfXY8Zn.js";import{V as ge,R as he,A as je,C as ye,T as ve,D as Ne,P as ot,a as be,b as nt,S as lt,c as we,L as ke,d as Se,e as Te,f as ct,g as Ce,I as dt,h as Re,i as _e,j as ut,k as Ie,l as mt,m as De,n as Pe,o as xt,p as pt,q as Ee,r as ft,s as gt,t as Ae,u as ht,v as Oe,w as jt}from"./@radix-ui-B0slBGA2.js";import{c as Y}from"./class-variance-authority-Dp3B9jqt.js";import{c as yt}from"./clsx-B-dksMZM.js";import{t as vt}from"./tailwind-merge-Dnoi3Axr.js";import{X as Fe,Z as B,M as de,L as ue,U as Nt,C as Le,a as bt,b as wt,T as V,F as ie,S as oe,c as qe,d as M,e as kt,f as St,g as Tt,h as Ct,i as Rt,j as _t,P as It,k as Dt,l as me,m as J,n as xe,R as Pt,o as Et}from"./lucide-react-D3tdCwux.js";import{j as At}from"./next-themes-ChSZ-6O0.js";import{T as Ot}from"./sonner-Bl1BxlO8.js";import{u as Ft,a as Z,b as q,Q as Lt,c as qt}from"./@tanstack-DDB6nPw5.js";import{B as Ut}from"./react-router-dom-Bo8KrwcX.js";import{c as Mt,_ as zt}from"./@supabase-Dm6_sQLe.js";import{c as ee}from"./canvas-confetti-BxKCmZ95.js";import{u as Bt,a as Xt,b as pe}from"./react-router-CZlckSKa.js";import"./scheduler-CzFDRTuY.js";import"./@floating-ui-CXn0x4Y2.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-DMbL1aI1.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C88XqFWv.js";import"./react-style-singleton-BxwF0qbj.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-B9E69UcY.js";import"./use-callback-ref-DxE-_Qmu.js";import"./@remix-run-D5JSj-5s.js";import"./isows-nSfPKTFW.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const g of u.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function a(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerPolicy&&(u.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?u.credentials="include":n.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(n){if(n.ep)return;n.ep=!0;const u=a(n);fetch(n.href,u)}})();const Gt=1,Vt=1e6;let te=0;function Qt(){return te=(te+1)%Number.MAX_SAFE_INTEGER,te.toString()}const se=new Map,fe=t=>{if(se.has(t))return;const s=setTimeout(()=>{se.delete(t),z({type:"REMOVE_TOAST",toastId:t})},Vt);se.set(t,s)},$t=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,Gt)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?fe(a):t.toasts.forEach(o=>{fe(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===a||a===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},X=[];let G={toasts:[]};function z(t){G=$t(G,t),X.forEach(s=>{s(G)})}function Yt({...t}){const s=Qt(),a=n=>z({type:"UPDATE_TOAST",toast:{...n,id:s}}),o=()=>z({type:"DISMISS_TOAST",toastId:s});return z({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||o()}}}),{id:s,dismiss:o,update:a}}function K(){const[t,s]=i.useState(G);return i.useEffect(()=>(X.push(s),()=>{const a=X.indexOf(s);a>-1&&X.splice(a,1)}),[t]),{...t,toast:Yt,dismiss:a=>z({type:"DISMISS_TOAST",toastId:a})}}function p(...t){return vt(yt(t))}const Kt=ot,Ue=i.forwardRef(({className:t,...s},a)=>e.jsx(ge,{ref:a,className:p("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Ue.displayName=ge.displayName;const Wt=Y("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Me=i.forwardRef(({className:t,variant:s,...a},o)=>e.jsx(he,{ref:o,className:p(Wt({variant:s}),t),...a}));Me.displayName=he.displayName;const Ht=i.forwardRef(({className:t,...s},a)=>e.jsx(je,{ref:a,className:p("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));Ht.displayName=je.displayName;const ze=i.forwardRef(({className:t,...s},a)=>e.jsx(ye,{ref:a,className:p("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Fe,{className:"h-4 w-4"})}));ze.displayName=ye.displayName;const Be=i.forwardRef(({className:t,...s},a)=>e.jsx(ve,{ref:a,className:p("text-sm font-semibold",t),...s}));Be.displayName=ve.displayName;const Xe=i.forwardRef(({className:t,...s},a)=>e.jsx(Ne,{ref:a,className:p("text-sm opacity-90",t),...s}));Xe.displayName=Ne.displayName;function Jt(){const{toasts:t}=K();return e.jsxs(Kt,{children:[t.map(function({id:s,title:a,description:o,action:n,...u}){return e.jsxs(Me,{...u,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(Be,{children:a}),o&&e.jsx(Xe,{children:o})]}),n,e.jsx(ze,{})]},s)}),e.jsx(Ue,{})]})}const Zt=({...t})=>{const{theme:s="system"}=At();return e.jsx(Ot,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},es=nt,ts=i.forwardRef(({className:t,sideOffset:s=4,...a},o)=>e.jsx(be,{ref:o,sideOffset:s,className:p("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));ts.displayName=be.displayName;const Ge=i.createContext(void 0),ss=({children:t})=>{const[s,a]=i.useState(()=>localStorage.getItem("taskforge-theme")||"dark");i.useEffect(()=>{localStorage.setItem("taskforge-theme",s),document.documentElement.classList.toggle("dark",s==="dark")},[s]);const o=()=>{a(n=>n==="dark"?"light":"dark")};return e.jsx(Ge.Provider,{value:{theme:s,toggleTheme:o},children:t})},as=()=>{const t=i.useContext(Ge);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},rs="https://epyugyfamvfpjjpsqeok.supabase.co",is="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVweXVneWZhbXZmcGpqcHNxZW9rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5NDc5NzUsImV4cCI6MjA2ODUyMzk3NX0.DYwkG9WP-J3sPS56lAuSxndJBwXDgyzuD33r_bfTKc0",N=Mt(rs,is,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Ve=i.createContext({user:null,session:null,loading:!0,signOut:async()=>{}}),ce=()=>{const t=i.useContext(Ve);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},os=({children:t})=>{const[s,a]=i.useState(null),[o,n]=i.useState(null),[u,g]=i.useState(!0),{toast:f}=K();i.useEffect(()=>{console.log("Setting up auth listener...");const{data:{subscription:j}}=N.auth.onAuthStateChange(async(h,l)=>{var T,d,D;if(console.log("Auth state changed:",h,(T=l==null?void 0:l.user)==null?void 0:T.email),n(l),a((l==null?void 0:l.user)??null),g(!1),h==="SIGNED_IN"&&(console.log("User signed in successfully"),l!=null&&l.user)){const{data:x}=await N.from("profiles").select("*").eq("id",l.user.id).single();x||await N.from("profiles").insert([{id:l.user.id,username:((d=l.user.user_metadata)==null?void 0:d.username)||((D=l.user.email)==null?void 0:D.split("@")[0])||"User"}])}h==="SIGNED_OUT"&&console.log("User signed out")});return(async()=>{var h;try{const{data:{session:l},error:T}=await N.auth.getSession();T?console.error("Error getting session:",T):(console.log("Initial session:",(h=l==null?void 0:l.user)==null?void 0:h.email),n(l),a((l==null?void 0:l.user)??null))}catch(l){console.error("Error initializing auth:",l)}finally{g(!1)}})(),()=>{console.log("Cleaning up auth listener"),j.unsubscribe()}},[]);const S={user:s,session:o,loading:u,signOut:async()=>{try{g(!0);const{error:j}=await N.auth.signOut();if(j)throw j;f({title:"Signed Out",description:"See you next time, warrior! ðŸ‘‹"})}catch(j){console.error("Sign out error:",j),f({title:"Sign Out Failed",description:j.message,variant:"destructive"})}finally{g(!1)}}};return e.jsx(Ve.Provider,{value:S,children:t})},ns=Y("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=i.forwardRef(({className:t,variant:s,size:a,asChild:o=!1,...n},u)=>{const g=o?lt:"button";return e.jsx(g,{className:p(ns({variant:s,size:a,className:t})),ref:u,...n})});b.displayName="Button";const w=i.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:p("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));w.displayName="Card";const Q=i.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:p("flex flex-col space-y-1.5 p-6",t),...s}));Q.displayName="CardHeader";const $=i.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:p("text-2xl font-semibold leading-none tracking-tight",t),...s}));$.displayName="CardTitle";const ls=i.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:p("text-sm text-muted-foreground",t),...s}));ls.displayName="CardDescription";const k=i.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:p("p-6 pt-0",t),...s}));k.displayName="CardContent";const cs=i.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:p("flex items-center p-6 pt-0",t),...s}));cs.displayName="CardFooter";const _=i.forwardRef(({className:t,type:s,...a},o)=>e.jsx("input",{type:s,className:p("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:o,...a}));_.displayName="Input";const ds=Y("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),A=i.forwardRef(({className:t,...s},a)=>e.jsx(we,{ref:a,className:p(ds(),t),...s}));A.displayName=we.displayName;const us=ct,Qe=i.forwardRef(({className:t,...s},a)=>e.jsx(ke,{ref:a,className:p("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Qe.displayName=ke.displayName;const ne=i.forwardRef(({className:t,...s},a)=>e.jsx(Se,{ref:a,className:p("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));ne.displayName=Se.displayName;const le=i.forwardRef(({className:t,...s},a)=>e.jsx(Te,{ref:a,className:p("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));le.displayName=Te.displayName;const ms=({onAuthSuccess:t})=>{const[s,a]=i.useState(""),[o,n]=i.useState(""),[u,g]=i.useState(""),[f,C]=i.useState(!1),[S,j]=i.useState(!1),{toast:v}=K(),h=async()=>{j(!0);try{const{error:d}=await N.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});if(d)throw d;v({title:"Redirecting to Google...",description:"You'll be redirected back after authentication."})}catch(d){v({title:"Google Sign In Failed",description:d.message,variant:"destructive"})}finally{j(!1)}},l=async()=>{if(!s||!o||!u){v({title:"Missing Information",description:"Please fill in all fields.",variant:"destructive"});return}C(!0);try{const{error:d}=await N.auth.signUp({email:s,password:o,options:{emailRedirectTo:`${window.location.origin}/`,data:{username:u}}});if(d)throw d;v({title:"Welcome to TaskForge! ðŸŽ‰",description:"Account created successfully! You can now start your quest!"}),t()}catch(d){v({title:"Sign Up Failed",description:d.message,variant:"destructive"})}finally{C(!1)}},T=async()=>{if(!s||!o){v({title:"Missing Information",description:"Please enter email and password.",variant:"destructive"});return}C(!0);try{const{error:d}=await N.auth.signInWithPassword({email:s,password:o});if(d)throw d;v({title:"Welcome Back! âš¡",description:"Successfully signed in to TaskForge!"}),t()}catch(d){v({title:"Sign In Failed",description:d.message,variant:"destructive"})}finally{C(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary/5 via-background to-accent/5",children:e.jsxs(w,{className:"w-full max-w-md glass-card animate-fade-in",children:[e.jsxs(Q,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"p-3 rounded-full primary-gradient animate-pulse",children:e.jsx(B,{className:"h-8 w-8 text-white"})})}),e.jsx($,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"TaskForge"}),e.jsx("p",{className:"text-muted-foreground",children:"Level up your productivity with gamified tasks"})]}),e.jsxs(k,{className:"space-y-4",children:[e.jsx(b,{onClick:h,disabled:S||f,variant:"outline",className:"w-full h-12 text-base hover:bg-accent/50 transition-all duration-200",children:S?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{children:"Connecting..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{children:"Continue with Google"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),e.jsxs(us,{defaultValue:"signin",className:"w-full",children:[e.jsxs(Qe,{className:"grid w-full grid-cols-2",children:[e.jsx(ne,{value:"signin",children:"Sign In"}),e.jsx(ne,{value:"signup",children:"Sign Up"})]}),e.jsxs(le,{value:"signin",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"signin-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"signin-email",type:"email",placeholder:"Enter your email",value:s,onChange:d=>a(d.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"signin-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"signin-password",type:"password",placeholder:"Enter your password",value:o,onChange:d=>n(d.target.value),className:"pl-10"})]})]}),e.jsx(b,{onClick:T,disabled:f||S,className:"w-full primary-gradient h-12 text-base",children:f?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Signing In..."})]}):"Sign In"})]}),e.jsxs(le,{value:"signup",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"signup-username",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(Nt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"signup-username",type:"text",placeholder:"Choose a username",value:u,onChange:d=>g(d.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"signup-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"signup-email",type:"email",placeholder:"Enter your email",value:s,onChange:d=>a(d.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"signup-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"signup-password",type:"password",placeholder:"Create a password",value:o,onChange:d=>n(d.target.value),className:"pl-10"})]})]}),e.jsx(b,{onClick:l,disabled:f||S,className:"w-full primary-gradient h-12 text-base",children:f?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Creating Account..."})]}):"Create Account"})]})]})]})]})})},xs=ft,ps=gt,$e=i.forwardRef(({className:t,children:s,...a},o)=>e.jsxs(Ce,{ref:o,className:p("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(dt,{asChild:!0,children:e.jsx(Le,{className:"h-4 w-4 opacity-50"})})]}));$e.displayName=Ce.displayName;const Ye=i.forwardRef(({className:t,...s},a)=>e.jsx(Re,{ref:a,className:p("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(bt,{className:"h-4 w-4"})}));Ye.displayName=Re.displayName;const Ke=i.forwardRef(({className:t,...s},a)=>e.jsx(_e,{ref:a,className:p("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Le,{className:"h-4 w-4"})}));Ke.displayName=_e.displayName;const We=i.forwardRef(({className:t,children:s,position:a="popper",...o},n)=>e.jsx(ut,{children:e.jsxs(Ie,{ref:n,className:p("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...o,children:[e.jsx(Ye,{}),e.jsx(mt,{className:p("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Ke,{})]})}));We.displayName=Ie.displayName;const fs=i.forwardRef(({className:t,...s},a)=>e.jsx(De,{ref:a,className:p("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));fs.displayName=De.displayName;const He=i.forwardRef(({className:t,children:s,...a},o)=>e.jsxs(Pe,{ref:o,className:p("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(xt,{children:e.jsx(wt,{className:"h-4 w-4"})})}),e.jsx(pt,{children:s})]}));He.displayName=Pe.displayName;const gs=i.forwardRef(({className:t,...s},a)=>e.jsx(Ee,{ref:a,className:p("-mx-1 my-1 h-px bg-muted",t),...s}));gs.displayName=Ee.displayName;const hs=Y("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ae({className:t,variant:s,...a}){return e.jsx("div",{className:p(hs({variant:s}),t),...a})}const Je=i.forwardRef(({className:t,value:s,...a},o)=>e.jsx(Ae,{ref:o,className:p("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:e.jsx(ht,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));Je.displayName=Ae.displayName;const Ze=i.forwardRef(({className:t,...s},a)=>e.jsx(Oe,{className:p("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:a,children:e.jsx(jt,{className:p("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ze.displayName=Oe.displayName;const js=[{id:"kunai",name:"Kunai",emoji:"ðŸ—¡ï¸",description:"Basic ninja tool",unlockCondition:"Complete first task",rarity:"common",levelRequired:1,category:"naruto"},{id:"shuriken",name:"Shuriken",emoji:"â­",description:"Throwing star",unlockCondition:"Complete 3 tasks",rarity:"common",levelRequired:2,category:"naruto"},{id:"baby_dragon",name:"Baby Dragon",emoji:"ðŸ‰",description:"Your first dragon companion",unlockCondition:"Reach level 3",rarity:"common",levelRequired:3,category:"dragons"},{id:"naruto",name:"Naruto Uzumaki",emoji:"ðŸ¥",description:"The knucklehead ninja!",unlockCondition:"Reach level 6",rarity:"rare",levelRequired:6,category:"naruto"},{id:"goku",name:"Son Goku",emoji:"ðŸ¥‹",description:"The legendary Saiyan warrior",unlockCondition:"Reach level 8",rarity:"rare",levelRequired:8,category:"dragonball"},{id:"fire_dragon",name:"Fire Dragon",emoji:"ðŸ”¥",description:"Breathes flames of determination",unlockCondition:"Complete 10 hard tasks",rarity:"rare",levelRequired:10,category:"dragons"},{id:"sasuke",name:"Sasuke Uchiha",emoji:"âš¡",description:"The last Uchiha",unlockCondition:"Reach level 12",rarity:"rare",levelRequired:12,category:"naruto"},{id:"vegeta",name:"Vegeta",emoji:"ðŸ‘‘",description:"The Prince of all Saiyans",unlockCondition:"Reach level 15",rarity:"rare",levelRequired:15,category:"dragonball"},{id:"kakashi",name:"Kakashi Hatake",emoji:"ðŸ“–",description:"The Copy Ninja",unlockCondition:"Reach level 18",rarity:"epic",levelRequired:18,category:"naruto"},{id:"super_saiyan",name:"Super Saiyan",emoji:"âš¡",description:"The legendary transformation",unlockCondition:"Reach level 20",rarity:"epic",levelRequired:20,category:"dragonball"},{id:"sung_jinwoo",name:"Sung Jin-Woo",emoji:"ðŸ—¡ï¸",description:"The Shadow Monarch rises",unlockCondition:"Reach level 25",rarity:"epic",levelRequired:25,category:"solo_leveling"},{id:"ice_dragon",name:"Ice Dragon",emoji:"â„ï¸",description:"Master of frozen domains",unlockCondition:"Complete 50 tasks",rarity:"epic",levelRequired:22,category:"dragons"},{id:"hokage_naruto",name:"Hokage Naruto",emoji:"ðŸ®",description:"The Seventh Hokage",unlockCondition:"Reach level 35",rarity:"legendary",levelRequired:35,category:"naruto"},{id:"ultra_instinct",name:"Ultra Instinct Goku",emoji:"ðŸŒŸ",description:"The ultimate form",unlockCondition:"Reach level 40",rarity:"legendary",levelRequired:40,category:"dragonball"},{id:"shadow_monarch",name:"Shadow Monarch",emoji:"ðŸ‘¤",description:"Ruler of the shadows",unlockCondition:"Reach level 50",rarity:"legendary",levelRequired:50,category:"solo_leveling"},{id:"cosmic_dragon",name:"Cosmic Dragon",emoji:"ðŸŒŒ",description:"Guardian of the universe",unlockCondition:"Reach max level",rarity:"legendary",levelRequired:100,category:"dragons"}],ys=[{text:"You got it! Awesome work! ðŸŽ‰",icon:V,color:"text-yellow-500"},{text:"Incredible! You're on fire! ðŸ”¥",icon:ie,color:"text-red-500"},{text:"Fantastic job! Keep crushing it! âš¡",icon:B,color:"text-blue-500"},{text:"Outstanding! You're unstoppable! âœ¨",icon:oe,color:"text-purple-500"},{text:"Amazing progress! You're leveling up! ðŸŒŸ",icon:qe,color:"text-yellow-400"},{text:"Perfect execution! Master warrior! ðŸŽ¯",icon:M,color:"text-green-500"},{text:"Legendary performance! Keep going! ðŸ’Ž",icon:oe,color:"text-cyan-500"},{text:"You're crushing your goals! Beast mode! ðŸš€",icon:ie,color:"text-orange-500"}],vs=t=>{const a={easy:[{text:"Nice start! Every journey begins with a single step! ðŸŒ±",icon:M,color:"text-green-400"},{text:"Well done! Building momentum! ðŸ’ª",icon:B,color:"text-blue-400"}],medium:[{text:"Great job! You're getting stronger! ðŸ’ª",icon:qe,color:"text-yellow-500"},{text:"Excellent work! Rising to the challenge! âš¡",icon:B,color:"text-blue-500"}],hard:[{text:"Incredible! You conquered a tough one! ðŸ†",icon:V,color:"text-yellow-600"},{text:"Outstanding! True warrior spirit! ðŸ—¡ï¸",icon:ie,color:"text-red-500"}],boss:[{text:"LEGENDARY! You defeated the boss! ðŸ‘‘",icon:V,color:"text-purple-600"},{text:"EPIC WIN! You're a true champion! ðŸ†",icon:oe,color:"text-gold"}]}[t]||ys;return a[Math.floor(Math.random()*a.length)]},re={easy:{xp:10,coins:5,color:"text-green-400",label:"Easy"},medium:{xp:25,coins:10,color:"text-yellow-400",label:"Medium"},hard:{xp:50,coins:20,color:"text-orange-400",label:"Hard"},boss:{xp:100,coins:30,color:"text-purple-400",label:"Boss"}},Ns=[{title:"DSA Practice",category:"Coding",difficulty:"medium"},{title:"Flutter Dev",category:"Development",difficulty:"hard"},{title:"System Design Review",category:"Learning",difficulty:"medium"},{title:"Brain Detox",category:"Wellness",difficulty:"easy"}],bs=()=>{const{user:t}=ce(),{toast:s}=K(),a=Ft(),[o,n]=i.useState({isOpen:!1,quote:null,xpGained:0,coinsGained:0,taskTitle:""}),{data:u=[],isLoading:g}=Z({queryKey:["tasks",t==null?void 0:t.id],queryFn:async()=>{if(!t)return[];const{data:x,error:m}=await N.from("tasks").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(m)throw m;return x},enabled:!!t}),{data:f,isLoading:C}=Z({queryKey:["player_stats",t==null?void 0:t.id],queryFn:async()=>{if(!t)return null;const{data:x,error:m}=await N.from("player_stats").select("*").eq("user_id",t.id).single();if(m)throw m;return x},enabled:!!t}),{data:S=[]}=Z({queryKey:["unlocked_stickers",t==null?void 0:t.id],queryFn:async()=>{if(!t)return[];const{data:x,error:m}=await N.from("unlocked_stickers").select("sticker_id").eq("user_id",t.id);if(m)throw m;return x.map(c=>c.sticker_id)},enabled:!!t}),j=q({mutationFn:async x=>{if(!t)throw new Error("User not authenticated");const{data:m,error:c}=await N.from("tasks").insert([{...x,user_id:t.id}]).select().single();if(c)throw c;return m},onSuccess:()=>{a.invalidateQueries({queryKey:["tasks"]}),s({title:"Quest Added!",description:"New challenge awaits completion!"})}}),v=q({mutationFn:async({id:x,updates:m})=>{const{data:c,error:y}=await N.from("tasks").update(m).eq("id",x).select().single();if(y)throw y;return c},onSuccess:()=>{a.invalidateQueries({queryKey:["tasks"]})}}),h=q({mutationFn:async x=>{const{error:m}=await N.from("tasks").delete().eq("id",x);if(m)throw m},onSuccess:()=>{a.invalidateQueries({queryKey:["tasks"]}),s({title:"Quest Removed",description:"Task has been deleted from your quest log."})}}),l=q({mutationFn:async x=>{if(!t||!f)throw new Error("User or stats not available");const{data:m,error:c}=await N.from("player_stats").update(x).eq("user_id",t.id).select().single();if(c)throw c;return m},onSuccess:()=>{a.invalidateQueries({queryKey:["player_stats"]})}}),T=q({mutationFn:async x=>{if(!t)throw new Error("User not authenticated");const{data:m,error:c}=await N.from("unlocked_stickers").insert([{user_id:t.id,sticker_id:x}]).select().single();if(c&&!c.message.includes("duplicate"))throw c;return m},onSuccess:()=>{a.invalidateQueries({queryKey:["unlocked_stickers"]})}}),d=async(x,m)=>{if(!t)return;const c=js.filter(y=>x>=y.levelRequired&&!S.includes(y.id));for(const y of c)try{await T.mutateAsync(y.id),ee({particleCount:100,spread:70,origin:{y:.6}}),s({title:"ðŸŽ‰ New Sticker Unlocked!",description:`${y.emoji} ${y.name} - ${y.description}`})}catch(O){console.log("Sticker already unlocked or error:",O)}},D=async x=>{const m=u.find(I=>I.id===x);if(!m||m.state!=="inprogress"||!f)return;const c=re[m.difficulty],y=f.total_xp+c.xp,O=f.coins+c.coins,P=Math.floor(y/100)+1;await v.mutateAsync({id:x,updates:{state:"completed",completed_at:new Date().toISOString()}});const F=new Date,W=u.some(I=>I.state==="completed"&&I.completed_at&&new Date(I.completed_at).toDateString()===F.toDateString());await l.mutateAsync({total_xp:y,coins:O,level:P,streak:W?f.streak:f.streak+1,last_completed_date:F.toISOString()}),P>f.level&&(ee({particleCount:150,spread:70,origin:{y:.6}}),s({title:`ðŸŽ‰ Level Up! Level ${P}`,description:"You've gained incredible power!"}),await d(P));const H=vs(m.difficulty);n({isOpen:!0,quote:H,xpGained:c.xp,coinsGained:c.coins,taskTitle:m.title}),ee({particleCount:50,spread:50,origin:{y:.7}})};return i.useEffect(()=>{if(!t||!u)return;const x=new Date().toDateString();u.some(c=>c.is_default&&new Date(c.created_at).toDateString()===x)||Ns.forEach(c=>{j.mutate({title:c.title,category:c.category,difficulty:c.difficulty,state:"todo",is_default:!0,deadline:new Date(Date.now()+24*60*60*1e3).toISOString()})})},[t,u]),{tasks:u,playerStats:f,unlockedStickers:S,celebrationData:o,setCelebrationData:n,loading:g||C,createTask:j.mutate,updateTask:v.mutate,deleteTask:h.mutate,completeTask:D,startTask:x=>v.mutate({id:x,updates:{state:"inprogress"}}),revertTask:async x=>{const m=u.find(y=>y.id===x);if(!m||m.state!=="completed"||!f)return;const c=re[m.difficulty];await v.mutateAsync({id:x,updates:{state:"todo",completed_at:null}}),await l.mutateAsync({total_xp:Math.max(0,f.total_xp-c.xp),coins:Math.max(0,f.coins-c.coins)}),s({title:"Quest Reverted",description:`Task moved back to To Do. -${c.xp} XP, -${c.coins} coins.`})},DIFFICULTY_CONFIG:re}},ws=()=>{const[t,s]=i.useState(new Date);i.useEffect(()=>{const n=setInterval(()=>{s(new Date)},1e3);return()=>clearInterval(n)},[]);const a=n=>n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),o=n=>n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(kt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:a(t)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:o(t)})]})]})},ks=({isOpen:t,onClose:s,quote:a,xpGained:o,coinsGained:n,taskTitle:u})=>{if(i.useEffect(()=>{if(t){const f=setTimeout(()=>{s()},4e3);return()=>clearTimeout(f)}},[t,s]),!t)return null;const g=a.icon;return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:e.jsx(w,{className:"w-full max-w-md mx-4 glass-card animate-scale-in",children:e.jsxs(k,{className:"p-6 text-center relative",children:[e.jsx(b,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:s,children:e.jsx(Fe,{className:"h-4 w-4"})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-4 rounded-full bg-gradient-to-r from-primary/20 to-accent/20 mb-4 animate-pulse",children:e.jsx(g,{className:`h-12 w-12 ${a.color}`})}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Task Completed!"}),e.jsxs("p",{className:"text-lg font-medium text-center mb-4",children:['"',u,'"']}),e.jsx("div",{className:`text-xl font-bold ${a.color} mb-4 animate-bounce`,children:a.text}),e.jsxs("div",{className:"flex justify-center space-x-6 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-xp",children:["+",o]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"XP"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-coin",children:["+",n]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Coins"})]})]})]}),e.jsx(b,{onClick:s,className:"w-full primary-gradient",children:"Continue Quest"})]})})})},Ss=rt.lazy(()=>zt(()=>import("./StickerSystem-CDOglnpH.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]))),U=[{name:"Bronze",minXP:0,color:"text-bronze",icon:"ðŸ¥‰"},{name:"Silver",minXP:100,color:"text-silver",icon:"ðŸ¥ˆ"},{name:"Gold",minXP:300,color:"text-gold",icon:"ðŸ¥‡"},{name:"Platinum",minXP:600,color:"text-platinum",icon:"ðŸ’Ž"},{name:"Ultra",minXP:1e3,color:"text-ultra",icon:"â­"}],Ts=()=>{const[t,s]=i.useState(""),[a,o]=i.useState(""),[n,u]=i.useState("easy"),[g,f]=i.useState("all"),{theme:C,toggleTheme:S}=as(),{user:j,signOut:v}=ce(),{tasks:h,playerStats:l,unlockedStickers:T,celebrationData:d,setCelebrationData:D,loading:x,createTask:m,deleteTask:c,startTask:y,completeTask:O,revertTask:P,DIFFICULTY_CONFIG:F}=bs(),W=()=>{!t.trim()||!a.trim()||(m({title:t,category:a,difficulty:n,state:"todo",is_default:!1}),s(""),o(""))},H=r=>{switch(r){case"todo":return e.jsx(M,{className:"h-4 w-4 text-muted-foreground"});case"inprogress":return e.jsx(me,{className:"h-4 w-4 text-blue-400"});case"completed":return e.jsx(xe,{className:"h-4 w-4 text-green-400"});case"missed":return e.jsx(Et,{className:"h-4 w-4 text-red-400"});default:return e.jsx(M,{className:"h-4 w-4 text-muted-foreground"})}},I=r=>{switch(r){case"todo":return"To Do";case"inprogress":return"In Progress";case"completed":return"Completed";case"missed":return"Missed";default:return"Unknown"}},et=h.filter(r=>g==="all"?!0:r.state===g),tt=()=>l&&U.slice().reverse().find(r=>l.total_xp>=r.minXP)||U[0],st=()=>l?U.find(r=>l.total_xp<r.minXP):U[1];if(x)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"Loading TaskForge..."})]})});const L=tt(),E=st(),at=E&&l?(l.total_xp-L.minXP)/(E.minXP-L.minXP)*100:100;return e.jsxs("div",{className:"min-h-screen p-4 space-y-6",children:[e.jsx(ks,{isOpen:d.isOpen,onClose:()=>D(r=>({...r,isOpen:!1})),quote:d.quote,xpGained:d.xpGained,coinsGained:d.coinsGained,taskTitle:d.taskTitle}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"TaskForge"}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["Welcome back, ",j==null?void 0:j.email,"! Ready to level up?"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Crafted with love by Yuvi."})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ws,{}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{className:"h-4 w-4"}),e.jsx(Ze,{checked:C==="dark",onCheckedChange:S}),e.jsx(Tt,{className:"h-4 w-4"})]}),e.jsxs(b,{onClick:v,variant:"outline",size:"sm",children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(w,{className:"glass-card",children:e.jsxs(k,{className:"p-4 flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full xp-gradient",children:e.jsx(B,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Level ",l.level]}),e.jsxs("p",{className:"text-2xl font-bold text-xp",children:[l.total_xp," XP"]})]})]})}),e.jsx(w,{className:"glass-card",children:e.jsxs(k,{className:"p-4 flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full coin-gradient",children:e.jsx(Rt,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Coins"}),e.jsx("p",{className:"text-2xl font-bold text-coin",children:l.coins})]})]})}),e.jsx(w,{className:"glass-card",children:e.jsxs(k,{className:"p-4 flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full primary-gradient",children:e.jsx(V,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tier"}),e.jsxs("p",{className:`text-xl font-bold ${L.color}`,children:[L.icon," ",L.name]})]})]})}),e.jsx(w,{className:"glass-card",children:e.jsxs(k,{className:"p-4 flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-destructive",children:e.jsx(_t,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Streak"}),e.jsxs("p",{className:"text-2xl font-bold text-destructive",children:[l.streak," days"]})]})]})})]}),E&&l&&e.jsx(w,{className:"glass-card",children:e.jsxs(k,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Progress to ",E.name," ",E.icon]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.total_xp,"/",E.minXP," XP"]})]}),e.jsx(Je,{value:at,className:"h-2"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs(w,{className:"glass-card",children:[e.jsx(Q,{children:e.jsxs($,{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"h-5 w-5"}),e.jsx("span",{children:"Forge New Quest"})]})}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(_,{placeholder:"Quest title...",value:t,onChange:r=>s(r.target.value)}),e.jsx(_,{placeholder:"Category...",value:a,onChange:r=>o(r.target.value)})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(xs,{value:n,onValueChange:r=>u(r),children:[e.jsx($e,{className:"flex-1",children:e.jsx(ps,{})}),e.jsx(We,{children:Object.entries(F).map(([r,R])=>e.jsx(He,{value:r,children:e.jsxs("span",{className:R.color,children:[R.label," (+",R.xp," XP, +",R.coins," coins)"]})},r))})]}),e.jsxs(b,{onClick:W,className:"primary-gradient",children:[e.jsx(It,{className:"h-4 w-4"}),"Forge Quest"]})]})]})]}),e.jsx(w,{className:"glass-card",children:e.jsx(k,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Dt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Filter:"}),e.jsx("div",{className:"flex space-x-2",children:["all","todo","inprogress","completed"].map(r=>e.jsx(b,{variant:g===r?"default":"outline",size:"sm",onClick:()=>f(r),className:g===r?"primary-gradient":"",children:r==="all"?"All":r==="todo"?"To Do":r==="inprogress"?"In Progress":"Completed"},r))})]})})}),e.jsx("div",{className:"space-y-3",children:et.map(r=>{const R=F[r.difficulty];return e.jsx(w,{className:`glass-card transition-all duration-300 hover-scale ${r.state==="completed"?"opacity-60":r.state==="missed"?"border-red-500/50 bg-red-500/5":r.state==="inprogress"?"border-blue-500/50 bg-blue-500/5":"hover:scale-[1.02]"}`,children:e.jsx(k,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[H(r.state),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:`font-medium ${r.state==="completed"?"line-through text-muted-foreground":""}`,children:r.title}),r.is_default&&e.jsx(ae,{variant:"outline",className:"text-xs",children:"Daily"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(ae,{variant:"secondary",className:R.color,children:R.label}),e.jsx("span",{className:"text-xs text-muted-foreground",children:r.category}),r.state!=="completed"&&r.state!=="missed"&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",R.xp," XP, +",R.coins," coins"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{variant:"outline",className:"text-xs",children:I(r.state)}),r.state==="todo"&&e.jsxs(e.Fragment,{children:[e.jsxs(b,{size:"sm",variant:"outline",onClick:()=>y(r.id),children:[e.jsx(me,{className:"h-3 w-3"}),"Start"]}),e.jsx(b,{size:"sm",variant:"destructive",onClick:()=>c(r.id),children:e.jsx(J,{className:"h-3 w-3"})})]}),r.state==="inprogress"&&e.jsxs(e.Fragment,{children:[e.jsxs(b,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>O(r.id),children:[e.jsx(xe,{className:"h-3 w-3"}),"Complete"]}),e.jsx(b,{size:"sm",variant:"destructive",onClick:()=>c(r.id),children:e.jsx(J,{className:"h-3 w-3"})})]}),r.state==="completed"&&e.jsxs(e.Fragment,{children:[e.jsxs(b,{size:"sm",variant:"outline",onClick:()=>P(r.id),children:[e.jsx(Pt,{className:"h-3 w-3"}),"Revert"]}),e.jsx(b,{size:"sm",variant:"destructive",onClick:()=>c(r.id),children:e.jsx(J,{className:"h-3 w-3"})})]})]})]})})},r.id)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i.Suspense,{fallback:e.jsx("div",{children:"Loading stickers..."}),children:e.jsx(Ss,{userLevel:(l==null?void 0:l.level)||1,unlockedStickers:T})}),e.jsxs(w,{className:"glass-card",children:[e.jsx(Q,{children:e.jsx($,{children:"Quest Stats"})}),e.jsxs(k,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Quests"}),e.jsx("span",{className:"font-medium",children:h.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed"}),e.jsx("span",{className:"font-medium text-green-400",children:h.filter(r=>r.state==="completed").length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"In Progress"}),e.jsx("span",{className:"font-medium text-blue-400",children:h.filter(r=>r.state==="inprogress").length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Success Rate"}),e.jsxs("span",{className:"font-medium",children:[h.length>0?Math.round(h.filter(r=>r.state==="completed").length/h.length*100):0,"%"]})]})]})]})]})]})]})},Cs=()=>{const{user:t,loading:s}=ce();return s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"Loading TaskForge..."})]})}):t?e.jsx(Ts,{}):e.jsx(ms,{onAuthSuccess:()=>{}})},Rs=()=>{const t=Bt();return i.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},_s=new Lt,Is=()=>e.jsx(qt,{client:_s,children:e.jsx(ss,{children:e.jsx(os,{children:e.jsxs(es,{children:[e.jsx(Jt,{}),e.jsx(Zt,{}),e.jsx(Ut,{basename:"/quest-log-boost/",children:e.jsxs(Xt,{children:[e.jsx(pe,{path:"/",element:e.jsx(Cs,{})}),e.jsx(pe,{path:"*",element:e.jsx(Rs,{})})]})})]})})})});it(document.getElementById("root")).render(e.jsx(Is,{}));export{ae as B,w as C,js as S,Q as a,$ as b,p as c,k as d};
